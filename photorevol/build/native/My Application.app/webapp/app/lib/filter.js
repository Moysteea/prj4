Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(k,l,m,f){var a=this.lateBindingMap,j=this.getAll(f),h=j.length,c,e,d;if(typeof k=="string"&&l.isIdentifiable){d=l.getId();c=a[d];if(c){if(c[k]){return false}else{c[k]=true}}else{a[d]=c={};c[k]=true}}else{if(h>0){while(h--){e=j[h];if(e.fn===k&&e.scope===l){e.options=m;return false}}}}e=this.create(k,l,m,f);if(m&&m.prepend){delete m.prepend;j.unshift(e)}else{j.push(e)}this.length++;return true},getAt:function(c,a){return this.getAll(a)[c]},getAll:function(a){if(!a){a=this.currentOrder}return this.listeners[a]},count:function(a){return this.getAll(a).length},create:function(e,d,c,a){return{stack:this,fn:e,firingFn:false,boundFn:false,isLateBinding:typeof e=="string",scope:d,options:c||{},order:a}},remove:function(k,l,f){var j=this.getAll(f),h=j.length,c=false,a=this.lateBindingMap,e,d;if(h>0){while(h--){e=j[h];if(e.fn===k&&e.scope===l){j.splice(h,1);c=true;this.length--;if(typeof k=="string"&&l.isIdentifiable){d=l.getId();if(a[d]&&a[d][k]){delete a[d][k]}}break}}}return c}});Ext.define("Ext.event.Controller",{isFiring:false,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.setInfo(a);return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(k,f){var p=this.listenerStacks,o=this.firingListeners,e=this.firingArguments,m=o.push,j=p.length,l,n,d,q,a=false,c=false,h;o.length=0;if(f){if(f.order!=="after"){a=true}else{c=true}}if(j===1){l=p[0].listeners;n=l.before;d=l.current;q=l.after;if(n.length>0){m.apply(o,n)}if(a){m.call(o,f)}if(d.length>0){m.apply(o,d)}if(c){m.call(o,f)}if(q.length>0){m.apply(o,q)}}else{for(h=0;h<j;h++){n=p[h].listeners.before;if(n.length>0){m.apply(o,n)}}if(a){m.call(o,f)}for(h=0;h<j;h++){d=p[h].listeners.current;if(d.length>0){m.apply(o,d)}}if(c){m.call(o,f)}for(h=0;h<j;h++){q=p[h].listeners.after;if(q.length>0){m.apply(o,q)}}}if(o.length===0){return this}if(!k){k=[]}e.length=0;e.push.apply(e,k);e.push(null,this);this.doFire();return this},doFire:function(){var m=this.firingListeners,d=this.firingArguments,j=d.length-2,e,h,c,q,k,p,a,l,n,f,o;this.isPausing=false;this.isPaused=false;this.isStopped=false;this.isFiring=true;for(e=0,h=m.length;e<h;e++){c=m[e];q=c.options;k=c.fn;p=c.firingFn;a=c.boundFn;l=c.isLateBinding;n=c.scope;if(l&&a&&a!==n[k]){a=false;p=false}if(!a){if(l){a=n[k];if(!a){continue}}else{a=k}c.boundFn=a}if(!p){p=a;if(q.buffer){p=Ext.Function.createBuffered(p,q.buffer,n)}if(q.delay){p=Ext.Function.createDelayed(p,q.delay,n)}c.firingFn=p}d[j]=q;f=d;if(q.args){f=q.args.concat(f)}if(q.single===true){c.stack.remove(k,n,c.order)}o=p.apply(n,f);if(o===false){this.stop()}if(this.isStopped){break}if(this.isPausing){this.isPaused=true;m.splice(0,e+1);return}}this.isFiring=false;this.listenerStacks=null;m.length=0;d.length=0;this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=false;if(this.isPaused&&this.firingListeners.length>0){this.isPaused=false;this.doFire()}if(a){a.resume()}return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;this.isStopped=true;if(a){this.connectingController=null;a.stop()}this.isFiring=false;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=true;if(a){a.pause()}return this}});Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var c=this.handledEvents,a,d,f,e;a=this.handledEventsMap={};for(d=0,f=c.length;d<f;d++){e=c[d];a[e]=true}this.subscribers={};return this},handles:function(a){var c=this.handledEventsMap;return !!c[a]||!!c["*"]||a==="*"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return false},unsubscribe:function(){return false},unsubscribeAll:function(){delete this.subscribers;this.subscribers={};return this},notify:function(){return false},getTargetType:function(){return this.targetType},dispatch:function(d,a,c){this.dispatcher.doDispatchEvent(this.targetType,d,a,c)}});Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObject",isStopped:false,set:function(a,c){if(arguments.length===1&&typeof a!="string"){var d=a;for(a in d){if(d.hasOwnProperty(a)){this[a]=d[a]}}}else{this[a]=d[a]}},stopEvent:function(){return this.stopPropagation()},stopPropagation:function(){this.isStopped=true;return this}});Ext.define("Ext.event.Dispatcher",{requires:["Ext.event.ListenerStack","Ext.event.Controller"],statics:{getInstance:function(){if(!this.instance){this.instance=new this()}return this.instance},setInstance:function(a){this.instance=a;return this}},config:{publishers:{}},wildcard:"*",constructor:function(a){this.listenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(f,i,d,c){var e=this.listenerStacks,h=e[f],a;c=Boolean(c);if(!h){if(c){e[f]=h={}}else{return null}}h=h[i];if(!h){if(c){e[f][i]=h={}}else{return null}}a=h[d];if(!a){if(c){h[d]=a=new Ext.event.ListenerStack()}else{return null}}return a},getController:function(e,h,d,c){var a=this.controller,f={targetType:e,target:h,eventName:d};if(!a){this.controller=a=new Ext.event.Controller()}if(a.isFiring){a=new Ext.event.Controller()}a.setInfo(f);if(c&&a!==c){a.connect(c)}return a},applyPublishers:function(d){var a,c;this.publishersCache={};for(a in d){if(d.hasOwnProperty(a)){c=d[a];this.registerPublisher(c)}}return d},registerPublisher:function(c){var a=this.activePublishers,d=c.getTargetType(),e=a[d];if(!e){a[d]=e=[]}e.push(c);c.setDispatcher(this);return this},getCachedActivePublishers:function(d,c){var a=this.publishersCache,e;if((e=a[d])&&(e=e[c])){return e}return null},cacheActivePublishers:function(d,c,e){var a=this.publishersCache;if(!a[d]){a[d]={}}a[d][c]=e;return e},getActivePublishers:function(h,c){var j,a,d,f,e;if((j=this.getCachedActivePublishers(h,c))){return j}a=this.activePublishers[h];if(a){j=[];for(d=0,f=a.length;d<f;d++){e=a[d];if(e.handles(c)){j.push(e)}}}else{j=this.noActivePublishers}return this.cacheActivePublishers(h,c,j)},hasListener:function(d,e,c){var a=this.getListenerStack(d,e,c);if(a){return a.count()>0}return false},addListener:function(e,f,a){var h=this.getActivePublishers(e,a),d=h.length,c;if(d>0){for(c=0;c<d;c++){h[c].subscribe(f,a)}}return this.doAddListener.apply(this,arguments)},doAddListener:function(i,j,d,h,f,e,a){var c=this.getListenerStack(i,j,d,true);return c.add(h,f,e,a)},removeListener:function(e,f,a){var h=this.getActivePublishers(e,a),d=h.length,c;if(d>0){for(c=0;c<d;c++){h[c].unsubscribe(f,a)}}return this.doRemoveListener.apply(this,arguments)},doRemoveListener:function(h,i,d,f,e,a){var c=this.getListenerStack(h,i,d);if(c===null){return false}return c.remove(f,e,a)},clearListeners:function(a,f,e){var l=this.listenerStacks,h=arguments.length,c,k,d,j;if(h===3){if(l[a]&&l[a][f]){this.removeListener(a,f,e);delete l[a][f][e]}}else{if(h===2){if(l[a]){c=l[a][f];if(c){for(e in c){if(c.hasOwnProperty(e)){k=this.getActivePublishers(a,e);for(d=0,h=k.length;d<h;d++){k[d].unsubscribe(f,e,true)}}}delete l[a][f]}}}else{if(h===1){k=this.activePublishers[a];for(d=0,h=k.length;d<h;d++){k[d].unsubscribeAll()}delete l[a]}else{k=this.activePublishers;for(a in k){if(k.hasOwnProperty(a)){j=k[a];for(d=0,h=j.length;d<h;d++){j[d].unsubscribeAll()}}}delete this.listenerStacks;this.listenerStacks={}}}}return this},dispatchEvent:function(e,f,a){var h=this.getActivePublishers(e,a),d=h.length,c;if(d>0){for(c=0;c<d;c++){h[c].notify(f,a)}}return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(a,i,h,k,d,c){var j=this.getListenerStack(a,i,h),e=this.getWildcardListenerStacks(a,i,h),f;if((j===null||j.length==0)){if(e.length==0&&!d){return}}else{e.push(j)}f=this.getController(a,i,h,c);f.setListenerStacks(e);f.fire(k,d);return !f.isInterrupted()},getWildcardListenerStacks:function(i,j,e){var h=[],c=this.wildcard,d=e!==c,f=j!==c,a;if(d&&(a=this.getListenerStack(i,j,c))){h.push(a)}if(f&&(a=this.getListenerStack(i,c,e))){h.push(a)}return h}});Ext.define("Ext.event.Dom",{extend:"Ext.event.Event",constructor:function(a){var d=a.target,c;if(d&&d.nodeType!==1){d=d.parentNode}c=a.changedTouches;if(c){c=c[0];this.pageX=c.pageX;this.pageY=c.pageY}else{this.pageX=a.pageX;this.pageY=a.pageY}this.browserEvent=this.event=a;this.target=this.delegatedTarget=d;this.type=a.type;this.timeStamp=this.time=a.timeStamp;if(typeof this.time!="number"){this.time=new Date(this.time).getTime()}return this},stopEvent:function(){this.preventDefault();return this.callParent()},preventDefault:function(){this.browserEvent.preventDefault()},getPageX:function(){return this.browserEvent.pageX},getPageY:function(){return this.browserEvent.pageY},getXY:function(){if(!this.xy){this.xy=[this.getPageX(),this.getPageY()]}return this.xy},getTarget:function(c,d,a){if(arguments.length===0){return this.delegatedTarget}return c?Ext.fly(this.target).findParent(c,d,a):(a?Ext.get(this.target):this.target)},getTime:function(){return this.time},setDelegatedTarget:function(a){this.delegatedTarget=a},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn}});Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.env.Browser","Ext.Element","Ext.event.Dom"],targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,handledEvents:["click","focus","blur","mousemove","mousedown","mouseup","mouseover","mouseout","keyup","keydown","keypress","submit","transitionend","animationstart","animationend"],classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",constructor:function(){var h=this.getHandledEvents(),f={},c,d,a,e;this.doBubbleEventsMap={click:true,submit:true,mousedown:true,mousemove:true,mouseup:true,mouseover:true,mouseout:true,transitionend:true};this.onEvent=Ext.Function.bind(this.onEvent,this);for(c=0,d=h.length;c<d;c++){a=h[c];e=this.getVendorEventName(a);f[e]=a;this.attachListener(e)}this.eventNameMap=f;return this.callParent()},getSubscribers:function(a){var d=this.subscribers,c=d[a];if(!c){c=d[a]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}}return c},getVendorEventName:function(a){if(a==="transitionend"){a=Ext.browser.getVendorProperyName("transitionEnd")}else{if(a==="animationstart"){a=Ext.browser.getVendorProperyName("animationStart")}else{if(a==="animationend"){a=Ext.browser.getVendorProperyName("animationEnd")}}}return a},attachListener:function(a){document.addEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},removeListener:function(a){document.removeEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},doesEventBubble:function(a){return !!this.doBubbleEventsMap[a]},subscribe:function(i,h){if(!this.handles(h)){return false}var f=i.match(this.idOrClassSelectorRegex),a=this.getSubscribers(h),d=a.id,e=a.className,c=a.selector,j,k;if(f!==null){j=f[1];k=f[2];if(j==="#"){if(d.hasOwnProperty(k)){d[k]++;return true}d[k]=1;d.$length++}else{if(e.hasOwnProperty(k)){e[k]++;return true}e[k]=1;e.$length++}}else{if(i===this.SELECTOR_ALL){a.all++}else{if(c.hasOwnProperty(i)){c[i]++;return true}c[i]=1;c.push(i)}}a.$length++;return true},unsubscribe:function(i,h,l){if(!this.handles(h)){return false}var f=i.match(this.idOrClassSelectorRegex),a=this.getSubscribers(h),d=a.id,e=a.className,c=a.selector,j,k;l=Boolean(l);if(f!==null){j=f[1];k=f[2];if(j==="#"){if(!d.hasOwnProperty(k)||(!l&&--d[k]>0)){return true}delete d[k];d.$length--}else{if(!e.hasOwnProperty(k)||(!l&&--e[k]>0)){return true}delete e[k];e.$length--}}else{if(i===this.SELECTOR_ALL){if(l){a.all=0}else{a.all--}}else{if(!c.hasOwnProperty(i)||(!l&&--c[i]>0)){return true}delete c[i];Ext.Array.remove(c,i)}}a.$length--;return true},getElementTarget:function(a){if(a.nodeType!==1){a=a.parentNode;if(!a||a.nodeType!==1){return null}}return a},getBubblingTargets:function(c){var a=[];if(!c){return a}do{a[a.length]=c;c=c.parentNode}while(c&&c.nodeType===1);return a},dispatch:function(d,a,c){c.push(c[0].target);this.callParent(arguments)},publish:function(c,a,d){var e=this.getSubscribers(c),f;if(e.$length===0||!this.doPublish(e,c,a,d)){f=this.getSubscribers("*");if(f.$length>0){this.doPublish(f,c,a,d)}}return this},doPublish:function(h,l,z,w){var t=h.id,k=h.className,c=h.selector,r=t.$length>0,a=k.$length>0,n=c.length>0,q=h.all>0,A={},f=[w],s=false,o=this.classNameSplitRegex,x,m,v,e,B,p,d,y,u;for(x=0,m=z.length;x<m;x++){B=z[x];w.setDelegatedTarget(B);if(r){p=B.id;if(p){if(t.hasOwnProperty(p)){s=true;this.dispatch("#"+p,l,f)}}}if(a){d=B.className;if(d){y=d.split(o);for(v=0,e=y.length;v<e;v++){d=y[v];if(!A[d]){A[d]=true;if(k.hasOwnProperty(d)){s=true;this.dispatch("."+d,l,f)}}}}}if(w.isStopped){return s}}if(q&&!s){w.setDelegatedTarget(w.browserEvent.target);s=true;this.dispatch(this.SELECTOR_ALL,l,f);if(w.isStopped){return s}}if(n){for(v=0,e=z.length;v<e;v++){B=z[v];for(x=0,m=c.length;x<m;x++){u=c[x];if(this.matchesSelector(B,u)){w.setDelegatedTarget(B);s=true;this.dispatch(u,l,f)}if(w.isStopped){return s}}}}return s},matchesSelector:function(c,a){if("webkitMatchesSelector" in c){return c.webkitMatchesSelector(a)}return Ext.DomQuery.is(c,a)},onEvent:function(f){var c=this.eventNameMap[f.type];if(!c||this.getSubscribersCount(c)===0){return}var d=this.getElementTarget(f.target),a;if(!d){return}if(this.doesEventBubble(c)){a=this.getBubblingTargets(d)}else{a=[d]}this.publish(c,a,new Ext.event.Dom(f))},getSubscribersCount:function(a){if(!this.handles(a)){return 0}return this.getSubscribers(a).$length+this.getSubscribers("*").$length}});Ext.define("Ext.util.Point",{radianToDegreeConstant:180/Math.PI,statics:{fromEvent:function(c){var a=c.changedTouches,d=(a&&a.length>0)?a[0]:c;return this.fromTouch(d)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){if(!a){return new this(0,0)}if(!(a instanceof this)){return new this(a.x,a.y)}return a}},constructor:function(a,c){if(typeof a=="undefined"){a=0}if(typeof c=="undefined"){c=0}this.x=a;this.y=c;return this},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return(this.x===a.x&&this.y===a.y)},isCloseTo:function(d,c){if(typeof c=="number"){c={x:c};c.y=c.x}var a=d.x,h=d.y,f=c.x,e=c.y;return(this.x<=a+f&&this.x>=a-f&&this.y<=h+e&&this.y>=h-e)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},translate:function(a,c){this.x+=a;this.y+=c;return this},roundedEquals:function(a){return(Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y))},getDistanceTo:function(c){var d=this.x-c.x,a=this.y-c.y;return Math.sqrt(d*d+a*a)},getAngleTo:function(c){var d=this.x-c.x,a=this.y-c.y;return Math.atan2(a,d)*this.radianToDegreeConstant}});Ext.define("Ext.event.Touch",{extend:"Ext.event.Dom",requires:["Ext.util.Point"],constructor:function(a,c){if(c){this.set(c)}this.touchesMap={};this.changedTouches=this.cloneTouches(a.changedTouches);this.touches=this.cloneTouches(a.touches);this.targetTouches=this.cloneTouches(a.targetTouches);return this.callParent([a])},clone:function(){return new this.self(this)},setTargets:function(a){this.doSetTargets(this.changedTouches,a);this.doSetTargets(this.touches,a);this.doSetTargets(this.targetTouches,a)},doSetTargets:function(h,e){var d,f,j,c,a;for(d=0,f=h.length;d<f;d++){j=h[d];c=j.identifier;a=e[c];if(a){j.targets=a}}},cloneTouches:function(h){var f=this.touchesMap,k=[],e=null,c,d,j,a;for(c=0,d=h.length;c<d;c++){j=h[c];a=j.identifier;if(e!==null&&a===e){a++}e=a;if(!f[a]){f[a]={pageX:j.pageX,pageY:j.pageY,identifier:a,target:j.target,timeStamp:j.timeStamp,point:Ext.util.Point.fromTouch(j),targets:j.targets}}k[c]=f[a]}return k}});Ext.define("Ext.event.publisher.TouchGesture",{extend:"Ext.event.publisher.Dom",requires:["Ext.util.Point","Ext.event.Touch"],handledEvents:["touchstart","touchmove","touchend","touchcancel"],moveEventName:"touchmove",config:{moveThrottle:1,buffering:{enabled:false,interval:10},recognizers:{}},currentTouchesCount:0,constructor:function(a){this.processEvents=Ext.Function.bind(this.processEvents,this);this.eventProcessors={touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd};this.eventToRecognizerMap={};this.activeRecognizers=[];this.currentRecognizers=[];this.currentTargets={};this.currentTouches={};this.buffer=[];this.initConfig(a);return this.callParent()},applyBuffering:function(a){if(a.enabled===true){this.bufferTimer=setInterval(this.processEvents,a.interval)}else{clearInterval(this.bufferTimer)}return a},applyRecognizers:function(c){var d,a;for(d in c){if(c.hasOwnProperty(d)){a=c[d];if(a){this.registerRecognizer(a)}}}return c},handles:function(a){return this.callParent(arguments)||this.eventToRecognizerMap.hasOwnProperty(a)},doesEventBubble:function(){return true},eventLogs:[],onEvent:function(c){var a=this.getBuffering();c=new Ext.event.Touch(c);if(a.enabled){this.buffer.push(c)}else{this.processEvent(c)}},processEvents:function(){var a=this.buffer,h=a.length,e=[],d,f,c;if(h>0){d=a.slice(0);a.length=0;for(c=0;c<h;c++){f=d[c];if(f.type===this.moveEventName){e.push(f)}else{if(e.length>0){this.processEvent(this.mergeEvents(e));e.length=0}this.processEvent(f)}}if(e.length>0){this.processEvent(this.mergeEvents(e));e.length=0}}},mergeEvents:function(d){var c=[],h=d.length,a,f,e;e=d[h-1];if(h===1){return e}for(a=0;a<h;a++){f=d[a];c.push(f.changedTouches)}e.changedTouches=this.mergeTouchLists(c);return e},mergeTouchLists:function(n){var f={},l=[],e,m,a,c,h,d,k;for(e=0,m=n.length;e<m;e++){a=n[e];for(c=0,h=a.length;c<h;c++){d=a[c];k=d.identifier;f[k]=d}}for(k in f){if(f.hasOwnProperty(k)){l.push(f[k])}}return l},registerRecognizer:function(a){var j=this.eventToRecognizerMap,f=this.activeRecognizers,d=a.getHandledEvents(),e,h,c;a.setOnRecognized(this.onRecognized);a.setCallbackScope(this);for(e=0,h=d.length;e<h;e++){c=d[e];j[c]=a}f.push(a);return this},onRecognized:function(h,k,f,a){var m=[],l=f.length,j,d,c;if(l===1){return this.publish(h,f[0].targets,k,a)}for(d=0;d<l;d++){c=f[d];m.push(c.targets)}j=this.getCommonTargets(m);this.publish(h,j,k,a)},publish:function(c,a,d,e){d.set(e);return this.callParent([c,a,d])},getCommonTargets:function(a){var l=a[0],h=a.length;if(h===1){return l}var e=[],f=1,k,c,d;while(true){k=l[l.length-f];if(!k){return e}for(d=1;d<h;d++){c=a[d];if(c[c.length-f]!==k){return e}}e.unshift(k);f++}return e},invokeRecognizers:function(d,j){var c=this.activeRecognizers,h=c.length,f,a;if(d==="onStart"){for(f=0;f<h;f++){c[f].isActive=true}}for(f=0;f<h;f++){a=c[f];if(a.isActive&&a[d].call(a,j)===false){a.isActive=false}}},getActiveRecognizers:function(){return this.activeRecognizers},processEvent:function(a){this.eventProcessors[a.type].call(this,a)},onTouchStart:function(m){var o=this.currentTargets,j=this.currentTouches,q=this.currentTouchesCount,p=m.changedTouches,h=m.touches,k=h.length,a={},n=p.length,f,d,l,c;q+=n;if(q>k){for(f=0;f<k;f++){d=h[f];l=d.identifier;a[l]=true}for(l in j){if(j.hasOwnProperty(l)){if(!a[l]){q--;c=m.clone();d=j[l];d.targets=this.getBubblingTargets(this.getElementTarget(d.target));c.changedTouches=[d];this.onTouchEnd(c)}}}if(q>k){return}}for(f=0;f<n;f++){d=p[f];l=d.identifier;if(!j.hasOwnProperty(l)){this.currentTouchesCount++}j[l]=d;o[l]=this.getBubblingTargets(this.getElementTarget(d.target))}m.setTargets(o);for(f=0;f<n;f++){d=p[f];this.publish("touchstart",d.targets,m,{touch:d})}if(!this.isStarted){this.isStarted=true;this.invokeRecognizers("onStart",m)}this.invokeRecognizers("onTouchStart",m)},onTouchMove:function(l){if(!this.isStarted){return}var n=this.currentTargets,j=this.currentTouches,d=this.getMoveThrottle(),o=l.changedTouches,c=0,h,m,f,p,a,k;l.setTargets(n);for(h=0,m=o.length;h<m;h++){f=o[h];k=f.identifier;p=f.point;a=j[k].point;if(d&&p.isCloseTo(a,d)){c++;continue}j[k]=f;this.publish("touchmove",f.targets,l,{touch:f})}if(c<m){this.invokeRecognizers("onTouchMove",l)}},onTouchEnd:function(f){if(!this.isStarted){return}var k=this.currentTargets,d=this.currentTouches,m=f.changedTouches,j=m.length,l,h,c,a;f.setTargets(k);this.currentTouchesCount-=j;l=(this.currentTouchesCount===0);if(l){this.isStarted=false}for(c=0;c<j;c++){a=m[c];h=a.identifier;delete d[h];delete k[h];this.publish("touchend",a.targets,f,{touch:a})}this.invokeRecognizers("onTouchEnd",f);if(l){this.invokeRecognizers("onEnd",f)}}},function(){if(!Ext.feature.has.Touch){this.override({moveEventName:"mousemove",map:{mouseToTouch:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},touchToMouse:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}},attachListener:function(a){a=this.map.touchToMouse[a];if(!a){return}return this.callOverridden([a])},lastEventType:null,onEvent:function(f){if("button" in f&&f.button!==0){return}var d=f.type,c=[f];if(d==="mousedown"&&this.lastEventType&&this.lastEventType!=="mouseup"){var a=document.createEvent("MouseEvent");a.initMouseEvent("mouseup",f.bubbles,f.cancelable,document.defaultView,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.metaKey,f.button,f.relatedTarget);this.onEvent(a)}if(d!=="mousemove"){this.lastEventType=d}f.identifier=1;f.touches=(d!=="mouseup")?c:[];f.targetTouches=(d!=="mouseup")?c:[];f.changedTouches=c;return this.callOverridden([f])},processEvent:function(a){this.eventProcessors[this.map.mouseToTouch[a.type]].call(this,a)}})}});Ext.define("Ext.event.recognizer.Recognizer",{mixins:["Ext.mixin.Identifiable"],handledEvents:[],config:{onRecognized:Ext.emptyFn,onFailed:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,fail:function(){this.getOnFailed().apply(this.getCallbackScope(),arguments);return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}});Ext.define("Ext.event.recognizer.Touch",{extend:"Ext.event.recognizer.Recognizer",onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn});Ext.define("Ext.event.recognizer.SingleTouch",{extend:"Ext.event.recognizer.Touch",inheritableStatics:{NOT_SINGLE_TOUCH:1,TOUCH_MOVED:2},onTouchStart:function(a){if(a.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}}});Ext.define("Ext.event.recognizer.Drag",{extend:"Ext.event.recognizer.SingleTouch",isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend"],onTouchStart:function(c){var d,a;if(this.callParent(arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.onTouchEnd(this.lastMoveEvent)}return false}this.startTouches=d=c.changedTouches;this.startTouch=a=d[0];this.startPoint=a.point},onTouchMove:function(f){var d=f.changedTouches,h=d[0],a=h.point,c=f.time;if(this.lastPoint){this.previousPoint=this.lastPoint}if(this.lastTime){this.previousTime=this.lastTime}this.lastTime=c;this.lastPoint=a;this.lastMoveEvent=f;if(!this.isStarted){this.isStarted=true;this.startTime=c;this.previousTime=c;this.previousPoint=this.startPoint;this.fire("dragstart",f,this.startTouches,this.getInfo(f,this.startTouch))}else{this.fire("drag",f,d,this.getInfo(f,h))}},onTouchEnd:function(d){if(this.isStarted){var c=d.changedTouches,f=c[0],a=f.point;this.isStarted=false;this.lastPoint=a;this.fire("dragend",d,c,this.getInfo(d,f));this.startTime=0;this.previousTime=0;this.lastTime=0;this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}},getInfo:function(l,k){var f=l.time,a=this.startPoint,h=this.previousPoint,c=this.startTime,m=this.previousTime,n=this.lastPoint,j=n.x-a.x,i=n.y-a.y,d={touch:k,startX:a.x,startY:a.y,previousX:h.x,previousY:h.y,pageX:n.x,pageY:n.y,deltaX:j,deltaY:i,absDeltaX:Math.abs(j),absDeltaY:Math.abs(i),previousDeltaX:n.x-h.x,previousDeltaY:n.y-h.y,time:f,startTime:c,previousTime:m,deltaTime:f-c,previousDeltaTime:f-m};return d}});Ext.define("Ext.event.recognizer.Tap",{handledEvents:["tap"],extend:"Ext.event.recognizer.SingleTouch",onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){var c=a.changedTouches[0];this.fire("tap",a,[c])}},function(){});Ext.define("Ext.event.recognizer.DoubleTap",{extend:"Ext.event.recognizer.SingleTouch",config:{maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,onTouchStart:function(a){if(this.callParent(arguments)===false){return false}this.startTime=a.time;clearTimeout(this.singleTapTimer)},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onEnd:function(i){var d=this,c=this.getMaxDuration(),j=i.changedTouches[0],h=i.time,a=this.lastTapTime,f;this.lastTapTime=h;if(a){f=h-a;if(f<=c){this.lastTapTime=0;this.fire("doubletap",i,[j],{touch:j,duration:f});return}}if(h-this.startTime>c){this.fireSingleTap(i,j)}else{this.singleTapTimer=setTimeout(function(){d.fireSingleTap(i,j)},c)}},fireSingleTap:function(a,c){this.fire("singletap",a,[c],{touch:c})}});Ext.define("Ext.event.recognizer.LongPress",{extend:"Ext.event.recognizer.SingleTouch",inheritableStatics:{DURATION_NOT_ENOUGH:32},config:{minDuration:1000},handledEvents:["longpress"],fireLongPress:function(a){var c=a.changedTouches[0];this.fire("longpress",a,[c],{touch:c,duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(c){var a=this;if(this.callParent(arguments)===false){return false}this.isLongPress=false;this.timer=setTimeout(function(){a.fireLongPress(c)},this.getMinDuration())},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(a){if(a==="longpress"){var c=Array.prototype.slice.call(arguments);c[0]="taphold";this.fire.apply(this,c)}return this.callOverridden(arguments)}})});Ext.define("Ext.event.recognizer.Swipe",{extend:"Ext.event.recognizer.SingleTouch",handledEvents:["swipe"],inheritableStatics:{MAX_OFFSET_EXCEEDED:16,MAX_DURATION_EXCEEDED:17,DISTANCE_NOT_ENOUGH:18},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var c=a.changedTouches[0];this.startTime=a.time;this.isHorizontal=true;this.isVertical=true;this.startX=c.pageX;this.startY=c.pageY},onTouchMove:function(h){var j=h.changedTouches[0],c=j.pageX,i=j.pageY,d=Math.abs(c-this.startX),a=Math.abs(i-this.startY),f=h.time;if(f-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isVertical&&d>this.getMaxOffset()){this.isVertical=false}if(this.isHorizontal&&a>this.getMaxOffset()){this.isHorizontal=false}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(k){if(this.onTouchMove(k)===false){return false}var j=k.changedTouches[0],n=j.pageX,l=j.pageY,i=n-this.startX,h=l-this.startY,d=Math.abs(i),c=Math.abs(h),o=this.getMinDistance(),f=k.time-this.startTime,m,a;if(this.isVertical&&c<o){this.isVertical=false}if(this.isHorizontal&&d<o){this.isHorizontal=false}if(this.isHorizontal){m=(i<0)?"left":"right";a=d}else{if(this.isVertical){m=(h<0)?"up":"down";a=c}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.fire("swipe",k,[j],{touch:j,direction:m,distance:a,duration:f})}});Ext.define("Ext.event.recognizer.HorizontalSwipe",{extend:"Ext.event.recognizer.Swipe",handledEvents:["swipe"],onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var c=a.changedTouches[0];this.startTime=a.time;this.startX=c.pageX;this.startY=c.pageY},onTouchMove:function(h){var j=h.changedTouches[0],i=j.pageY,a=Math.abs(i-this.startY),f=h.time,d=this.getMaxDuration(),c=this.getMaxOffset();if(f-this.startTime>d){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(a>c){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(h){if(this.onTouchMove(h)!==false){var k=h.changedTouches[0],a=k.pageX,c=a-this.startX,j=Math.abs(c),f=h.time-this.startTime,i=this.getMinDistance(),d;if(j<i){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}d=(c<0)?"left":"right";this.fire("swipe",h,[k],{touch:k,direction:d,distance:j,duration:f})}}});Ext.define("Ext.event.recognizer.MultiTouch",{extend:"Ext.event.recognizer.Touch",requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(f){var a=this.requiredTouchesCount,d=f.touches,c=d.length;if(c===a){this.start(f)}else{if(c>a){this.end(f)}}},onTouchEnd:function(a){this.end(a)},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(a){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this.fireEnd(a)}}}});Ext.define("Ext.event.recognizer.Pinch",{extend:"Ext.event.recognizer.MultiTouch",requiredTouchesCount:2,handledEvents:["pinchstart","pinch","pinchend"],startDistance:0,lastTouches:null,onTouchMove:function(d){if(!this.isTracking){return}var c=Array.prototype.slice.call(d.touches),f,a,h;f=c[0].point;a=c[1].point;h=f.getDistanceTo(a);if(h===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=h;this.fire("pinchstart",d,c,{touches:c,distance:h,scale:1})}else{this.fire("pinch",d,c,{touches:c,distance:h,scale:h/this.startDistance})}this.lastTouches=c},fireEnd:function(a){this.fire("pinchend",a,this.lastTouches)},fail:function(){return this.callParent(arguments)}});Ext.define("Ext.event.recognizer.Rotate",{extend:"Ext.event.recognizer.MultiTouch",requiredTouchesCount:2,handledEvents:["rotatestart","rotate","rotateend"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(j){if(!this.isTracking){return}var i=Array.prototype.slice.call(j.touches),c=this.lastAngle,f,h,d,a,k,l;f=i[0].point;h=i[1].point;d=f.getAngleTo(h);if(c!==null){l=Math.abs(c-d);a=d+360;k=d-360;if(Math.abs(a-c)<l){d=a}else{if(Math.abs(k-c)<l){d=k}}}this.lastAngle=d;if(!this.isStarted){this.isStarted=true;this.startAngle=d;this.fire("rotatestart",j,i,{touches:i,angle:d,rotation:0})}else{this.fire("rotate",j,i,{touches:i,angle:d,rotation:d-this.startAngle})}this.lastTouches=i},fireEnd:function(a){this.lastAngle=null;this.fire("rotateend",a,this.lastTouches)}});Ext.define("Ext.ComponentQuery",{singleton:true,uses:["Ext.ComponentManager"]},function(){var i=this,l=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),f=function(q,p){return p.method.apply(this,[q].concat(p.args))},a=function(r,v){var p=[],s=0,u=r.length,t,q=v!==">";for(;s<u;s++){t=r[s];if(t.getRefItems){p=p.concat(t.getRefItems(q))}}return p},h=function(q){var p=[],r=0,t=q.length,s;for(;r<t;r++){s=q[r];while(!!(s=(s.ownerCt||s.floatParent))){p.push(s)}}return p},n=function(q,v,u){if(v==="*"){return q.slice()}else{var p=[],r=0,t=q.length,s;for(;r<t;r++){s=q[r];if(s.isXType(v,u)){p.push(s)}}return p}},k=function(q,t){var v=Ext.Array,p=[],r=0,u=q.length,s;for(;r<u;r++){s=q[r];if(s.el?s.el.hasCls(t):v.contains(s.initCls(),t)){p.push(s)}}return p},o=function(t,w,q,v){var y=[],s=0,p=t.length,x,u,r;for(;s<p;s++){x=t[s];u=Ext.Class.getConfigNameMap(w).get;if(x[u]){r=x[u]();if(!v?!!r:(String(r)===v)){y.push(x)}}else{if(x.config&&x.config[w]){if(!v?!!x.config[w]:(String(x.config[w])===v)){y.push(x)}}else{if(!v?!!x[w]:(String(x[w])===v)){y.push(x)}}}}return y},e=function(q,u){var p=[],r=0,t=q.length,s;for(;r<t;r++){s=q[r];if(s.getId()===u||s.getItemId()===u){p.push(s)}}return p},m=function(p,q,r){return i.pseudos[q](p,r)},j=/^(\s?([>\^])\s?|\s|$)/,d=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,c=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:n},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:o},{re:/^#([\w\-]+)/,method:e},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:m},{re:/^(?:\{([^\}]+)\})/,method:l}];i.Query=Ext.extend(Object,{constructor:function(p){p=p||{};Ext.apply(this,p)},execute:function(q){var s=this.operations,t=0,u=s.length,r,p;if(!q){p=Ext.ComponentManager.all.getArray()}else{if(Ext.isArray(q)){p=q}}for(;t<u;t++){r=s[t];if(r.mode==="^"){p=h(p||[q])}else{if(r.mode){p=a(p||[q],r.mode)}else{p=f(p||a([q]),r)}}if(t===u-1){return p}}return[]},is:function(r){var q=this.operations,u=Ext.isArray(r)?r:[r],p=u.length,v=q[q.length-1],t,s;u=f(u,v);if(u.length===p){if(q.length>1){for(s=0,t=u.length;s<t;s++){if(Ext.Array.indexOf(this.execute(),u[s])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(v,p){var w=Ext.ComponentQuery,t=0,u=v.length,s=[],r=-1,q;for(;t<u;++t){q=v[t];if(!w.is(q,p)){s[++r]=q}}return s}},query:function(q,x){var y=q.split(","),p=y.length,r=0,s=[],z=[],w={},u,t,v;for(;r<p;r++){q=Ext.String.trim(y[r]);u=this.parse(q);s=s.concat(u.execute(x))}if(p>1){t=s.length;for(r=0;r<t;r++){v=s[r];if(!w[v.id]){z.push(v);w[v.id]=true}}s=z}return s},is:function(q,p){if(!p){return true}var r=this.cache[p];if(!r){this.cache[p]=r=this.parse(p)}return r.is(q)},parse:function(s){var q=[],r=c.length,w,t,x,y,z,u,v,p;while(s&&w!==s){w=s;t=s.match(d);if(t){x=t[1];if(x==="#"){q.push({method:e,args:[Ext.String.trim(t[2])]})}else{if(x==="."){q.push({method:k,args:[Ext.String.trim(t[2])]})}else{q.push({method:n,args:[Ext.String.trim(t[2]),Boolean(t[3])]})}}s=s.replace(t[0],"")}while(!(y=s.match(j))){for(u=0;s&&u<r;u++){v=c[u];z=s.match(v.re);p=v.method;if(z){q.push({method:Ext.isString(v.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[p].concat(z.slice(1)))):v.method,args:z.slice(1)});s=s.replace(z[0],"");break}}}if(y[1]){q.push({mode:y[2]||y[1]});s=s.replace(y[0],"")}}return new i.Query({operations:q})}})});Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:true,constructor:function(){var a={};this.all={map:a,getArray:function(){var c=[],d;for(d in a){c.push(a[d])}return c}};this.map=a},register:function(a){var c=a.getId();this.map[a.getId()]=a},unregister:function(a){delete this.map[a.getId()]},isRegistered:function(a){return this.map[a]!==undefined},get:function(a){return this.map[a]},create:function(a,d){if(a.isComponent){return a}else{if(Ext.isString(a)){return Ext.createByAlias("widget."+a)}else{var c=a.xtype||d;return Ext.createByAlias("widget."+c,a)}}},registerType:Ext.emptyFn});Ext.define("Ext.mixin.Mixin",{onClassExtended:function(c,f){var a=f.mixinConfig,e,h,d;if(a){e=c.superclass.mixinConfig;if(e){a=f.mixinConfig=Ext.merge({},e,a)}f.mixinId=a.id;h=a.beforeHooks;d=a.hooks||a.afterHooks;if(h||d){Ext.Function.interceptBefore(f,"onClassMixedIn",function(j){var i=this.prototype;if(h){Ext.Object.each(h,function(l,k){j.override(k,function(){if(i[l].apply(this,arguments)!==false){return this.callOverridden(arguments)}})})}if(d){Ext.Object.each(d,function(l,k){j.override(k,function(){var m=this.callOverridden(arguments);i[l].apply(this,arguments);return m})})}})}}}});Ext.define("Ext.behavior.Behavior",{constructor:function(a){this.component=a;a.on("destroy","onComponentDestroy",this)},onComponentDestroy:Ext.emptyFn});Ext.define("Ext.mixin.Observable",{requires:["Ext.event.Dispatcher"],extend:"Ext.mixin.Mixin",mixins:["Ext.mixin.Identifiable"],mixinConfig:{id:"observable",hooks:{destroy:"destroy"}},alternateClassName:"Ext.util.Observable",isObservable:true,observableType:"observable",validIdRegex:/^([\w\-]+)$/,observableIdPrefix:"#",listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend)$/,config:{listeners:null,bubbleEvents:null},constructor:function(a){this.initConfig(a)},applyListeners:function(a){if(a){this.addListener(a)}},applyBubbleEvents:function(a){if(a){this.enableBubble(a)}},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){if(!this.observableId){var a=this.getUniqueId();this.observableId=this.observableIdPrefix+a;this.getObservableId=this.getOptimizedObservableId}return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){if(!this.eventDispatcher){this.eventDispatcher=Ext.event.Dispatcher.getInstance();this.getEventDispatcher=this.getOptimizedEventDispatcher;this.getListeners();this.getBubbleEvents()}return this.eventDispatcher},getManagedListeners:function(d,c){var e=d.getUniqueId(),a=this.managedListeners;if(!a){this.managedListeners=a={}}if(!a[e]){a[e]={};d.doAddListener("destroy","clearManagedListeners",this,{single:true,args:[d]})}if(!a[e][c]){a[e][c]=[]}return a[e][c]},getUsedSelectors:function(){var a=this.usedSelectors;if(!a){a=this.usedSelectors=[];a.$map={}}return a},fireEvent:function(a){var c=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,c)},fireAction:function(d,f,i,h,e,a){var c=typeof i,j;if(f===undefined){f=[]}if(c!="undefined"){j={fn:i,isLateBinding:c=="string",scope:h||this,options:e||{},order:a}}return this.doFireEvent(d,f,j)},doFireEvent:function(c,d,f,a){if(this.eventFiringSuspended){return}var h=this.getObservableId(),e=this.getEventDispatcher();return e.dispatchEvent(this.observableType,h,c,d,f,a)},doAddListener:function(a,k,m,n,d){var f=(m&&m!==this&&m.isIdentifiable),c=this.getUsedSelectors(),h=c.$map,e=this.getObservableId(),i,l,j;if(!n){n={}}if(!m){m=this}if(n.delegate){j=n.delegate;e+=" "+j}if(!(e in h)){h[e]=true;c.push(e)}i=this.addDispatcherListener(e,a,k,m,n,d);if(i&&f){l=this.getManagedListeners(m,a);l.push({delegate:j,scope:m,fn:k,order:d})}return i},addDispatcherListener:function(c,e,h,f,d,a){return this.getEventDispatcher().addListener(this.observableType,c,e,h,f,d,a)},doRemoveListener:function(c,m,o,p,e){var j=(o&&o!==this&&o.isIdentifiable),f=this.getObservableId(),a,n,h,k,d,l;if(p&&p.delegate){l=p.delegate;f+=" "+l}if(!o){o=this}a=this.removeDispatcherListener(f,c,m,o,e);if(a&&j){n=this.getManagedListeners(o,c);for(h=0,k=n.length;h<k;h++){d=n[h];if(d.fn===m&&d.scope===o&&d.delegate===l&&d.order===e){n.splice(h,1);break}}}return a},removeDispatcherListener:function(c,d,f,e,a){return this.getEventDispatcher().removeListener(this.observableType,c,d,f,e,a)},clearManagedListeners:function(e){var l=this.managedListeners,a,d,k,h,f,j,c,m;if(!l){return this}if(e){if(typeof e!="string"){a=e.getUniqueId()}else{a=e}d=l[a];for(h in d){if(d.hasOwnProperty(h)){k=d[h];for(f=0,j=k.length;f<j;f++){c=k[f];m={};if(c.delegate){m.delegate=c.delegate}if(this.doRemoveListener(h,c.fn,c.scope,m,c.order)){f--;j--}}}}delete l[a];return this}for(a in l){if(l.hasOwnProperty(a)){this.clearManagedListeners(a)}}},changeListener:function(n,k,p,r,s,e){var c,o,j,l,a,q,h,m,d,f;if(typeof p!="undefined"){if(typeof k!="string"){for(h=0,m=k.length;h<m;h++){a=k[h];n.call(this,a,p,r,s,e)}return this}n.call(this,k,p,r,s,e)}else{if(Ext.isArray(k)){o=k;for(h=0,m=o.length;h<m;h++){d=o[h];n.call(this,d.event,d.fn,d.scope,d,d.order)}}else{j=this.listenerOptionsRegex;s=k;c=[];o=[];l={};for(a in s){q=s[a];if(a==="scope"){r=q;continue}else{if(a==="order"){e=q;continue}}if(!j.test(a)){f=typeof q;if(f!="string"&&f!="function"){n.call(this,a,q.fn,q.scope||r,q,q.order||e);continue}c.push(a);o.push(q)}else{l[a]=q}}for(h=0,m=c.length;h<m;h++){n.call(this,c[h],o[h],r,l,e)}}}},addListener:function(c,f,e,d,a){return this.changeListener(this.doAddListener,c,f,e,d,a)},addBeforeListener:function(a,e,d,c){return this.addListener(a,e,d,c,"before")},addAfterListener:function(a,e,d,c){return this.addListener(a,e,d,c,"after")},removeListener:function(c,f,e,d,a){return this.changeListener(this.doRemoveListener,c,f,e,d,a)},removeBeforeListener:function(a,e,d,c){return this.removeListener(a,e,d,c,"before")},removeAfterListener:function(a,e,d,c){return this.removeListener(a,e,d,c,"after")},clearListeners:function(){var f=this.getUsedSelectors(),d=this.getEventDispatcher(),c,e,a;for(c=0,e=f.length;c<e;c++){a=f[c];d.clearListeners(this.observableType,a)}},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},suspendEvents:function(a){this.eventFiringSuspended=true},resumeEvents:function(){this.eventFiringSuspended=false},relayEvents:function(c,e,j){var d,h,f,a;if(typeof j=="undefined"){j=""}if(typeof e=="string"){e=[e]}if(Ext.isArray(e)){for(d=0,h=e.length;d<h;d++){f=e[d];a=j+f;c.addListener(f,this.createEventRelayer(a),this)}}else{for(f in e){if(e.hasOwnProperty(f)){a=j+e[f];c.addListener(f,this.createEventRelayer(a),this)}}}return this},relayEvent:function(f,h,j,k,a){var i=typeof h,d=f[f.length-1],e=d.getInfo().eventName,c;f=Array.prototype.slice.call(f,0,-2);f[0]=this;if(i!="undefined"){c={fn:h,scope:j||this,options:k||{},order:a,isLateBinding:i=="string"}}return this.doFireEvent(e,f,c,d)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(e){var a=this.isBubblingEnabled,d,f,c;if(!a){a=this.isBubblingEnabled={}}if(typeof e=="string"){e=Ext.Array.clone(arguments)}for(d=0,f=e.length;d<f;d++){c=e[d];if(!a[c]){a[c]=true;this.addListener(c,this.createEventBubbler(c),this)}}},createEventBubbler:function(a){return function c(){var d=("getBubbleTarget" in this)?this.getBubbleTarget():null;if(d&&d!==this&&d.isObservable){d.fireAction(a,Array.prototype.slice.call(arguments,0,-2),c,d,null,"after")}}},getBubbleTarget:function(){return false},destroy:function(){if(this.observableId){this.fireEvent("destroy",this);this.clearListeners();this.clearManagedListeners()}},addEvents:Ext.emptyFn},function(){this.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"})});Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(p){var q=this,o=p.length,d={elseif:"elif"},l=q.topRe,c=q.actionsRe,n,r,v,h,u,i,a,f,e,j,k;q.level=0;q.stack=r=[];for(n=0;n<o;n=j){l.lastIndex=n;h=l.exec(p);if(!h){q.doText(p.substring(n,o));break}e=h.index;j=l.lastIndex;if(n<e){q.doText(p.substring(n,e))}if(h[1]){j=p.indexOf("%}",e+2);q.doEval(p.substring(e+2,j));j+=2}else{if(h[2]){j=p.indexOf("]}",e+2);q.doExpr(p.substring(e+2,j));j+=2}else{if(h[3]){q.doTag(h[3])}else{if(h[4]){k=null;while((f=c.exec(h[4]))!==null){v=f[2]||f[3];if(v){v=Ext.String.htmlDecode(v);u=f[1];u=d[u]||u;k=k||{};i=k[u];if(typeof i=="string"){k[u]=[i,v]}else{if(i){k[u].push(v)}else{k[u]=v}}}}if(!k){if(q.elseRe.test(h[4])){q.doElse()}else{if(q.defaultRe.test(h[4])){q.doDefault()}else{q.doTpl();r.push({type:"tpl"})}}}else{if(k["if"]){q.doIf(k["if"],k);r.push({type:"if"})}else{if(k["switch"]){q.doSwitch(k["switch"],k);r.push({type:"switch"})}else{if(k["case"]){q.doCase(k["case"],k)}else{if(k.elif){q.doElseIf(k.elif,k)}else{if(k["for"]){++q.level;q.doFor(k["for"],k);r.push({type:"for",actions:k})}else{if(k.exec){q.doExec(k.exec,k);r.push({type:"exec",actions:k})}}}}}}}}else{a=r.pop();q.doEnd(a.type,a.actions);if(a.type=="for"){--q.level}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:["]([^"]*)["])|(?:[']([^']*)[']))\s*/g,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){if(!a){a=Ext.Date.now()}return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn});Ext.define("Ext.mixin.Traversable",{extend:"Ext.mixin.Mixin",mixinConfig:{id:"traversable"},setParent:function(a){this.parent=a;return this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){var c=[],a=this.getParent();while(a){c.push(a);a=a.getParent()}return c},getAncestorIds:function(){var c=[],a=this.getParent();while(a){c.push(a.getId());a=a.getParent()}return c}});Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],statics:{generateSetter:function(f){var d=f.internal,c=f.apply,a=f.changeEvent,e=f.doSet;return function(j){var k=this.initialized,i=this[d],h=this[c];if(h){j=h.call(this,j,i);if(typeof j=="undefined"){return this}}i=this[d];if(j!==i){if(k){this.fireAction(a,[this,j,i],this.doSet,this,{nameMap:f})}else{this[d]=j;this[e].call(this,j,i)}}return this}}},initialized:false,constructor:function(a){this.initialConfig=a;this.initialize()},initialize:function(){this.initConfig(this.initialConfig);this.initialized=true},doSet:function(d,e,c,a){var f=a.nameMap;d[f.internal]=e;d[f.doSet].call(this,e,c)},onClassExtended:function(a,f){if(!f.hasOwnProperty("eventedConfig")){return}var e=Ext.Class,d=f.config,i=f.eventedConfig,c,h;f.config=(d)?Ext.applyIf(d,i):i;for(c in i){if(i.hasOwnProperty(c)){h=e.getConfigNameMap(c);f[h.set]=this.generateSetter(h)}}}});Ext.define("Ext.AbstractComponent",{extend:"Ext.Evented",onClassExtended:function(c,h){if(!h.hasOwnProperty("cachedConfig")){return}var i=c.prototype,d=h.config,f=h.cachedConfig,e=i.cachedConfigList,k=i.hasCachedConfig,a,j;delete h.cachedConfig;i.cachedConfigList=e=(e)?e.slice():[];i.hasCachedConfig=k=(k)?Ext.Object.chain(k):{};if(!d){h.config=d={}}for(a in f){if(f.hasOwnProperty(a)){j=f[a];if(!k[a]){k[a]=true;e.push(a)}d[a]=j}}},getElementConfig:Ext.emptyFn,referenceAttributeName:"reference",referenceSelector:"[reference]",addReferenceNode:function(a,c){Ext.Object.defineProperty(this,a,{get:function(){var d;delete this[a];this[a]=d=new Ext.Element(c);return d},configurable:true})},initElement:function(){var m=this.self.prototype,p=this.getId(),u=[],j=true,z=this.referenceAttributeName,r=false,f,x,c,q,v,e,n,d,h,l,y,o,a,s,k,A,w,t;if(m.hasOwnProperty("renderTemplate")){f=this.renderTemplate.cloneNode(true);x=f.firstChild}else{j=false;r=true;f=document.createDocumentFragment();x=Ext.Element.create(this.getElementConfig(),true);f.appendChild(x)}q=f.querySelectorAll(this.referenceSelector);for(v=0,e=q.length;v<e;v++){n=q[v];d=n.getAttribute(z);if(j){n.removeAttribute(z)}if(d=="element"){n.id=p;this.element=c=new Ext.Element(n)}else{this.addReferenceNode(d,n)}u.push(d)}this.referenceList=u;if(!this.innerElement){this.innerElement=c}if(x===c.dom){this.renderElement=c}else{this.addReferenceNode("renderElement",x)}if(r){h=Ext.Class.configNameCache;l=this.config;y=this.cachedConfigList;o=this.initConfigList;a=this.initConfigMap;s=[];for(v=0,e=y.length;v<e;v++){A=y[v];w=h[A];if(a[A]){a[A]=false;Ext.Array.remove(o,A)}if(l[A]!==null){s.push(A);this[w.get]=this[w.initGet]}}for(v=0,e=s.length;v<e;v++){A=s[v];w=h[A];t=w.internal;this[t]=null;this[w.set].call(this,l[A]);delete this[w.get];m[t]=this[t]}x=this.renderElement.dom;m.renderTemplate=f=document.createDocumentFragment();f.appendChild(x.cloneNode(true));k=f.querySelectorAll("[id]");for(v=0,e=k.length;v<e;v++){c=k[v];c.removeAttribute("id")}for(v=0,e=u.length;v<e;v++){d=u[v];this[d].dom.removeAttribute("reference")}}return this}});Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(a){var d=this,c=d.generate(a);return d.useEval?d.evalTpl(c):(new Function("Ext",c))(Ext)},generate:function(a){var d=this;d.body=["var c0=values, p0=parent, n0=xcount, i0=xindex;\n"];d.funcs=["var fm=Ext.util.Format;"];d.switches=[];d.parse(a);d.funcs.push((d.useEval?"$=":"return")+" function ("+d.fnArgs+") {",d.body.join(""),"}");var c=d.funcs.join("\n");return c},doText:function(a){a=a.replace(this.aposRe,"\\'");a=a.replace(this.newLineRe,"\\n");this.body.push("out.push('",a,"')\n")},doExpr:function(a){this.body.push("out.push(String(",a,"))\n")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(c,d){var a=this;if(a.propNameRe.test(c)){a.body.push("if (",a.parseTag(c),") {\n")}else{a.body.push("if (",a.addFn(c),a.callFn,") {\n")}if(d.exec){a.doExec(d.exec)}},doElseIf:function(c,d){var a=this;if(a.propNameRe.test(c)){a.body.push("} else if (",a.parseTag(c),") {\n")}else{a.body.push("} else if (",a.addFn(c),a.callFn,") {\n")}if(d.exec){a.doExec(d.exec)}},doSwitch:function(c){var a=this;if(a.propNameRe.test(c)){a.body.push("switch (",a.parseTag(c),") {\n")}else{a.body.push("switch (",a.addFn(c),a.callFn,") {\n")}a.switches.push(0)},doCase:function(f){var e=this,d=Ext.isArray(f)?f:[f],h=e.switches.length-1,a,c;if(e.switches[h]){e.body.push("break;\n")}else{e.switches[h]++}for(c=0,h=d.length;c<h;++c){a=e.intRe.exec(d[c]);d[c]=a?a[1]:("'"+d[c].replace(e.aposRe,"\\'")+"'")}e.body.push("case ",d.join(": case "),":\n")},doDefault:function(){var a=this,c=a.switches.length-1;if(a.switches[c]){a.body.push("break;\n")}else{a.switches[c]++}a.body.push("default:\n")},doEnd:function(c,e){var d=this,a=d.level-1;if(c=="for"){if(e.exec){d.doExec(e.exec)}d.body.push("}\n");d.body.push("parent=p",a,";values=r",a+1,";xcount=n",a,";xindex=i",a,"\n")}else{if(c=="if"||c=="switch"){d.body.push("}\n")}}},doFor:function(f,h){var e=this,d=e.addFn(f),c=e.level,a=c-1;e.body.push("var c",c,"=",d,e.callFn,", a",c,"=Ext.isArray(c",c,"),p",c,"=(parent=c",a,"),r",c,"=values\n","for (var i",c,"=0,n",c,"=a",c,"?c",c,".length:(c",c,"?1:0), xcount=n",c,";i",c,"<n"+c+";++i",c,"){\n","values=a",c,"?c",c,"[i",c,"]:c",c,"\n","xindex=i",c,"+1\n")},doExec:function(d,e){var c=this,a="f"+c.funcs.length;c.funcs.push("function "+a+"("+c.fnArgs+") {"," try { with(values) {","  "+d," }} catch(e) {}","}");c.body.push(a+c.callFn+"\n")},addFn:function(a){var d=this,c="f"+d.funcs.length;if(a==="."){d.funcs.push("function "+c+"("+d.fnArgs+") {"," return values","}")}else{if(a===".."){d.funcs.push("function "+c+"("+d.fnArgs+") {"," return parent","}")}else{d.funcs.push("function "+c+"("+d.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {}","}")}}return c},parseTag:function(c){var a=this.tagRe.exec(c),f=a[1],i=a[2],e=a[3],h=a[4],d;if(f=="."){d='Ext.Array.indexOf(["string", "number", "boolean"], typeof values) > -1 || Ext.isDate(values) ? values : ""'}else{if(f=="#"){d="xindex"}else{if(f.substr(0,7)=="parent."){d=f}else{if((f.indexOf(".")!==-1)&&(f.indexOf("-")===-1)){d="values."+f}else{d="values['"+f+"']"}}}}if(h){d="("+d+h+")"}if(i&&this.useFormat){e=e?","+e:"";if(i.substr(0,5)!="this."){i="fm."+i+"("}else{i+="("}}else{e="";i="("+d+" === undefined ? '' : "}return i+d+e+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount";a.callFn=".call(this,"+a.fnArgs+")"});(function(){function c(e){var d=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(f,h){return d[h]})}Ext.DateExtras={now:Date.now||function(){return +new Date()},getElapsed:function(e,d){return Math.abs(e-(d||new Date()))},useStrict:false,formatCodeToRegex:function(e,d){var f=a.parseCodes[e];if(f){f=typeof f=="function"?f():f;a.parseCodes[e]=f}return f?Ext.applyIf({c:f.c?c(f.c,d||"{0}"):f.c},f):{g:0,c:null,s:Ext.String.escapeRegex(e)}},parseFunctions:{MS:function(e,d){var f=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var h=(e||"").match(f);return h?new Date(((h[1]||"")+h[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(d){return a.monthNames[d].substring(0,3)},getShortDayName:function(d){return a.dayNames[d].substring(0,3)},getMonthNumber:function(d){return a.monthNumbers[d.substring(0,1).toUpperCase()+d.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var k="Y-m-dTH:i:sP",h=[],f=0,d=k.length;f<d;++f){var j=k.charAt(f);h.push(j=="T"?"'T'":a.getFormatCode(j))}return h.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(p,e,o,l,j,k,f){l=l||0;j=j||0;k=k||0;f=f||0;var n=a.add(new Date(p<100?100:p,e-1,o,l,j,k,f),a.YEAR,p<100?p-100:0);return p==n.getFullYear()&&e==n.getMonth()+1&&o==n.getDate()&&l==n.getHours()&&j==n.getMinutes()&&k==n.getSeconds()&&f==n.getMilliseconds()},parse:function(e,h,d){var f=a.parseFunctions;if(f[h]==null){a.createParser(h)}return f[h](e,Ext.isDefined(d)?d:a.useStrict)},parseDate:function(e,f,d){return a.parse(e,f,d)},getFormatCode:function(e){var d=a.formatCodes[e];if(d){d=typeof d=="function"?d():d;a.formatCodes[e]=d}return d||("'"+Ext.String.escape(e)+"'")},createFormat:function(j){var h=[],d=false,f="";for(var e=0;e<j.length;++e){f=j.charAt(e);if(!d&&f=="\\"){d=true}else{if(d){d=false;h.push("'"+Ext.String.escape(f)+"'")}else{h.push(a.getFormatCode(f))}}}a.formatFunctions[j]=Ext.functionFactory("return "+h.join("+"))},createParser:(function(){var d=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(n){var f=a.parseRegexes.length,o=1,h=[],m=[],l=false,e="";for(var k=0;k<n.length;++k){e=n.charAt(k);if(!l&&e=="\\"){l=true}else{if(l){l=false;m.push(Ext.String.escape(e))}else{var j=a.formatCodeToRegex(e,o);o+=j.g;m.push(j.s);if(j.g&&j.c){h.push(j.c)}}}}a.parseRegexes[f]=new RegExp("^"+m.join("")+"$","i");a.parseFunctions[n]=Ext.functionFactory("input","strict",c(d,f,h.join("")))}})(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var d=[],e=0;e<7;d.push(a.getShortDayName(e)),++e){}return{g:0,c:null,s:"(?:"+d.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+a.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+a.monthNames.join("|")+")"}},M:function(){for(var d=[],e=0;e<12;d.push(a.getShortMonthName(e)),++e){}return Ext.applyIf({s:"("+d.join("|")+")"},a.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return a.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)"},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return a.formatCodeToRegex("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return a.formatCodeToRegex("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var f=[],d=[a.formatCodeToRegex("Y",1),a.formatCodeToRegex("m",2),a.formatCodeToRegex("d",3),a.formatCodeToRegex("h",4),a.formatCodeToRegex("i",5),a.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a.formatCodeToRegex("P",8).c,"}else{",a.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(var h=0,e=d.length;h<e;++h){f.push(d[h].c)}return{g:1,c:f.join(""),s:[d[0].s,"(?:","-",d[1].s,"(?:","-",d[2].s,"(?:","(?:T| )?",d[3].s,":",d[4].s,"(?::",d[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(d,e){return a.format(d,e)},format:function(e,f){if(a.formatFunctions[f]==null){a.createFormat(f)}var d=a.formatFunctions[f].call(e);return d+""},getTimezone:function(d){return d.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(d,e){var f=d.getTimezoneOffset();return(f>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(f)/60),2,"0")+(e?":":"")+Ext.String.leftPad(Math.abs(f%60),2,"0")},getDayOfYear:function(h){var f=0,k=Ext.Date.clone(h),e=h.getMonth(),j;for(j=0,k.setDate(1),k.setMonth(0);j<e;k.setMonth(++j)){f+=a.getDaysInMonth(k)}return f+h.getDate()-1},getWeekOfYear:(function(){var d=86400000,e=7*d;return function(h){var i=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate()+3)/d,f=Math.floor(i/7),j=new Date(f*e).getUTCFullYear();return f-Math.floor(Date.UTC(j,0,7)/e)+1}})(),isLeapYear:function(d){var e=d.getFullYear();return !!((e&3)==0&&(e%100||(e%400==0&&e)))},getFirstDayOfMonth:function(e){var d=(e.getDay()-(e.getDate()-1))%7;return(d<0)?(d+7):d},getLastDayOfMonth:function(d){return a.getLastDateOfMonth(d).getDay()},getFirstDateOfMonth:function(d){return new Date(d.getFullYear(),d.getMonth(),1)},getLastDateOfMonth:function(d){return new Date(d.getFullYear(),d.getMonth(),a.getDaysInMonth(d))},getDaysInMonth:(function(){var d=[31,28,31,30,31,30,31,31,30,31,30,31];return function(f){var e=f.getMonth();return e==1&&a.isLeapYear(f)?29:d[e]}})(),getSuffix:function(d){switch(d.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(d){return new Date(d.getTime())},isDST:function(d){return new Date(d.getFullYear(),0,1).getTimezoneOffset()!=d.getTimezoneOffset()},clearTime:function(e,j){if(j){return Ext.Date.clearTime(Ext.Date.clone(e))}var h=e.getDate();e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);if(e.getDate()!=h){for(var f=1,i=a.add(e,Ext.Date.HOUR,f);i.getDate()!=h;f++,i=a.add(e,Ext.Date.HOUR,f)){}e.setDate(h);e.setHours(i.getHours())}return e},add:function(i,h,j){var k=Ext.Date.clone(i),e=Ext.Date;if(!h||j===0){return k}switch(h.toLowerCase()){case Ext.Date.MILLI:k.setMilliseconds(k.getMilliseconds()+j);break;case Ext.Date.SECOND:k.setSeconds(k.getSeconds()+j);break;case Ext.Date.MINUTE:k.setMinutes(k.getMinutes()+j);break;case Ext.Date.HOUR:k.setHours(k.getHours()+j);break;case Ext.Date.DAY:k.setDate(k.getDate()+j);break;case Ext.Date.MONTH:var f=i.getDate();if(f>28){f=Math.min(f,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(i),"mo",j)).getDate())}k.setDate(f);k.setMonth(i.getMonth()+j);break;case Ext.Date.YEAR:k.setFullYear(i.getFullYear()+j);break}return k},between:function(e,h,d){var f=e.getTime();return h.getTime()<=f&&f<=d.getTime()}};var a=Ext.DateExtras;Ext.apply(Ext.Date,a)})();Ext.define("Ext.util.Format",{requires:["Ext.DateExtras"],singleton:true,defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,iso8601SplitRe:/[- :T\.Z\+]/,ellipsis:function(d,a,e){if(d&&d.length>a){if(e){var f=d.substr(0,a-2),c=Math.max(f.lastIndexOf(" "),f.lastIndexOf("."),f.lastIndexOf("!"),f.lastIndexOf("?"));if(c!=-1&&c>=(a-15)){return f.substr(0,c)+"..."}}return d.substr(0,a-3)+"..."}return d},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(c,d,a){return c==d?a:d},trim:function(a){return a.replace(Ext.util.Format.trimRe,"")},leftPad:function(e,c,d){var a=String(e);d=d||" ";while(a.length<c){a=d+a}return a},format:function(c){var a=Ext.toArray(arguments,1);return c.replace(Ext.util.Format.formatRe,function(d,e){return a[e]})},htmlEncode:function(a){return !a?a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(a){return !a?a:String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},date:function(c,d){var a=c;if(!c){return""}if(!Ext.isDate(c)){a=new Date(Date.parse(c));if(isNaN(a)){if(this.iso8601TestRe.test(c)){a=c.split(this.iso8601SplitRe);a=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])}if(isNaN(a)){a=new Date(Date.parse(c.replace(this.dashesRe,"/")))}}c=a}return Ext.Date.format(c,d||Ext.util.Format.defaultDateFormat)}});Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(c,a){c=Ext.getDom(c);return new this(c.value||c.innerHTML,a||"")}},constructor:function(e){var h=this,c=arguments,a=[],d=0,f=c.length,j;h.initialConfig={};if(f>1){for(;d<f;d++){j=c[d];if(typeof j=="object"){Ext.apply(h.initialConfig,j);Ext.apply(h,j)}else{a.push(j)}}e=a.join("")}else{if(Ext.isArray(e)){a.push(e.join(""))}else{a.push(e)}}h.html=a.join("");if(h.compiled){h.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){var i=this,e=i.disableFormats!==true,h=Ext.util.Format,d=i,c;if(i.compiled){return i.compiled(a).join("")}function f(j,l,n,k){if(n&&e){if(k){k=[a[l]].concat(Ext.functionFactory("return ["+k+"];")())}else{k=[a[l]]}if(n.substr(0,5)=="this."){return d[n.substr(5)].apply(d,k)}else{return h[n].apply(h,k)}}else{return a[l]!==undefined?a[l]:""}}c=i.html.replace(i.re,f);return c},applyOut:function(a,c){var d=this;if(d.compiled){c.push.apply(c,d.compiled(a))}else{c.push(d.apply(a))}return c},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,d){var c=this;c.html=a;c.compiled=null;return d?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(c,a,d){return this.doInsert("afterBegin",c,a,d)},insertBefore:function(c,a,d){return this.doInsert("beforeBegin",c,a,d)},insertAfter:function(c,a,d){return this.doInsert("afterEnd",c,a,d)},append:function(c,a,d){return this.doInsert("beforeEnd",c,a,d)},doInsert:function(d,f,c,a){f=Ext.getDom(f);var e=Ext.DomHelper.insertHtml(d,f,this.apply(c));return a?Ext.get(e,true):e},overwrite:function(c,a,d){c=Ext.getDom(c);c.innerHTML=this.apply(a);return d?Ext.get(c.firstChild,true):c.firstChild}});Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",apply:function(a){return this.applyOut(a,[]).join("")},applyOut:function(a,c){var f=this,d;if(!f.fn){d=new Ext.XTemplateCompiler({useFormat:f.disableFormats!==true});f.fn=d.compile(f.html)}try{f.fn.call(f,c,a,{},1,1)}catch(h){}return c},compile:function(){return this},statics:{getTpl:function(a,d){var c=a[d],e;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(d)){a[d]=c}else{for(e=a.self.prototype;e;e=e.superclass){if(e.hasOwnProperty(d)){e[d]=c;break}}}}return c||null}}});Ext.define("Ext.util.SizeMonitor",{extend:"Ext.Evented",config:{element:null,detectorCls:Ext.baseCSSPrefix+"size-change-detector",callback:Ext.emptyFn,scope:null,args:[]},constructor:function(e){this.initConfig(e);this.doFireSizeChangeEvent=Ext.Function.bind(this.doFireSizeChangeEvent,this);var i=this,f=this.getElement().dom,c=this.getDetectorCls(),d=Ext.Element.create({classList:[c,c+"-expand"],children:[{}]},true),j=Ext.Element.create({classList:[c,c+"-shrink"],children:[{}]},true),a=function(k){i.onDetectorScroll("expand",k)},h=function(k){i.onDetectorScroll("shrink",k)};f.appendChild(d);f.appendChild(j);this.detectors={expand:d,shrink:j};this.position={expand:{left:0,top:0},shrink:{left:0,top:0}};this.listeners={expand:a,shrink:h};this.refresh();d.addEventListener("scroll",a,true);j.addEventListener("scroll",h,true)},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){a.on("destroy","destroy",this)},refreshPosition:function(c){var f=this.detectors[c],a=this.position[c],e,d;a.left=e=f.scrollWidth-f.offsetWidth;a.top=d=f.scrollHeight-f.offsetHeight;f.scrollLeft=e;f.scrollTop=d},refresh:function(){this.refreshPosition("expand");this.refreshPosition("shrink")},onDetectorScroll:function(c){var d=this.detectors[c],a=this.position[c];if(d.scrollLeft!==a.left||d.scrollTop!==a.top){this.refresh();this.fireSizeChangeEvent()}},fireSizeChangeEvent:function(){clearTimeout(this.sizeChangeThrottleTimer);this.sizeChangeThrottleTimer=setTimeout(this.doFireSizeChangeEvent,1)},doFireSizeChangeEvent:function(){this.getCallback().apply(this.getScope(),this.getArgs())},destroyDetector:function(a){var d=this.detectors[a],c=this.listeners[a];d.removeEventListener("scroll",c,true);Ext.removeNode(d)},destroy:function(){this.callParent(arguments);this.destroyDetector("expand");this.destroyDetector("shrink");delete this.listeners;delete this.detectors}});Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),c=this.getDuration();if(a>c){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((a/c)*this.distance)}}});Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{element:null,easing:null,easingX:null,easingY:null,fps:60},constructor:function(a){var c;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.x=0;this.y=0;this.activeEasingX=null;this.activeEasingY=null;this.initialConfig=a;if(a&&a.element){c=a.element;this.setElement(c)}},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){this.initConfig(this.initialConfig);this.refresh()},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(a))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(a))}},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},updateFps:function(a){this.animationInterval=1000/a},doTranslate:function(a,c){if(typeof a=="number"){this.x=a}if(typeof c=="number"){this.y=c}return this},translate:function(a,d,c){if(!this.getElement().dom){return}if(Ext.isObject(a)){throw new Error()}this.stopAnimation();if(c){return this.translateAnimated(a,d,c)}return this.doTranslate(a,d)},animate:function(c,a){this.activeEasingX=c;this.activeEasingY=a;this.isAnimating=true;this.animationTimer=setInterval(this.doAnimationFrame,this.animationInterval);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(c,i,f){if(Ext.isObject(c)){throw new Error()}if(!Ext.isObject(f)){f={}}var e=Ext.Date.now(),h=f.easing,d=(typeof c=="number")?(f.easingX||this.getEasingX()||h||true):null,a=(typeof i=="number")?(f.easingY||this.getEasingY()||h||true):null;if(d){d=this.factoryEasing(d);d.setStartTime(e);d.setStartValue(this.x);d.setEndValue(c);if("duration" in f){d.setDuration(f.duration)}}if(a){a=this.factoryEasing(a);a.setStartTime(e);a.setStartValue(this.y);a.setEndValue(i);if("duration" in f){a.setDuration(f.duration)}}return this.animate(d,a)},doAnimationFrame:function(){var d=this.activeEasingX,c=this.activeEasingY,e=this.getElement(),a,f;if(!this.isAnimating||!e.dom){return}if(d===null&&c===null){this.stopAnimation();return}if(d!==null){this.x=a=Math.round(d.getValue());if(d.isEnded){this.activeEasingX=null;this.fireEvent("axisanimationend",this,"x",a)}}else{a=this.x}if(c!==null){this.y=f=Math.round(c.getValue());if(c.isEnded){this.activeEasingY=null;this.fireEvent("axisanimationend",this,"y",f)}}else{f=this.y}this.doTranslate(a,f);this.fireEvent("animationframe",this,a,f)},stopAnimation:function(){if(!this.isAnimating){return}this.activeEasingX=null;this.activeEasingY=null;this.isAnimating=false;clearInterval(this.animationTimer);this.fireEvent("animationend",this,this.x,this.y)},refresh:function(){this.translate(this.x,this.y)}});Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Abstract",doTranslate:function(a,d){var c=this.getElement().dom.style;if(typeof a!="number"){a=this.x}if(typeof d!="number"){d=this.y}c.webkitTransform="translate3d("+a+"px, "+d+"px, 0px)";return this.callParent(arguments)},destroy:function(){var a=this.getElement();if(a&&!a.isDestroyed){a.dom.style.webkitTransform=null}this.callParent(arguments)}});Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Abstract",wrapperWidth:0,wrapperHeight:0,baseCls:"x-translatable",config:{useWrapper:true},getWrapper:function(){var f=this.wrapper,d=this.baseCls,c=this.getElement(),e,a;if(!f){a=c.getParent();if(!a){return null}if(this.getUseWrapper()){f=c.wrap({className:d+"-wrapper"},true)}else{f=a.dom}f.appendChild(Ext.Element.create({className:d+"-stretcher"},true));this.nestedStretcher=e=Ext.Element.create({className:d+"-nested-stretcher"},true);c.appendChild(e);c.addCls(d);a.addCls(d+"-container");this.container=a;this.wrapper=f;this.refresh()}return f},doTranslate:function(a,d){var c=this.getWrapper();if(c){if(typeof a=="number"){c.scrollLeft=this.wrapperWidth-a}if(typeof d=="number"){c.scrollTop=this.wrapperHeight-d}}return this.callParent(arguments)},refresh:function(){var a=this.getWrapper();if(a){this.wrapperWidth=a.offsetWidth;this.wrapperHeight=a.offsetHeight;this.callParent(arguments)}},destroy:function(){var c=this.getElement(),a=this.baseCls;if(this.wrapper){if(this.getUseWrapper()){c.unwrap()}this.container.removeCls(a+"-container");c.removeCls(a);c.removeChild(this.nestedStretcher)}this.callParent(arguments)}});Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition"],constructor:function(a){var d=Ext.util.translatable,f=d.CssTransform,e=d.ScrollPosition,c;if(typeof a=="object"&&"translationMethod" in a){if(a.translationMethod==="scrollposition"){c=e}else{if(a.translationMethod==="csstransform"){c=f}}}if(!c){if(Ext.os.is.Android2||Ext.browser.is.ChromeMobile){c=e}else{c=f}}return new c(a)}});Ext.define("Ext.behavior.Translatable",{extend:"Ext.behavior.Behavior",requires:["Ext.util.Translatable"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.translatable.refresh()},setConfig:function(d){var a=this.translatable,c=this.component;if(d){if(!a){this.translatable=a=new Ext.util.Translatable(d);a.setElement(c.renderElement);a.on("destroy","onTranslatableDestroy",this);if(c.isPainted()){this.onComponentPainted(c)}c.on(this.listeners)}else{if(Ext.isObject(d)){a.setConfig(d)}}}else{if(a){a.destroy()}}return this},getTranslatable:function(){return this.translatable},onTranslatableDestroy:function(){var a=this.component;delete this.translatable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.translatable;if(a){a.destroy()}}});Ext.define("Ext.util.Draggable",{isDraggable:true,mixins:["Ext.mixin.Observable"],requires:["Ext.util.SizeMonitor","Ext.util.Translatable"],config:{cls:Ext.baseCSSPrefix+"draggable",draggingCls:Ext.baseCSSPrefix+"dragging",element:null,constraint:"container",disabled:null,direction:"both",initialOffset:{x:0,y:0},translatable:{}},DIRECTION_BOTH:"both",DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",defaultConstraint:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}},sizeMonitor:null,containerSizeMonitor:null,constructor:function(a){var c;this.extraConstraint={};this.initialConfig=a;this.offset={x:0,y:0};this.listeners={dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",scope:this};if(a&&a.element){c=a.element;delete a.element;this.setElement(c)}return this},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){a.on(this.listeners);this.sizeMonitor=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.initConfig(this.initialConfig)},updateInitialOffset:function(c){if(typeof c=="number"){c={x:c,y:c}}var d=this.offset,a,e;d.x=a=c.x;d.y=e=c.y;this.getTranslatable().doTranslate(a,e)},updateCls:function(a){this.getElement().addCls(a)},applyTranslatable:function(a,c){a=Ext.factory(a,Ext.util.Translatable,c);a.setElement(this.getElement());return a},setExtraConstraint:function(a){this.extraConstraint=a||{};this.refreshConstraint();return this},addExtraConstraint:function(a){Ext.merge(this.extraConstraint,a);this.refreshConstraint();return this},applyConstraint:function(a){this.currentConstraint=a;if(!a){a=this.defaultConstraint}if(a==="container"){return Ext.merge(this.getContainerConstraint(),this.extraConstraint)}return Ext.merge({},this.extraConstraint,a)},updateConstraint:function(){this.refreshOffset()},getContainerConstraint:function(){var c=this.getContainer(),d=this.getElement();if(!c||!d.dom){return this.defaultConstraint}var j=d.dom,i=c.dom,e=j.offsetWidth,a=j.offsetHeight,h=i.offsetWidth,f=i.offsetHeight;return{min:{x:0,y:0},max:{x:h-e,y:f-a}}},getContainer:function(){var a=this.container;if(!a){a=this.getElement().getParent();if(a){this.containerSizeMonitor=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.container=a;a.on("destroy","onContainerDestroy",this)}}return a},onContainerDestroy:function(){delete this.container;delete this.containerSizeMonitor},detachListeners:function(){this.getElement().un(this.listeners)},isAxisEnabled:function(a){var c=this.getDirection();if(a==="x"){return(c===this.DIRECTION_BOTH||c===this.DIRECTION_HORIZONTAL)}return(c===this.DIRECTION_BOTH||c===this.DIRECTION_VERTICAL)},onDragStart:function(a){if(this.getDisabled()){return false}var c=this.offset;this.fireAction("dragstart",[this,a,c.x,c.y],this.initDragStart)},initDragStart:function(c,d,a,f){this.dragStartOffset={x:a,y:f};this.isDragging=true;this.getElement().addCls(this.getDraggingCls())},onDrag:function(c){if(!this.isDragging){return}var a=this.dragStartOffset;this.fireAction("drag",[this,c,a.x+c.deltaX,a.y+c.deltaY],this.doDrag)},doDrag:function(c,d,a,f){c.setOffset(a,f)},onDragEnd:function(a){if(!this.isDragging){return}this.onDrag(a);this.isDragging=false;this.getElement().removeCls(this.getDraggingCls());this.fireEvent("dragend",this,a,this.offset.x,this.offset.y)},setOffset:function(k,j,c){var h=this.offset,a=this.getConstraint(),f=a.min,d=a.max,e=Math.min,i=Math.max;if(this.isAxisEnabled("x")&&typeof k=="number"){k=e(i(k,f.x),d.x)}else{k=h.x}if(this.isAxisEnabled("y")&&typeof j=="number"){j=e(i(j,f.y),d.y)}else{j=h.y}h.x=k;h.y=j;this.getTranslatable().translate(k,j,c)},getOffset:function(){return this.offset},refreshConstraint:function(){this.setConstraint(this.currentConstraint)},refreshOffset:function(){var a=this.offset;this.setOffset(a.x,a.y)},doRefresh:function(){this.refreshConstraint();this.getTranslatable().refresh();this.refreshOffset()},refresh:function(){if(this.sizeMonitor){this.sizeMonitor.refresh()}if(this.containerSizeMonitor){this.containerSizeMonitor.refresh()}this.doRefresh()},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled(true)},destroy:function(){var a=this.getTranslatable();Ext.destroy(this.containerSizeMonitor,this.sizeMonitor);delete this.sizeMonitor;delete this.containerSizeMonitor;var c=this.getElement();if(c&&!c.isDestroyed){c.removeCls(this.getCls())}this.detachListeners();if(a){a.destroy()}}},function(){});Ext.define("Ext.behavior.Draggable",{extend:"Ext.behavior.Behavior",requires:["Ext.util.Draggable"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.draggable.refresh()},setConfig:function(d){var a=this.draggable,c=this.component;if(d){if(!a){c.setTranslatable(true);this.draggable=a=new Ext.util.Draggable(d);a.setTranslatable(c.getTranslatable());a.setElement(c.renderElement);a.on("destroy","onDraggableDestroy",this);if(c.isPainted()){this.onComponentPainted(c)}c.on(this.listeners)}else{if(Ext.isObject(d)){a.setConfig(d)}}}else{if(a){a.destroy()}}return this},getDraggable:function(){return this.draggable},onDraggableDestroy:function(){var a=this.component;delete this.draggable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.draggable;if(a){a.destroy()}}});(function(a){Ext.define("Ext.Component",{extend:"Ext.AbstractComponent",alternateClassName:"Ext.lib.Component",mixins:["Ext.mixin.Traversable"],requires:["Ext.ComponentManager","Ext.XTemplate","Ext.dom.Element","Ext.behavior.Translatable","Ext.behavior.Draggable"],xtype:"component",observableType:"component",cachedConfig:{baseCls:null,cls:null,floatingCls:null,hiddenCls:a+"item-hidden",ui:null,margin:null,padding:null,border:null,styleHtmlCls:a+"html",styleHtmlContent:null},eventedConfig:{left:null,top:null,right:null,bottom:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,docked:null,centered:null,hidden:null,disabled:null},config:{style:null,html:null,draggable:null,translatable:null,renderTo:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:"overwrite",data:null,disabledCls:a+"item-disabled",contentEl:null,itemId:undefined,record:null,plugins:null},listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend|element)$/,alignmentRegex:/^([a-z]+)-([a-z]+)(\?)?$/,isComponent:true,floating:false,rendered:false,dockPositions:{top:true,right:true,bottom:true,left:true},innerElement:null,element:null,template:[],constructor:function(d){var e=this,c=e.config,f;e.onInitializedListeners=[];e.initialConfig=d;if(d!==undefined&&"id" in d){f=d.id}else{if("id" in c){f=c.id}else{f=e.getId()}}e.id=f;e.setId(f);Ext.ComponentManager.register(e);e.initElement();e.initConfig(e.initialConfig);e.initialize();e.triggerInitialized();if(e.config.fullscreen){e.fireEvent("fullscreen",e)}e.fireEvent("initialize",e)},beforeInitConfig:function(c){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,getTemplate:function(){return this.template},getElementConfig:function(){return{reference:"element",children:this.getTemplate()}},triggerInitialized:function(){var d=this.onInitializedListeners,e=d.length,f,c;if(!this.initialized){this.initialized=true;if(e>0){for(c=0;c<e;c++){f=d[c];f.fn.call(f.scope,this)}d.length=0}}},onInitialized:function(e,d){var c=this.onInitializedListeners;if(!d){d=this}if(this.initialized){e.call(d,this)}else{c.push({fn:e,scope:d})}},renderTo:function(c,e){var h=this.renderElement.dom,f=Ext.getDom(c),d=Ext.getDom(e);if(f){if(d){f.insertBefore(h,d)}else{f.appendChild(h)}this.setRendered(Boolean(h.offsetParent))}},setParent:function(d){var c=this.parent;if(d&&c&&c!==d){c.remove(this,false)}this.parent=d;return this},applyPlugins:function(c){var e,d,f;if(!c){return c}c=[].concat(c);for(d=0,e=c.length;d<e;d++){f=c[d];c[d]=Ext.factory(f,"Ext.plugin.Plugin",null,"plugin")}return c},updatePlugins:function(f,c){var e,d;if(f){for(d=0,e=f.length;d<e;d++){f[d].init(this)}}if(c){for(d=0,e=c.length;d<e;d++){Ext.destroy(c[d])}}},updateRenderTo:function(c){this.renderTo(c)},updateStyle:function(c){this.element.applyStyles(c)},updateBorder:function(c){this.element.setBorder(c)},updatePadding:function(c){this.innerElement.setPadding(c)},updateMargin:function(c){this.element.setMargin(c)},updateUi:function(c,e){var d=this.getBaseCls();if(d){if(e){this.element.removeCls(e,d)}if(c){this.element.addCls(c,d)}}},applyBaseCls:function(c){return c||a+this.xtype},updateBaseCls:function(c,d){var e=this,f=e.getUi();if(c){this.element.addCls(c);if(f){this.element.addCls(c,null,f)}}if(d){this.element.removeCls(d);if(f){this.element.removeCls(d,null,f)}}},addCls:function(c,k,l){var f=this.getCls(),j=(f)?f.slice():[],h,e,d;k=k||"";l=l||"";if(typeof c=="string"){c=[c]}h=c.length;if(!j.length&&k===""&&l===""){j=c}else{for(e=0;e<h;e++){d=k+c[e]+l;if(j.indexOf(d)==-1){j.push(d)}}}this.setCls(j)},removeCls:function(c,j,k){var e=this.getCls(),h=(e)?e.slice():[],f,d;j=j||"";k=k||"";if(typeof c=="string"){h=Ext.Array.remove(h,j+c+k)}else{f=c.length;for(d=0;d<f;d++){h=Ext.Array.remove(h,j+c[d]+k)}}this.setCls(h)},replaceCls:function(f,l,e,k){var m=this.getCls(),h=(m)?m.slice():[],j,d,c;e=e||"";k=k||"";if(typeof f=="string"){h=Ext.Array.remove(h,e+f+k)}else{if(f){j=f.length;for(d=0;d<j;d++){h=Ext.Array.remove(h,e+f[d]+k)}}}if(typeof l=="string"){h.push(e+l+k)}else{if(l){j=l.length;if(!h.length&&e===""&&k===""){h=l}else{for(d=0;d<j;d++){c=e+l[d]+k;if(h.indexOf(c)==-1){h.push(c)}}}}}this.setCls(h)},applyCls:function(c){if(typeof c=="string"){c=[c]}if(!c||!c.length){c=null}return c},updateCls:function(d,c){if(c!=d&&this.element){this.element.replaceCls(c,d)}},updateStyleHtmlCls:function(e,c){var f=this.innerHtmlElement,d=this.innerElement;if(this.getStyleHtmlContent()&&c){if(f){f.replaceCls(c,e)}else{d.replaceCls(c,e)}}},applyStyleHtmlContent:function(c){return Boolean(c)},updateStyleHtmlContent:function(e){var c=this.getStyleHtmlCls(),d=this.innerElement,f=this.innerHtmlElement;if(e){if(f){f.addCls(c)}else{d.addCls(c)}}else{if(f){f.removeCls(c)}else{d.addCls(c)}}},applyContentEl:function(c){if(c){return Ext.get(c)}},updateContentEl:function(c,d){if(d){d.hide();Ext.getBody().append(d)}if(c){this.setHtml(c.dom);c.show()}},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},isCentered:function(){return Boolean(this.getCentered())},isFloating:function(){return this.floating},isDocked:function(){return Boolean(this.getDocked())},isInnerItem:function(){var c=this;return !c.isCentered()&&!c.isFloating()&&!c.isDocked()},filterPositionValue:function(c){if(c===""||c==="auto"){c=null}return c},applyTop:function(c){return this.filterPositionValue(c)},applyRight:function(c){return this.filterPositionValue(c)},applyBottom:function(c){return this.filterPositionValue(c)},applyLeft:function(c){return this.filterPositionValue(c)},doSetTop:function(c){this.updateFloating();this.element.setTop(c)},doSetRight:function(c){this.updateFloating();this.element.setRight(c)},doSetBottom:function(c){this.updateFloating();this.element.setBottom(c)},doSetLeft:function(c){this.updateFloating();this.element.setLeft(c)},doSetWidth:function(c){this.element.setWidth(c)},doSetHeight:function(c){this.element.setHeight(c)},doSetMinWidth:function(c){this.element.setMinWidth(c)},doSetMinHeight:function(c){this.element.setMinHeight(c)},doSetMaxWidth:function(c){this.element.setMaxWidth(c)},doSetMaxHeight:function(c){this.element.setMaxHeight(c)},applyCentered:function(c){c=Boolean(c);if(c){if(this.isFloating()){this.resetFloating()}if(this.isDocked()){this.setDocked(false)}}return c},doSetCentered:Ext.emptyFn,applyDocked:function(c){if(!c){return null}if(!this.dockPositions[c]){return}if(this.isFloating()){this.resetFloating()}if(this.isCentered()){this.setCentered(false)}return c},doSetDocked:Ext.emptyFn,resetFloating:function(){this.setTop(null);this.setRight(null);this.setBottom(null);this.setLeft(null)},updateFloating:function(){var d=true,c=this.getFloatingCls();if(this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null){d=false}if(d!==this.floating){if(d){if(this.isCentered()){this.setCentered(false)}if(this.isDocked()){this.setDocked(false)}if(c){this.addCls(c)}}else{if(c){this.removeCls(c)}}this.floating=d;this.fireEvent("floatingchange",this,d)}},updateFloatingCls:function(c,d){if(this.isFloating()){this.replaceCls(d,c)}},applyDisabled:function(c){return Boolean(c)},doSetDisabled:function(c){this.element[c?"addCls":"removeCls"](this.getDisabledCls())},updateDisabledCls:function(c,d){if(this.isDisabled()){this.element.replaceCls(d,c)}},disable:function(){this.setDisabled(true)},enable:function(){this.setDisabled(false)},isDisabled:function(){return this.getDisabled()},applyZIndex:function(c){if(c!==null){c=Number(c);if(isNaN(c)){c=null}}return c},updateZIndex:function(d){var c=this.element.dom.style;if(d!==null){c.setProperty("z-index",d,"important")}else{c.removeProperty("z-index")}},getInnerHtmlElement:function(){var c=this.innerHtmlElement,d=this.getStyleHtmlCls();if(!c||!c.dom||!c.dom.parentNode){this.innerHtmlElement=c=this.innerElement.createChild({cls:"x-innerhtml "});if(this.getStyleHtmlContent()){this.innerHtmlElement.addCls(d);this.innerElement.removeCls(d)}}return c},updateHtml:function(c){var d=this.getInnerHtmlElement();if(Ext.isElement(c)){d.setHtml("");d.append(c)}else{d.setHtml(c)}},applyHidden:function(c){return Boolean(c)},doSetHidden:function(d){var c=this.renderElement;if(c.isDestroyed){return}if(d){c.hide()}else{c.show()}if(this.element){this.element[d?"addCls":"removeCls"](this.getHiddenCls())}this.fireEvent(d?"hide":"show",this)},updateHiddenCls:function(c,d){if(this.isHidden()){this.element.replaceCls(d,c)}},isHidden:function(){return this.getHidden()},hide:function(c){if(!this.getHidden()){if(c===undefined||(c&&c.isComponent)){c=this.getHideAnimation()}if(c){if(c===true){c="fadeOut"}this.onBefore({hiddenchange:"animateFn",scope:this,single:true,args:[c]})}this.setHidden(true)}return this},show:function(d){var c=this.getHidden();if(c||c===null){if(d===true){d="fadeIn"}else{if(d===undefined||(d&&d.isComponent)){d=this.getShowAnimation()}}if(d){this.onBefore({hiddenchange:"animateFn",scope:this,single:true,args:[d]})}this.setHidden(false)}return this},animateFn:function(i,f,j,e,d,c){if(i&&(!j||(j&&this.isPainted()))){var h=new Ext.fx.Animation(i);h.setElement(f.element);if(j){h.setOnEnd(function(){c.resume()});c.pause()}Ext.Animator.run(h)}},setVisibility:function(c){this.renderElement.setVisibility(c)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(c){return(Ext.isObject(c)&&c.isTemplate)?c:new Ext.XTemplate(c)},applyData:function(c){if(Ext.isObject(c)){return Ext.apply({},c)}return c},updateData:function(e){var f=this;if(e){var d=f.getTpl(),c=f.getTplWriteMode();if(d){d[c](f.getInnerHtmlElement(),e)}this.fireEvent("updatedata",f,e)}},applyRecord:function(c){if(c&&Ext.isObject(c)&&c.isModel){return c}return null},updateRecord:function(d,c){var e=this;if(c){c.unjoin(e)}if(!d){e.updateData("")}else{d.join(e);e.updateData(d.getData(true))}},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},applyItemId:function(c){return c||this.getId()},isXType:function(d,c){if(c){return this.xtypes.indexOf(d)!=-1}return Boolean(this.xtypesMap[d])},getXTypes:function(){return this.xtypesChain.join("/")},getDraggableBehavior:function(){var c=this.draggableBehavior;if(!c){c=this.draggableBehavior=new Ext.behavior.Draggable(this)}return c},applyDraggable:function(c){this.getDraggableBehavior().setConfig(c)},getDraggable:function(){return this.getDraggableBehavior().getDraggable()},getTranslatableBehavior:function(){var c=this.translatableBehavior;if(!c){c=this.translatableBehavior=new Ext.behavior.Translatable(this)}return c},applyTranslatable:function(c){this.getTranslatableBehavior().setConfig(c)},getTranslatable:function(){return this.getTranslatableBehavior().getTranslatable()},translateAxis:function(d,f,e){var c,h;if(d==="x"){c=f}else{h=f}return this.translate(c,h,e)},translate:function(){var c=this.getTranslatable();if(!c){this.setTranslatable(true);c=this.getTranslatable()}c.translate.apply(c,arguments)},setRendered:function(d){var c=this.rendered;if(d!==c){this.rendered=d;return true}return false},setSize:function(d,c){if(d!=undefined){this.setWidth(d)}if(c!=undefined){this.setHeight(c)}},doAddListener:function(e,h,f,d,c){if(d&&"element" in d){this[d.element].doAddListener(e,h,f||this,d,c)}return this.callParent(arguments)},doRemoveListener:function(e,h,f,d,c){if(d&&"element" in d){this[d.element].doRemoveListener(e,h,f||this,d,c)}return this.callParent(arguments)},showBy:function(e,h){var d=Ext.Array.from(arguments);var c=Ext.Viewport,f=this.getParent();this.setVisibility(false);if(f!==c){c.add(this)}this.show();this.on("erased","onShowByErased",this,{single:true});c.on("resize","refreshShowBy",this,{args:[e,h]});this.currentShowByArgs=d;this.alignTo(e,h);this.setVisibility(true)},refreshShowBy:function(c,d){this.alignTo(c,d)},onShowByErased:function(){Ext.Viewport.un("resize","refreshShowBy",this)},alignTo:function(q,l){var h=q.isComponent?q.renderElement:q,d=this.renderElement,s=h.getPageBox(),D=this.getParent().element.getPageBox(),p=d.getPageBox(),A=s.height,r=s.width,v=p.height,x=p.width;D.bottom-=5;D.height-=10;D.left+=5;D.right-=5;D.top+=5;D.width-=10;if(!l||l==="auto"){if(D.bottom-s.bottom<v){if(s.top-D.top<v){if(s.left-D.left<x){l="cl-cr?"}else{l="cr-cl?"}}else{l="bc-tc?"}}else{l="tc-bc?"}}var c=l.match(this.alignmentRegex);var y=c[1].split(""),e=c[2].split(""),B=(c[3]==="?"),k=y[0],w=y[1]||k,o=e[0],n=e[1]||o,t=s.top,f=s.left,m=A/2,i=r/2,j=x/2,u=v/2,z,C;switch(k){case"t":switch(o){case"c":t+=m;break;case"b":t+=A}break;case"b":switch(o){case"c":t-=(v-m);break;case"t":t-=v;break;case"b":t-=v-A}break;case"c":switch(o){case"t":t-=u;break;case"c":t-=(u-m);break;case"b":t-=(u-A)}break}switch(w){case"l":switch(n){case"c":f+=m;break;case"r":f+=r}break;case"r":switch(n){case"r":f-=(x-r);break;case"c":f-=(x-j);break;case"l":f-=x}break;case"c":switch(n){case"l":f-=j;break;case"c":f-=(j-i);break;case"r":f-=(j-r)}break}if(B){z=(D.left+D.width)-x;C=(D.top+D.height)-v;f=Math.max(D.left,Math.min(z,f));t=Math.max(D.top,Math.min(C,t))}this.setLeft(f);this.setTop(t)},up:function(d){var c=this.parent;if(d){for(;c;c=c.parent){if(Ext.ComponentQuery.is(c,d)){return c}}}return c},getBubbleTarget:function(){return this.getParent()},destroy:function(){this.destroy=Ext.emptyFn;var f=this.getParent(),d=this.referenceList,e,h,c;Ext.destroy(this.getTranslatable(),this.getPlugins());if(f){f.remove(this,false)}for(e=0,h=d.length;e<h;e++){c=d[e];this[c].destroy();delete this[c]}Ext.destroy(this.innerHtmlElement);this.setRecord(null);Ext.ComponentManager.unregister(this);this.callParent()}},function(){})})(Ext.baseCSSPrefix);Ext.define("Ext.event.publisher.ComponentDelegation",{extend:"Ext.event.publisher.Publisher",requires:["Ext.Component","Ext.ComponentQuery"],targetType:"component",optimizedSelectorRegex:/^#([\w\-]+)((?:[\s]*)>(?:[\s]*)|(?:\s*))([\w\-]+)$/i,handledEvents:["*"],getSubscribers:function(c,a){var e=this.subscribers,d=e[c];if(!d&&a){d=e[c]={type:{$length:0},selector:[],$length:0}}return d},subscribe:function(i,h){if(this.idSelectorRegex.test(i)){return false}var f=i.match(this.optimizedSelectorRegex),a=this.getSubscribers(h,true),m=a.type,d=a.selector,e,k,l,c,j;if(f!==null){e=f[1];k=f[2].indexOf(">")===-1;l=f[3];c=m[l];if(!c){m[l]=c={descendents:{$length:0},children:{$length:0},$length:0}}j=k?c.descendents:c.children;if(j.hasOwnProperty(e)){j[e]++;return true}j[e]=1;j.$length++;c.$length++;m.$length++}else{if(d.hasOwnProperty(i)){d[i]++;return true}d[i]=1;d.push(i)}a.$length++;return true},unsubscribe:function(i,h,m){var a=this.getSubscribers(h);if(!a){return false}var f=i.match(this.optimizedSelectorRegex),n=a.type,d=a.selector,e,k,l,c,j;m=Boolean(m);if(f!==null){e=f[1];k=f[2].indexOf(">")===-1;l=f[3];c=n[l];if(!c){return true}j=k?c.descendents:c.children;if(!j.hasOwnProperty(e)||(!m&&--j[e]>0)){return true}delete j[e];j.$length--;c.$length--;n.$length--}else{if(!d.hasOwnProperty(i)||(!m&&--d[i]>0)){return true}delete d[i];Ext.Array.remove(d,i)}if(--a.$length===0){delete this.subscribers[h]}return true},notify:function(e,a){var d=this.getSubscribers(a),f,c;if(!d||d.$length===0){return false}f=e.substr(1);c=Ext.ComponentManager.get(f);if(c){this.dispatcher.doAddListener(this.targetType,e,a,"publish",this,{args:[a,c]},"before")}},matchesSelector:function(c,a){return Ext.ComponentQuery.is(c,a)},dispatch:function(e,c,d,a){this.dispatcher.doDispatchEvent(this.targetType,e,c,d,null,a)},publish:function(k,m){var f=this.getSubscribers(k);if(!f){return}var r=arguments[arguments.length-1],q=f.type,c=f.selector,e=Array.prototype.slice.call(arguments,2,-2),n=m.xtypesChain,u,p,v,a,o,x,t,w,l,h,s,d;for(w=0,l=n.length;w<l;w++){h=n[w];f=q[h];if(f&&f.$length>0){u=f.descendents;if(u.$length>0){if(!a){a=m.getAncestorIds()}for(s=0,d=a.length;s<d;s++){o=a[s];if(u.hasOwnProperty(o)){this.dispatch("#"+o+" "+h,k,e,r)}}}p=f.children;if(p.$length>0){if(!v){if(a){v=a[0]}else{x=m.getParent();if(x){v=x.getId()}}}if(v){if(p.hasOwnProperty(v)){this.dispatch("#"+v+" > "+h,k,e,r)}}}}}l=c.length;if(l>0){for(w=0;w<l;w++){t=c[w];if(this.matchesSelector(m,t)){this.dispatch(t,k,e,r)}}}}});Ext.define("Ext.event.publisher.ComponentPaint",{extend:"Ext.event.publisher.Publisher",targetType:"component",handledEvents:["painted","erased"],eventNames:{painted:"painted",erased:"erased"},constructor:function(){this.callParent(arguments);this.hiddenQueue={};this.renderedQueue={}},getSubscribers:function(c,a){var d=this.subscribers;if(!d.hasOwnProperty(c)){if(!a){return null}d[c]={$length:0}}return d[c]},setDispatcher:function(a){var c=this.targetType;a.doAddListener(c,"*","renderedchange","onBeforeComponentRenderedChange",this,null,"before");a.doAddListener(c,"*","hiddenchange","onBeforeComponentHiddenChange",this,null,"before");a.doAddListener(c,"*","renderedchange","onComponentRenderedChange",this,null,"after");a.doAddListener(c,"*","hiddenchange","onComponentHiddenChange",this,null,"after");return this.callParent(arguments)},subscribe:function(e,a){var c=e.match(this.idSelectorRegex),d,f;if(!c){return false}f=c[1];d=this.getSubscribers(a,true);if(d.hasOwnProperty(f)){d[f]++;return true}d[f]=1;d.$length++;return true},unsubscribe:function(f,a,d){var c=f.match(this.idSelectorRegex),e,h;if(!c||!(e=this.getSubscribers(a))){return false}h=c[1];if(!e.hasOwnProperty(h)||(!d&&--e[h]>0)){return true}delete e[h];if(--e.$length===0){delete this.subscribers[a]}return true},onBeforeComponentRenderedChange:function(c,e,i){var h=this.eventNames,d=i?h.painted:h.erased,f=this.getSubscribers(d),a;if(f&&f.$length>0){this.renderedQueue[e.getId()]=a=[];this.publish(f,e,d,a)}},onBeforeComponentHiddenChange:function(d,e){var h=this.eventNames,c=e?h.erased:h.painted,f=this.getSubscribers(c),a;if(f&&f.$length>0){this.hiddenQueue[d.getId()]=a=[];this.publish(f,d,c,a)}},onComponentRenderedChange:function(c,d){var e=this.renderedQueue,f=d.getId(),a;if(!e.hasOwnProperty(f)){return}a=e[f];delete e[f];if(a.length>0){this.dispatchQueue(a)}},onComponentHiddenChange:function(d){var c=this.hiddenQueue,e=d.getId(),a;if(!c.hasOwnProperty(e)){return}a=c[e];delete c[e];if(a.length>0){this.dispatchQueue(a)}},dispatchQueue:function(j){var n=this.dispatcher,a=this.targetType,c=this.eventNames,f=j.slice(),h=f.length,d,m,k,e,l;j.length=0;if(h>0){for(d=0;d<h;d++){m=f[d];k=m.component;e=m.eventName;l=k.isPainted();if((e===c.painted&&l)||e===c.erased&&!l){n.doDispatchEvent(a,"#"+m.id,e,[k])}}f.length=0}},publish:function(a,m,h,l){var d=m.getId(),c=false,e,k,f,j,n;if(a[d]){e=this.eventNames;n=m.isPainted();if((h===e.painted&&!n)||h===e.erased&&n){c=true}else{return this}}if(m.isContainer){k=m.getItems().items;for(f=0,j=k.length;f<j;f++){this.publish(a,k[f],h,l)}}else{if(m.isDecorator){this.publish(a,m.getComponent(),h,l)}}if(c){l.push({id:d,eventName:h,component:m})}}});Ext.define("Ext.event.publisher.ComponentSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.ComponentManager","Ext.util.SizeMonitor"],targetType:"component",handledEvents:["resize"],constructor:function(){this.callParent(arguments);this.sizeMonitors={}},subscribe:function(i){var d=i.match(this.idSelectorRegex),h=this.subscribers,a=this.sizeMonitors,e=this.dispatcher,f=this.targetType,c;if(!d){return false}if(!h.hasOwnProperty(i)){h[i]=0;e.addListener(f,i,"painted","onComponentPainted",this,null,"before");c=Ext.ComponentManager.get(d[1]);a[i]=new Ext.util.SizeMonitor({element:c.element,callback:this.onComponentSizeChange,scope:this,args:[this,i]})}h[i]++;return true},unsubscribe:function(j,c,f){var d=j.match(this.idSelectorRegex),i=this.subscribers,e=this.dispatcher,h=this.targetType,a=this.sizeMonitors;if(!d){return false}if(!i.hasOwnProperty(j)||(!f&&--i[j]>0)){return true}a[j].destroy();delete a[j];e.removeListener(h,j,"painted","onComponentPainted",this,"before");delete i[j];return true},onComponentPainted:function(c){var d=c.getObservableId(),a=this.sizeMonitors[d];a.refresh()},onComponentSizeChange:function(a,c){this.dispatcher.doDispatchEvent(this.targetType,c,"resize",[a])}});Ext.define("Ext.log.Base",{config:{},constructor:function(a){this.initConfig(a);return this}});(function(){var a=Ext.define("Ext.log.Logger",{extend:"Ext.log.Base",statics:{defaultPriority:"info",priorities:{verbose:0,info:1,deprecate:2,warn:3,error:4}},config:{enabled:true,minPriority:"deprecate",writers:{}},log:function(o,m,d){if(!this.getEnabled()){return this}var k=a,p=k.priorities,l=p[m],e=this.log.caller,n="",f=this.getWriters(),c,h,j;if(!m){m="info"}if(p[this.getMinPriority()]>l){return this}if(!d){d=1}if(Ext.isArray(o)){o=o.join(" ")}else{o=String(o)}if(typeof d=="number"){h=d;do{h--;e=e.caller;if(!e){break}if(!j){j=e.caller}if(h<=0&&e.displayName){break}}while(e!==j);n=Ext.getDisplayName(e)}else{e=e.caller;n=Ext.getDisplayName(d)+"#"+e.$name}c={time:Ext.Date.now(),priority:l,priorityName:m,message:o,caller:e,callerDisplayName:n};for(h in f){if(f.hasOwnProperty(h)){f[h].write(Ext.merge({},c))}}return this}},function(){Ext.Object.each(this.priorities,function(c){this.override(c,function(d,e){if(!e){e=1}if(typeof e=="number"){e+=1}this.log(d,c,e)})},this)})})();Ext.define("Ext.log.formatter.Formatter",{extend:"Ext.log.Base",config:{messageFormat:"{message}"},format:function(a){return this.substitute(this.getMessageFormat(),a)},substitute:function(c,e){var a,d;for(a in e){if(e.hasOwnProperty(a)){d=e[a];c=c.replace(new RegExp("\\{"+a+"\\}","g"),d)}}return c}});Ext.define("Ext.log.writer.Writer",{extend:"Ext.log.Base",requires:["Ext.log.formatter.Formatter"],config:{formatter:null,filters:{}},constructor:function(){this.activeFilters=[];return this.callParent(arguments)},updateFilters:function(d){var e=this.activeFilters,a,c;e.length=0;for(a in d){if(d.hasOwnProperty(a)){c=d[a];e.push(c)}}},write:function(h){var f=this.activeFilters,c=this.getFormatter(),a,e,d;for(a=0,e=f.length;a<e;a++){d=f[a];if(!f[a].accept(h)){return this}}if(c){h.message=c.format(h)}this.doWrite(h);return this},doWrite:Ext.emptyFn});Ext.define("Ext.log.writer.Console",{extend:"Ext.log.writer.Writer",config:{throwOnErrors:true,throwOnWarnings:false},doWrite:function(e){var d=e.message,c=e.priorityName,a;if(c==="error"&&this.getThrowOnErrors()){throw new Error(d)}if(typeof console!=="undefined"){a=c;if(a==="deprecate"){a="warn"}if(a==="warn"&&this.getThrowOnWarnings()){throw new Error(d)}if(!(a in console)){a="log"}console[a](d)}}});Ext.define("Ext.log.formatter.Default",{extend:"Ext.log.formatter.Formatter",config:{messageFormat:"[{priorityName}][{callerDisplayName}] {message}"},format:function(a){var a=Ext.merge({},a,{priorityName:a.priorityName.toUpperCase()});return this.callParent([a])}});Ext.define("Ext.fx.State",{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=a;return this},clear:function(){return this.setRaw({})},setTransform:function(d,i){var h=this.data,a=Ext.isArray(i),c=h.transform,f,e;if(!c){c=h.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof d=="string"){switch(d){case"translate":if(a){f=i.length;if(f==0){break}c.translateX=i[0];if(f==1){break}c.translateY=i[1];if(f==2){break}c.translateZ=i[2]}else{c.translateX=i}break;case"rotate":if(a){f=i.length;if(f==0){break}c.rotateX=i[0];if(f==1){break}c.rotateY=i[1];if(f==2){break}c.rotateZ=i[2]}else{c.rotate=i}break;case"scale":if(a){f=i.length;if(f==0){break}c.scaleX=i[0];if(f==1){break}c.scaleY=i[1];if(f==2){break}c.scaleZ=i[2]}else{c.scaleX=i;c.scaleY=i}break;case"skew":if(a){f=i.length;if(f==0){break}c.skewX=i[0];if(f==1){break}c.skewY=i[1]}else{c.skewX=i}break;default:c[d]=i}}else{for(e in d){if(d.hasOwnProperty(e)){i=d[e];this.setTransform(e,i)}}}},set:function(a,e){var d=this.data,c;if(typeof a!="string"){for(c in a){e=a[c];if(c==="transform"){this.setTransform(e)}else{d[c]=e}}}else{if(a==="transform"){this.setTransform(e)}else{d[a]=e}}return this},unset:function(a){var c=this.data;if(c.hasOwnProperty(a)){delete c[a]}return this},getData:function(){return this.data}});Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:true,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};this.callParent(arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,c){if(a){return Ext.factory(a,Ext.fx.State,c)}},applyAfter:function(c,a){if(c){return Ext.factory(c,Ext.fx.State,a)}},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var d=this.stateNameRegex,c;for(c in a){if(d.test(c)){this.setState(c,a[c])}}return this},getStates:function(){return this.states},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();this.callParent()},setState:function(c,e){var a=this.getStates(),d;d=Ext.factory(e,Ext.fx.State,a[c]);if(d){a[c]=d}return this},getState:function(a){return this.getStates()[a]},getData:function(){var m=this.getStates(),f={},i=this.getBefore(),d=this.getAfter(),j=m[this.STATE_FROM],k=m[this.STATE_TO],l=j.getData(),h=k.getData(),e,c,a;for(c in m){if(m.hasOwnProperty(c)){a=m[c];e=a.getData();f[c]=e}}if(Ext.os.is.Android2){f["0.0001%"]=l}return{before:i?i.getData():{},after:d?d.getData():{},states:f,from:l,to:h,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(a){if(a==="auto"){return"ease-"+((this.getOut())?"in":"out")}return a},getContainerBox:function(){var a=this._containerBox;if(a==="auto"){a=this.getElement().getParent().getPageBox()}return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(a==="auto"){a=this.getElement().getPageBox()}return a},getData:function(){var r=this.getElementBox(),d=this.getContainerBox(),i=r?r:d,p=this.getFrom(),q=this.getTo(),h=this.getOut(),f=this.getOffset(),o=this.getDirection(),c=this.getUseCssTransform(),j=this.getReverse(),e=0,a=0,n,l,m,k;if(j){o=this.reverseDirectionMap[o]}switch(o){case this.DIRECTION_UP:if(h){a=d.top-i.top-i.height-f}else{a=d.bottom-i.bottom+i.height+f}break;case this.DIRECTION_DOWN:if(h){a=d.bottom-i.bottom+i.height+f}else{a=d.top-i.height-i.top-f}break;case this.DIRECTION_RIGHT:if(h){e=d.right-i.right+i.width+f}else{e=d.left-i.left-i.width-f}break;case this.DIRECTION_LEFT:if(h){e=d.left-i.left-i.width-f}else{e=d.right-i.right+i.width+f}break}n=(h)?0:e;l=(h)?0:a;if(c){p.setTransform({translateX:n,translateY:l})}else{p.set("left",n);p.set("top",l)}m=(h)?e:0;k=(h)?a:0;if(c){q.setTransform({translateX:m,translateY:k})}else{q.set("left",m);q.set("top",k)}return this.callParent(arguments)}});Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:true}});Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var d=this.getTo(),c=this.getFrom();if(a){c.set("opacity",1);d.set("opacity",0)}else{c.set("opacity",0);d.set("opacity",1)}}});Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:true,before:{}}});Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var j=this.getFrom(),k=this.getTo(),i=this.getDirection(),c=this.getOut(),n=this.getHalf(),d=(n)?90:180,f=1,a=1,m=0,l=0,h=0,e=0;if(c){a=0.8}else{f=0.8}switch(i){case this.DIRECTION_UP:if(c){h=d}else{m=-d}break;case this.DIRECTION_DOWN:if(c){h=-d}else{m=d}break;case this.DIRECTION_RIGHT:if(c){e=-d}else{l=d}break;case this.DIRECTION_LEFT:if(c){e=-d}else{l=d}break}j.setTransform({rotateX:m,rotateY:l,scale:f});k.setTransform({rotateX:h,rotateY:e,scale:a});return this.callParent(arguments)}});Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var d=this.getTo(),c=this.getFrom(),a=this.getOut();if(a){c.set("opacity",1);c.setTransform({scale:1});d.set("opacity",0);d.setTransform({scale:0})}else{c.set("opacity",0);c.setTransform({scale:0});d.set("opacity",1);d.setTransform({scale:1})}return this.callParent(arguments)}});Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:true,before:{}}});Ext.define("Ext.fx.Animation",{requires:["Ext.fx.animation.Slide","Ext.fx.animation.SlideOut","Ext.fx.animation.Fade","Ext.fx.animation.FadeOut","Ext.fx.animation.Flip","Ext.fx.animation.Pop","Ext.fx.animation.PopOut"],constructor:function(c){var a=Ext.fx.animation.Abstract,d;if(typeof c=="string"){d=c;c={}}else{if(c&&c.type){d=c.type}}if(d){if(Ext.os.is.Android2){if(d=="pop"){d="fade"}if(d=="popIn"){d="fadeIn"}if(d=="popOut"){d="fadeOut"}}a=Ext.ClassManager.getByAlias("animation."+d)}return Ext.factory(c,a)}});Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var a=Ext.feature.has.Css3dTransforms;if(a){this.transformMethods=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]}else{this.transformMethods=["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"]}this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};return this},getStyleSheet:function(){var d=this.styleSheet,a,c;if(!d){a=document.createElement("style");a.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(a);c=document.styleSheets;this.styleSheet=d=c[c.length-1]}return d},applyRules:function(k){var i=this.getStyleSheet(),m=this.ruleStylesCache,l=i.cssRules,d,f,j,c,e,a,h;for(d in k){f=k[d];j=m[d];if(j===undefined){e=l.length;i.insertRule(d+"{}",e);j=m[d]=l.item(e).style}c=j.$cache;if(!c){c=j.$cache={}}for(a in f){h=this.formatValue(f[a],a);a=this.formatName(a);if(c[a]!==h){c[a]=h;if(h===null){j.removeProperty(a)}else{j.setProperty(a,h,"important")}}}}return this},applyStyles:function(e){var i,d,h,c,a,f;for(i in e){d=document.getElementById(i);if(!d){return this}h=d.style;c=e[i];for(a in c){f=this.formatValue(c[a],a);a=this.formatName(a);if(f===null){h.removeProperty(a)}else{h.setProperty(a,f,"important")}}}return this},formatName:function(c){var a=this.formattedNameCache,d=a[c];if(!d){if(this.prefixedProperties[c]){d=this.vendorPrefix+c}else{d=c}a[c]=d}return d},formatValue:function(l,c){var j=typeof l,n=this.DEFAULT_UNIT_LENGTH,f,a,e,h,d,m,k;if(j=="string"){if(this.lengthProperties[c]){k=l.match(this.lengthUnitRegex)[1];if(k.length>0){}else{return l+n}}return l}else{if(j=="number"){if(l==0){return"0"}if(this.lengthProperties[c]){return l+n}if(this.angleProperties[c]){return l+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[c]){return l+this.DEFAULT_UNIT_DURATION}}else{if(c==="transform"){f=this.transformMethods;d=[];for(e=0,h=f.length;e<h;e++){a=f[e];d.push(a+"("+this.formatValue(l[a],a)+")")}return d.join(" ")}else{if(Ext.isArray(l)){m=[];for(e=0,h=l.length;e<h;e++){m.push(this.formatValue(l[e],c))}return(m.length>0)?m.join(", "):"none"}}}}return l}});Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(c){var a=c.target,d=a.id;if(d&&this.runningAnimationsData.hasOwnProperty(d)){this.refreshRunningAnimationsData(Ext.get(a),[c.browserEvent.propertyName])}},onAnimationEnd:function(j,h,e,l,p){var d=j.getId(),m=this.runningAnimationsData[d],q={},o={},c,k,f,n,a;e.un("stop","onAnimationStop",this);if(m){c=m.nameMap}q[d]=o;if(h.onBeforeEnd){h.onBeforeEnd.call(h.scope||this,j,l)}e.fireEvent("animationbeforeend",e,j,l);this.fireEvent("animationbeforeend",this,e,j,l);if(p||(!l&&!h.preserveEndState)){k=h.toPropertyNames;for(f=0,n=k.length;f<n;f++){a=k[f];if(c&&!c.hasOwnProperty(a)){o[a]=null}}}if(h.after){Ext.merge(o,h.after)}this.applyStyles(q);if(h.onEnd){h.onEnd.call(h.scope||this,j,l)}e.fireEvent("animationend",e,j,l);this.fireEvent("animationend",this,e,j,l)},onAllAnimationsEnd:function(c){var d=c.getId(),a={};delete this.runningAnimationsData[d];a[d]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(a);this.fireEvent("animationallend",this,c)},hasRunningAnimations:function(a){var d=a.getId(),c=this.runningAnimationsData;return c.hasOwnProperty(d)&&c[d].sessions.length>0},refreshRunningAnimationsData:function(e,m,v,r){var k=e.getId(),s=this.runningAnimationsData,a=s[k];if(!a){return}var o=a.nameMap,u=a.nameList,c=a.sessions,h,l,f,w,n,d,t,q,p=false;v=Boolean(v);r=Boolean(r);if(!c){return this}h=c.length;if(h===0){return this}if(r){a.nameMap={};u.length=0;for(n=0;n<h;n++){d=c[n];this.onAnimationEnd(e,d.data,d.animation,v,r)}c.length=0}else{for(n=0;n<h;n++){d=c[n];t=d.map;q=d.list;for(l=0,f=m.length;l<f;l++){w=m[l];if(t[w]){delete t[w];Ext.Array.remove(q,w);d.length--;if(--o[w]==0){delete o[w];Ext.Array.remove(u,w)}}}if(d.length==0){c.splice(n,1);n--;h--;p=true;this.onAnimationEnd(e,d.data,d.animation,v)}}}if(!r&&!v&&c.length==0&&p){this.onAllAnimationsEnd(e)}},getRunningData:function(c){var a=this.runningAnimationsData;if(!a.hasOwnProperty(c)){a[c]={nameMap:{},nameList:[],sessions:[]}}return a[c]},getTestElement:function(){var d=this.testElement,c,e,a;if(!d){c=document.createElement("iframe");a=c.style;a.setProperty("visibility","hidden","important");a.setProperty("width","0px","important");a.setProperty("height","0px","important");a.setProperty("position","absolute","important");a.setProperty("border","0px","important");a.setProperty("zIndex","-1000","important");document.body.appendChild(c);e=c.contentDocument;e.open();e.writeln("</body>");e.close();this.testElement=d=e.createElement("div");d.style.setProperty("position","absolute","!important");e.body.appendChild(d);this.testElementComputedStyle=window.getComputedStyle(d)}return d},getCssStyleValue:function(c,f){var e=this.getTestElement(),a=this.testElementComputedStyle,d=e.style;d.setProperty(c,f);f=a.getPropertyValue(c);d.removeProperty(c);return f},run:function(r){var H=this,l=this.lengthProperties,z={},G={},I={},e,u,A,f,w,K,x,s,t,a,C,B,q,D,n,v,k,E,J,m,h,y,p,d,F,c,o;if(!this.listenersAttached){this.attachListeners()}r=Ext.Array.from(r);for(C=0,q=r.length;C<q;C++){D=r[C];D=Ext.factory(D,Ext.fx.Animation);e=D.getElement();k=window.getComputedStyle(e.dom);u=e.getId();I=Ext.merge({},D.getData());if(D.onBeforeStart){D.onBeforeStart.call(D.scope||this,e)}D.fireEvent("animationstart",D);this.fireEvent("animationstart",this,D);I[u]=I;w=I.before;A=I.from;f=I.to;I.fromPropertyNames=K=[];I.toPropertyNames=x=[];for(J in f){if(f.hasOwnProperty(J)){f[J]=m=this.formatValue(f[J],J);E=this.formatName(J);p=l.hasOwnProperty(J);if(!p){m=this.getCssStyleValue(E,m)}if(A.hasOwnProperty(J)){A[J]=y=this.formatValue(A[J],J);if(!p){y=this.getCssStyleValue(E,y)}if(m!==y){K.push(E);x.push(E)}}else{h=k.getPropertyValue(E);if(m!==h){x.push(E)}}}}n=x.length;if(n===0){this.onAnimationEnd(e,I,D);continue}a=this.getRunningData(u);c=a.sessions;if(c.length>0){this.refreshRunningAnimationsData(e,Ext.Array.merge(K,x),true,I.replacePrevious)}d=a.nameMap;F=a.nameList;v={};for(B=0;B<n;B++){J=x[B];v[J]=true;if(!d.hasOwnProperty(J)){d[J]=1;F.push(J)}else{d[J]++}}o={element:e,map:v,list:x.slice(),length:n,data:I,animation:D};c.push(o);D.on("stop","onAnimationStop",this);z[u]=A=Ext.apply(Ext.Object.chain(w),A);if(F.length>0){K=Ext.Array.difference(F,K);x=Ext.Array.merge(K,x);A["transition-property"]=K}G[u]=f=Ext.Object.chain(f);f["transition-property"]=x;f["transition-duration"]=I.duration;f["transition-timing-function"]=I.easing;f["transition-delay"]=I.delay;D.startTime=Date.now()}t=this.$className;this.applyStyles(z);s=function(i){if(i.data===t&&i.source===window){window.removeEventListener("message",s,false);H.applyStyles(G)}};window.addEventListener("message",s,false);window.postMessage(t,"*")},onAnimationStop:function(e){var h=this.runningAnimationsData,k,a,j,c,d,f;for(k in h){if(h.hasOwnProperty(k)){a=h[k];j=a.sessions;for(c=0,d=j.length;c<d;c++){f=j[c];if(f.animation===e){this.refreshRunningAnimationsData(f.element,f.list.slice(),true)}}}}}});Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition()}});Ext.define("Ext.Mask",{extend:"Ext.Component",xtype:"mask",config:{baseCls:Ext.baseCSSPrefix+"mask",transparent:false,top:0,left:0,right:0,bottom:0},initialize:function(){this.callParent();this.on({painted:"onPainted",erased:"onErased"})},onPainted:function(){this.element.on("*","onEvent",this)},onErased:function(){this.element.un("*","onEvent",this)},onEvent:function(c){var a=arguments[arguments.length-1];if(a.info.eventName==="tap"){this.fireEvent("tap",this,c);return false}if(c&&c.stopEvent){c.stopEvent()}return false},updateTransparent:function(a){this[a?"addCls":"removeCls"](this.getBaseCls()+"-transparent")}});(function(a){Ext.define("Ext.layout.Default",{extend:"Ext.Evented",alternateClassName:["Ext.layout.AutoContainerLayout","Ext.layout.ContainerLayout"],alias:["layout.auto","layout.default"],isLayout:true,hasDockedItemsCls:a+"hasdocked",centeredItemCls:a+"centered",floatingItemCls:a+"floating",dockingWrapperCls:a+"docking",dockingInnerCls:a+"docking-inner",maskCls:a+"mask",positionMap:{top:"start",left:"start",bottom:"end",right:"end"},positionDirectionMap:{top:"vertical",bottom:"vertical",left:"horizontal",right:"horizontal"},DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",POSITION_START:"start",POSITION_END:"end",config:{animation:null},constructor:function(c,d){this.container=c;this.innerItems=[];this.centeringWrappers={};this.initConfig(d)},reapply:Ext.emptyFn,unapply:Ext.emptyFn,onItemAdd:function(){this.doItemAdd.apply(this,arguments)},onItemRemove:function(){this.doItemRemove.apply(this,arguments)},onItemMove:function(){this.doItemMove.apply(this,arguments)},onItemCenteredChange:function(){this.doItemCenteredChange.apply(this,arguments)},onItemFloatingChange:function(){this.doItemFloatingChange.apply(this,arguments)},onItemDockedChange:function(){this.doItemDockedChange.apply(this,arguments)},doItemAdd:function(d,c){var e=d.getDocked();if(e!==null){this.dockItem(d,e)}else{if(d.isCentered()){this.centerItem(d,c)}else{this.insertItem(d,c)}}if(d.isFloating()){this.onItemFloatingChange(d,true)}},doItemRemove:function(c){if(c.isDocked()){this.undockItem(c)}else{if(c.isCentered()){this.uncenterItem(c)}}if(c.getTranslatable()){c.setTranslatable(false)}Ext.Array.remove(this.innerItems,c);Ext.fly(c.renderElement).destroy()},doItemMove:function(d,e,c){if(d.isCentered()){d.setZIndex((e+1)*2)}else{if(d.isFloating()){d.setZIndex((e+1)*2)}this.insertItem(d,e)}},doItemCenteredChange:function(d,c){if(c){this.centerItem(d)}else{this.uncenterItem(d)}},doItemFloatingChange:function(e,f){var d=e.element,c=this.floatingItemCls;if(f){if(e.getZIndex()===null){e.setZIndex((this.container.indexOf(e)+1)*2)}d.addCls(c)}else{e.setZIndex(null);d.removeCls(c)}},doItemDockedChange:function(c,e,d){if(d){this.undockItem(c,d)}if(e){this.dockItem(c,e)}},centerItem:function(c){this.insertItem(c,0);if(c.getZIndex()===null){c.setZIndex((this.container.indexOf(c)+1)*2)}this.createCenteringWrapper(c);c.element.addCls(this.floatingItemCls)},uncenterItem:function(c){this.destroyCenteringWrapper(c);c.setZIndex(null);this.insertItem(c,this.container.indexOf(c));c.element.removeCls(this.floatingItemCls)},dockItem:function(h,c){var d=this.container,i=h.renderElement,f=h.element,e=this.dockingInnerElement;if(!e){d.setUseBodyElement(true);this.dockingInnerElement=e=d.bodyElement}this.getDockingWrapper(c);if(this.positionMap[c]===this.POSITION_START){i.insertBefore(e)}else{i.insertAfter(e)}f.addCls(a+"docked-"+c)},undockItem:function(c,d){this.insertItem(c,this.container.indexOf(c));c.element.removeCls(a+"docked-"+d)},getDockingWrapper:function(c){var f=this.currentDockingDirection,e=this.positionDirectionMap[c],d=this.dockingWrapper;if(f!==e){this.currentDockingDirection=e;this.dockingWrapper=d=this.createDockingWrapper(e)}return d},createDockingWrapper:function(c){return this.dockingInnerElement.wrap({classList:[this.dockingWrapperCls+"-"+c]},true)},createCenteringWrapper:function(d){var h=d.getId(),e=this.centeringWrappers,c=d.renderElement,f;e[h]=f=c.wrap({className:this.centeredItemCls});return f},destroyCenteringWrapper:function(d){var h=d.getId(),e=this.centeringWrappers,c=d.renderElement,f=e[h];c.unwrap();f.destroy();delete e[h];return this},getInnerItemsContainer:function(){return this.container.innerElement},insertItem:function(m,i){var e=this.container,l=e.getItems().items,f=this.innerItems,d=this.getInnerItemsContainer().dom,k=m.renderElement.dom,j,h,c;if(e.has(m)){Ext.Array.remove(f,m)}if(typeof i=="number"){j=l[i];if(j===m){j=l[++i]}while(j&&(j.isCentered()||j.isDocked())){j=l[++i]}if(j){c=f.indexOf(j);if(c!==-1){while(j&&(j.isCentered()||j.isDocked())){j=f[++c]}if(j){f.splice(c,0,m);h=j.renderElement.dom;d.insertBefore(k,h);return this}}}}f.push(m);d.appendChild(k);return this}})})(Ext.baseCSSPrefix);Ext.define("Ext.layout.AbstractBox",{extend:"Ext.layout.Default",config:{align:"stretch",pack:null},flexItemCls:Ext.baseCSSPrefix+"layout-box-item",positionMap:{middle:"center",left:"start",top:"start",right:"end",bottom:"end"},constructor:function(a){this.callParent(arguments);a.innerElement.addCls(this.cls);a.on(this.sizeChangeEventName,"onItemSizeChange",this,{delegate:"> component"})},reapply:function(){this.container.innerElement.addCls(this.cls);this.updatePack(this.getPack());this.updateAlign(this.getAlign())},unapply:function(){this.container.innerElement.removeCls(this.cls);this.updatePack(null);this.updateAlign(null)},doItemAdd:function(e,c){this.callParent(arguments);if(e.isInnerItem()){var d=e.getConfig(this.sizePropertyName),a=e.config;if(!d&&("flex" in a)){this.setItemFlex(e,a.flex)}}},doItemRemove:function(a){if(a.isInnerItem()){this.setItemFlex(a,null)}this.callParent(arguments)},onItemSizeChange:function(a){this.setItemFlex(a,null)},doItemCenteredChange:function(c,a){if(a){this.setItemFlex(c,null)}this.callParent(arguments)},doItemFloatingChange:function(a,c){if(c){this.setItemFlex(a,null)}this.callParent(arguments)},doItemDockedChange:function(a,c){if(c){this.setItemFlex(a,null)}this.callParent(arguments)},redrawContainer:function(){var a=this.container,c=a.renderElement.dom.parentNode;if(c&&c.nodeType!==11){a.innerElement.redraw()}},setItemFlex:function(d,a){var c=d.element,e=this.flexItemCls;if(a){c.addCls(e)}else{if(c.hasCls(e)){this.redrawContainer();c.removeCls(e)}}c.dom.style.webkitBoxFlex=a},convertPosition:function(a){if(this.positionMap.hasOwnProperty(a)){return this.positionMap[a]}return a},applyAlign:function(a){return this.convertPosition(a)},updateAlign:function(a){this.container.innerElement.dom.style.webkitBoxAlign=a},applyPack:function(a){return this.convertPosition(a)},updatePack:function(a){this.container.innerElement.dom.style.webkitBoxPack=a}});Ext.define("Ext.util.Filter",{isFilter:true,config:{property:null,value:null,filterFn:Ext.emptyFn,anyMatch:false,exactMatch:false,caseSensitive:false,root:null,id:undefined,scope:null},applyId:function(a){if(!a){if(this.getProperty()){a=this.getProperty()+"-"+String(this.getValue())}if(!a){a=Ext.id(null,"ext-filter-")}}return a},constructor:function(a){this.initConfig(a)},applyFilterFn:function(c){if(c===Ext.emptyFn){c=this.getInitialConfig("filter");if(c){return c}var a=this.getValue();if(!this.getProperty()&&!a&&a!==0){return Ext.emptyFn}else{return this.createFilterFn()}}return c},createFilterFn:function(){var a=this,c=a.createValueMatcher();return function(e){var d=a.getRoot(),f=a.getProperty();if(d){e=e[d]}return c.test(e[f])}},createValueMatcher:function(){var e=this,f=e.getValue(),h=e.getAnyMatch(),d=e.getExactMatch(),a=e.getCaseSensitive(),c=Ext.String.escapeRegex;if(f===null||f===undefined||!f.exec){f=String(f);if(h===true){f=c(f)}else{f="^"+c(f);if(d===true){f+="$"}}f=new RegExp(f,a?"":"i")}return f}});Ext.define("Ext.util.Sorter",{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},constructor:function(a){this.initConfig(a)},applyId:function(a){if(!a){a=this.getProperty();if(!a){a=Ext.id(null,"ext-sorter-")}}return a},createSortFunction:function(c){var d=this,a=d.getDirection().toUpperCase()=="DESC"?-1:1;return function(f,e){return a*c.call(d,f,e)}},defaultSortFn:function(f,d){var i=this,h=i._transform,c=i._root,e,a,j=i._property;if(c!==null){f=f[c];d=d[c]}e=f[j];a=d[j];if(h){e=h(e);a=h(a)}return e>a?1:(e<a?-1:0)},updateDirection:function(){this.updateSortFn()},updateSortFn:function(){this.sort=this.createSortFunction(this.getSorterFn()||this.defaultSortFn)},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))}});Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var h=Ext.Date.now()-this.getStartTime(),e=this.getDuration(),c=this.getStartValue(),j=this.getEndValue(),a=this.distance,d=h/e,i=1-d,f=1-Math.pow(i,this.getExponent()),k=c+(f*a);if(h>=e){this.isEnded=true;return j}return k}});Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:true,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var a=this.getLayout();if(a){a.onBefore("activeitemchange","onActiveItemChange",this)}},disable:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.unBefore("activeitemchange","onActiveItemChange",this)}},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.unBefore("activeitemchange","onActiveItemChange",this)}this.setLayout(null)}});Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(c){var a=Math.log(1-(c/10));this.theta=a;this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var c=Ext.Date.now()-this.getStartTime(),d=(c/this.getAcceleration()),a=d*Math.pow(Math.E,-this.getSpringTension()*d);return this.getStartValue()+(this.getStartVelocity()*a)}});Ext.define("Ext.scroll.indicator.Abstract",{extend:"Ext.Component",config:{baseCls:"x-scroll-indicator",axis:"x",value:0,length:null,hidden:true,ui:"dark"},cachedConfig:{ratio:1,barCls:"x-scroll-bar",active:true},barElement:null,barLength:0,gapLength:0,getElementConfig:function(){return{reference:"barElement",children:[this.callParent()]}},applyRatio:function(a){if(isNaN(a)){a=1}return a},refresh:function(){var h=this.barElement,f=h.dom,d=this.getRatio(),c=this.getAxis(),a=(c==="x")?f.offsetWidth:f.offsetHeight,e=a*d;this.barLength=a;this.gapLength=a-e;this.setLength(e);this.updateValue(this.getValue())},updateBarCls:function(a){this.barElement.addCls(a)},updateAxis:function(a){this.element.addCls(this.getBaseCls(),null,a);this.barElement.addCls(this.getBarCls(),null,a)},updateValue:function(a){this.setOffset(this.gapLength*a)},updateActive:function(a){this.barElement[a?"addCls":"removeCls"]("active")},doSetHidden:function(a){var c=this.element.dom.style;if(a){c.opacity="0"}else{c.opacity=""}},updateLength:function(d){var c=this.getAxis(),a=this.element;if(c==="x"){a.setWidth(d)}else{a.setHeight(d)}},setOffset:function(d){var c=this.getAxis(),a=this.element;if(c==="x"){a.setLeft(d)}else{a.setTop(d)}}});Ext.define("Ext.LoadMask",{extend:"Ext.Mask",xtype:"loadmask",config:{message:"Loading...",messageCls:Ext.baseCSSPrefix+"mask-message",indicator:true,listeners:{painted:"onPainted",erased:"onErased"}},getTemplate:function(){var a=Ext.baseCSSPrefix;return[{reference:"innerElement",cls:a+"mask-inner",children:[{reference:"indicatorElement",cls:a+"loading-spinner-outer",children:[{cls:a+"loading-spinner",children:[{tag:"span",cls:a+"loading-top"},{tag:"span",cls:a+"loading-right"},{tag:"span",cls:a+"loading-bottom"},{tag:"span",cls:a+"loading-left"}]}]},{reference:"messageElement"}]}]},updateMessage:function(a){this.messageElement.setHtml(a)},updateMessageCls:function(c,a){this.messageElement.replaceCls(a,c)},updateIndicator:function(a){this[a?"removeCls":"addCls"](Ext.baseCSSPrefix+"indicator-hidden")},onPainted:function(){this.getParent().on({scope:this,resize:this.refreshPosition});this.refreshPosition()},onErased:function(){this.getParent().un({scope:this,resize:this.refreshPosition})},refreshPosition:function(){var d=this.getParent(),e=d.getScrollable(),a=(e)?e.getScroller():null,h=(a)?a.position:{x:0,y:0},f=d.element.getSize(),c=this.element.getSize();this.innerElement.setStyle({marginTop:Math.round(f.height-c.height+(h.y*2))+"px",marginLeft:Math.round(f.width-c.width+h.x)+"px"})}},function(){});Ext.define("Ext.layout.Fit",{extend:"Ext.layout.Default",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",cls:Ext.baseCSSPrefix+"layout-fit",itemCls:Ext.baseCSSPrefix+"layout-fit-item",constructor:function(a){this.callParent(arguments);this.apply()},apply:function(){this.container.innerElement.addCls(this.cls)},reapply:function(){this.apply()},unapply:function(){this.container.innerElement.removeCls(this.cls)},doItemAdd:function(c,a){if(c.isInnerItem()){c.addCls(this.itemCls)}this.callParent(arguments)},doItemRemove:function(a){if(a.isInnerItem()){a.removeCls(this.itemCls)}this.callParent(arguments)}});Ext.define("Ext.layout.HBox",{extend:"Ext.layout.AbstractBox",alternateClassName:"Ext.layout.HBoxLayout",alias:"layout.hbox",sizePropertyName:"width",sizeChangeEventName:"widthchange",cls:Ext.baseCSSPrefix+"layout-hbox"});Ext.define("Ext.layout.VBox",{extend:"Ext.layout.AbstractBox",alternateClassName:"Ext.layout.VBoxLayout",alias:"layout.vbox",sizePropertyName:"height",sizeChangeEventName:"heightchange",cls:Ext.baseCSSPrefix+"layout-vbox"});Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.mixin.Observable"},constructor:function(c,a){var d=this;d.items=[];d.map={};d.keys=[];d.length=0;d.allowFunctions=c===true;if(a){d.getKey=a}d.mixins.observable.constructor.call(d)},allowFunctions:false,add:function(c,f){var e=this,h=f,d=c,a;if(arguments.length==1){h=d;d=e.getKey(h)}if(typeof d!="undefined"&&d!==null){a=e.map[d];if(typeof a!="undefined"){return e.replace(d,h)}e.map[d]=h}e.length++;e.items.push(h);e.keys.push(d);e.fireEvent("add",e.length-1,h,d);return h},getKey:function(a){return a.id},replace:function(d,f){var e=this,a,c;if(arguments.length==1){f=arguments[0];d=e.getKey(f)}a=e.map[d];if(typeof d=="undefined"||d===null||typeof a=="undefined"){return e.add(d,f)}c=e.indexOfKey(d);e.items[c]=f;e.map[d]=f;e.fireEvent("replace",d,a,f);return f},addAll:function(h){var f=this,e=0,c,a,d;if(arguments.length>1||Ext.isArray(h)){c=arguments.length>1?arguments:h;for(a=c.length;e<a;e++){f.add(c[e])}}else{for(d in h){if(h.hasOwnProperty(d)){if(f.allowFunctions||typeof h[d]!="function"){f.add(d,h[d])}}}}},each:function(f,e){var c=[].concat(this.items),d=0,a=c.length,h;for(;d<a;d++){h=c[d];if(f.call(e||h,h,d,a)===false){break}}},eachKey:function(f,e){var h=this.keys,c=this.items,d=0,a=h.length;for(;d<a;d++){f.call(e||window,h[d],c[d],d,a)}},findBy:function(f,e){var h=this.keys,c=this.items,d=0,a=c.length;for(;d<a;d++){if(f.call(e||window,c[d],h[d])){return c[d]}}return null},insert:function(a,c,f){var e=this,d=c,h=f;if(arguments.length==2){h=d;d=e.getKey(h)}if(e.containsKey(d)){e.suspendEvents();e.removeAtKey(d);e.resumeEvents()}if(a>=e.length){return e.add(d,h)}e.length++;Ext.Array.splice(e.items,a,0,h);if(typeof d!="undefined"&&d!==null){e.map[d]=h}Ext.Array.splice(e.keys,a,0,d);e.fireEvent("add",a,h,d);return h},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){Ext.each(a||[],function(c){this.remove(c)},this);return this},removeAt:function(a){var d=this,e,c;if(a<d.length&&a>=0){d.length--;e=d.items[a];Ext.Array.erase(d.items,a,1);c=d.keys[a];if(typeof c!="undefined"){delete d.map[c]}Ext.Array.erase(d.keys,a,1);d.fireEvent("remove",e,c);return e}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(c){var e=this,a=e.map[c],d=a!==undefined?a:(typeof c=="number")?e.items[c]:undefined;return typeof d!="function"||e.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){var a=this;a.length=0;a.items=[];a.keys=[];a.map={};a.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(j,c,k,a){var d=this.extractValues(j,c),h=d.length,f=0,e;k=k||0;a=(a||a===0)?a:h-1;for(e=k;e<=a;e++){f+=d[e]}return f},collect:function(l,f,j){var m=this.extractValues(l,f),a=m.length,c={},d=[],k,h,e;for(e=0;e<a;e++){k=m[e];h=String(k);if((j||!Ext.isEmpty(k))&&!c[h]){c[h]=true;d.push(k)}}return d},extractValues:function(d,a){var c=this.items;if(a){c=Ext.Array.pluck(c,a)}return Ext.Array.pluck(c,d)},getRange:function(h,a){var f=this,d=f.items,c=[],e;if(d.length<1){return c}h=h||0;a=Math.min(typeof a=="undefined"?f.length-1:a,f.length-1);if(h<=a){for(e=h;e<=a;e++){c[c.length]=d[e]}}else{for(e=h;e>=a;e--){c[c.length]=d[e]}}return c},filter:function(e,d,h,a){var c=[],f;if(Ext.isString(e)){c.push(Ext.create("Ext.util.Filter",{property:e,value:d,anyMatch:h,caseSensitive:a}))}else{if(Ext.isArray(e)||e instanceof Ext.util.Filter){c=c.concat(e)}}f=function(j){var o=true,p=c.length,k;for(k=0;k<p;k++){var n=c[k],m=n.getFilterFn(),l=n.getScope();o=o&&m.call(l,j)}return o};return this.filterBy(f)},filterBy:function(f,e){var k=this,a=new this.self(),j=k.keys,c=k.items,h=c.length,d;a.getKey=k.getKey;for(d=0;d<h;d++){if(f.call(e||k,c[d],j[d])){a.add(j[d],c[d])}}return a},findIndex:function(d,c,f,e,a){if(Ext.isEmpty(c,false)){return -1}c=this.createValueMatcher(c,e,a);return this.findIndexBy(function(h){return h&&c.test(h[d])},null,f)},findIndexBy:function(f,e,k){var j=this,h=j.keys,c=j.items,d=k||0,a=c.length;for(;d<a;d++){if(f.call(e||j,c[d],h[d])){return d}}return -1},createValueMatcher:function(d,f,a,c){if(!d.exec){var e=Ext.String.escapeRegex;d=String(d);if(f===true){d=e(d)}else{d="^"+e(d);if(c===true){d+="$"}}d=new RegExp(d,a?"":"i")}return d},clone:function(){var f=this,h=new this.self(),e=f.keys,c=f.items,d=0,a=c.length;for(;d<a;d++){h.add(e[d],c[d])}h.getKey=f.getKey;return h}});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var a=this,c=a.sorters;a.sorters=Ext.create("Ext.util.AbstractMixedCollection",false,function(d){return d.id||d.property});if(c){a.sorters.addAll(a.decodeSorters(c))}},sort:function(i,h,d,f){var e=this,j,c,a;if(Ext.isArray(i)){f=d;d=h;a=i}else{if(Ext.isObject(i)){f=d;d=h;a=[i]}else{if(Ext.isString(i)){j=e.sorters.get(i);if(!j){j={property:i,direction:h};a=[j]}else{if(h===undefined){j.toggle()}else{j.setDirection(h)}}}}}if(a&&a.length){a=e.decodeSorters(a);if(Ext.isString(d)){if(d==="prepend"){i=e.sorters.clone().items;e.sorters.clear();e.sorters.addAll(a);e.sorters.addAll(i)}else{e.sorters.addAll(a)}}else{e.sorters.clear();e.sorters.addAll(a)}if(f!==false){e.onBeforeSort(a)}}if(f!==false){i=e.sorters.items;if(i.length){c=function(m,l){var k=i[0].sort(m,l),o=i.length,n;for(n=1;n<o;n++){k=k||i[n].sort.call(this,m,l)}return k};e.doSort(c)}}return i},onBeforeSort:Ext.emptyFn,decodeSorters:function(h){if(!Ext.isArray(h)){if(h===undefined){h=[]}else{h=[h]}}var e=h.length,j=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null,f,c,d;for(d=0;d<e;d++){c=h[d];if(!(c instanceof j)){if(Ext.isString(c)){c={property:c}}Ext.applyIf(c,{root:this.sortRoot,direction:"ASC"});if(c.fn){c.sorterFn=c.fn}if(typeof c=="function"){c={sorterFn:c}}if(a&&!c.transform){f=a.get(c.property);c.transform=f?f.sortType:undefined}h[d]=Ext.create("Ext.util.Sorter",c)}}return h},getSorters:function(){return this.sorters.items}});Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var a=this;a.callParent(arguments);a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(m,a,l){var k=this,e,f,d=String(a).toUpperCase()=="DESC"?-1:1,j=[],n=k.keys,h=k.items;l=l||function(i,c){return i-c};for(e=0,f=h.length;e<f;e++){j[j.length]={key:n[e],value:h[e],index:e}}Ext.Array.sort(j,function(i,c){var o=l(i[m],c[m])*d;if(o===0){o=(i.index<c.index?-1:1)}return o});for(e=0,f=j.length;e<f;e++){h[e]=j[e].value;n[e]=j[e].key}k.fireEvent("sort",k)},sortBy:function(d){var j=this,c=j.items,h=j.keys,f=c.length,a=[],e;for(e=0;e<f;e++){a[e]={key:h[e],value:c[e],index:e}}Ext.Array.sort(a,function(k,i){var l=d(k.value,i.value);if(l===0){l=(k.index<i.index?-1:1)}return l});for(e=0;e<f;e++){c[e]=a[e].value;h[e]=a[e].key}j.fireEvent("sort",j,c,h)},reorder:function(e){var i=this,c=i.items,d=0,h=c.length,a=[],f=[],j;i.suspendEvents();for(j in e){a[e[j]]=c[j]}for(d=0;d<h;d++){if(e[d]==undefined){f.push(c[d])}}for(d=0;d<h;d++){if(a[d]==undefined){a[d]=f.shift()}}i.clear();i.addAll(a);i.resumeEvents();i.fireEvent("sort",i)},sortByKey:function(a,c){this._sort("key",a,c||function(e,d){var h=String(e).toUpperCase(),f=String(d).toUpperCase();return h>f?1:(h<f?-1:0)})}});Ext.define("Ext.ItemCollection",{extend:"Ext.util.MixedCollection",getKey:function(a){return a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}});Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(a){this.initConfig(a);this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this)},getEasing:function(){var a=this.easing;if(!a){this.easing=a=new Ext.fx.easing.Linear()}return a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,e,n,o,d){var k=this.getDirection(),i=this.getEasing(),m,f,c,j,l,h;if(e&&n){if(this.isAnimating){this.stopAnimation()}m=this.getLayout().container.innerElement;j=m.getWidth();l=m.getHeight();f=e.renderElement;c=n.renderElement;this.oldItem=n;this.newItem=e;this.currentEventController=d;this.containerElement=m;this.isReverse=h=this.getReverse();e.show();if(k=="right"){k="left";this.isReverse=h=!h}else{if(k=="down"){k="up";this.isReverse=h=!h}}if(k=="left"){if(h){i.setConfig({startValue:j,endValue:0});m.dom.scrollLeft=j;c.setLeft(j)}else{i.setConfig({startValue:0,endValue:j});f.setLeft(j)}}else{if(h){i.setConfig({startValue:l,endValue:0});m.dom.scrollTop=l;c.setTop(l)}else{i.setConfig({startValue:0,endValue:l});f.setTop(l)}}this.startAnimation();d.pause()}},startAnimation:function(){this.isAnimating=true;this.getEasing().setStartTime(Date.now());this.timer=setInterval(this.doAnimationFrame,20);this.doAnimationFrame()},doAnimationFrame:function(){var e=this.getEasing(),d=this.getDirection(),a="scrollTop",c;if(d=="left"||d=="right"){a="scrollLeft"}if(e.isEnded){this.stopAnimation()}else{c=e.getValue();this.containerElement.dom[a]=c}},stopAnimation:function(){var d=this,f=d.getDirection(),a="setTop",e=d.oldItem,c=d.newItem;if(f=="left"||f=="right"){a="setLeft"}d.currentEventController.resume();if(d.isReverse&&e&&e.renderElement&&e.renderElement.dom){e.renderElement[a](null)}else{if(c&&c.renderElement&&c.renderElement.dom){c.renderElement[a](null)}}clearInterval(d.timer);d.isAnimating=false;d.fireEvent("animationend",d)}});Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(a,c){return Ext.factory(a,Ext.fx.easing.Momentum,c)},applyBounce:function(a,c){return Ext.factory(a,Ext.fx.easing.Bounce,c)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),l=this.getBounce(),f=a.getStartVelocity(),h=f>0?1:-1,i=this.getMinMomentumValue(),e=this.getMaxMomentumValue(),d=(h==1)?e:i,j=this.lastValue,k,c;if(f===0){return this.getStartValue()}if(!this.isOutOfBound){k=a.getValue();c=a.getVelocity();if(Math.abs(c)<this.getMinVelocity()){this.isEnded=true}if(k>=i&&k<=e){return k}this.isOutOfBound=true;l.setStartTime(Ext.Date.now()).setStartVelocity(c).setStartValue(d)}k=l.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(j!==null){if((h==1&&k<j)||(h==-1&&k>j)){this.isBouncingBack=true}}}else{if(Math.round(k)==d){this.isEnded=true}}}this.lastValue=k;return k}});Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",requires:["Ext.fx.easing.BoundMomentum","Ext.fx.easing.EaseOut","Ext.util.SizeMonitor","Ext.util.Translatable"],config:{element:null,direction:"auto",translationMethod:"auto",fps:"auto",disabled:null,directionLock:false,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",containerScrollSize:"auto",size:"auto",autoRefresh:true,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,constructor:function(a){var c=a&&a.element;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.stopAnimation=Ext.Function.bind(this.stopAnimation,this);this.listeners={scope:this,touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"};this.minPosition={x:0,y:0};this.startPosition={x:0,y:0};this.size={x:0,y:0};this.position={x:0,y:0};this.velocity={x:0,y:0};this.isAxisEnabledFlags={x:false,y:false};this.flickStartPosition={x:0,y:0};this.flickStartTime={x:0,y:0};this.lastDragPosition={x:0,y:0};this.dragDirection={x:0,y:0};this.initialConfig=a;if(c){this.setElement(c)}return this},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){this.initialize();a.addCls(this.cls);if(!this.getDisabled()){this.attachListeneners()}this.onConfigUpdate(["containerSize","size"],"refreshMaxPosition");this.on("maxpositionchange","snapToBoundary");this.on("minpositionchange","snapToBoundary");return this},getTranslatable:function(){if(!this.hasOwnProperty("translatable")){var a=this.getBounceEasing();this.translatable=new Ext.util.Translatable({translationMethod:this.getTranslationMethod(),element:this.getElement(),easingX:a.x,easingY:a.y,useWrapper:false,listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",axisanimationend:"onAxisAnimationEnd",scope:this}})}return this.translatable},updateFps:function(a){if(a!=="auto"){this.getTranslatable().setFps(a)}},attachListeneners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){if(a){this.detachListeners()}else{this.attachListeneners()}},updateInitialOffset:function(d){if(typeof d=="number"){d={x:d,y:d}}var c=this.position,a,e;c.x=a=d.x;c.y=e=d.y;this.getTranslatable().doTranslate(-a,-e)},applyDirection:function(a){var f=this.getMinPosition(),e=this.getMaxPosition(),d,c;this.givenDirection=a;if(a==="auto"){d=e.x>f.x;c=e.y>f.y;if(d&&c){a="both"}else{if(d){a="horizontal"}else{a="vertical"}}}return a},updateDirection:function(c){var a=this.isAxisEnabledFlags;a.x=(c==="both"||c==="horizontal");a.y=(c==="both"||c==="vertical")},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(c){var a=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(c,a),y:Ext.factory(c,a)}},applyBounceEasing:function(c){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(c,a),y:Ext.factory(c,a)}},applySlotSnapEasing:function(c){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(c,a),y:Ext.factory(c,a)}},getMinPosition:function(){var a=this.minPosition;if(!a){this.minPosition=a={x:0,y:0};this.fireEvent("minpositionchange",this,a)}return a},getMaxPosition:function(){var d=this.maxPosition,a,c;if(!d){a=this.getSize();c=this.getContainerSize();this.maxPosition=d={x:Math.max(0,a.x-c.x),y:Math.max(0,a.y-c.y)};this.fireEvent("maxpositionchange",this,d)}return d},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(c){var d=this.getContainer().dom,a,e;if(!d){return}this.givenContainerSize=c;if(c==="auto"){a=d.offsetWidth;e=d.offsetHeight}else{a=c.x;e=c.y}return{x:a,y:e}},applySize:function(c){var d=this.getElement().dom,a,e;if(!d){return}this.givenSize=c;if(c==="auto"){a=d.offsetWidth;e=d.offsetHeight}else{a=c.x;e=c.y}return{x:a,y:e}},applyContainerScrollSize:function(c){var d=this.getContainer().dom,a,e;if(!d){return}this.givenContainerScrollSize=c;if(c==="auto"){a=d.scrollWidth;e=d.scrollHeight}else{a=c.x;e=c.y}return{x:a,y:e}},updateAutoRefresh:function(c){var d=Ext.util.SizeMonitor,a;if(c){this.sizeMonitors={element:new d({element:this.getElement(),callback:this.doRefresh,scope:this}),container:new d({element:this.getContainer(),callback:this.doRefresh,scope:this})}}else{a=this.sizeMonitors;if(a){a.element.destroy();a.container.destroy()}}},applySlotSnapSize:function(a){if(typeof a=="number"){return{x:a,y:a}}return a},applySlotSnapOffset:function(a){if(typeof a=="number"){return{x:a,y:a}}return a},getContainer:function(){var a=this.container;if(!a){this.container=a=this.getElement().getParent();a.addCls(this.containerCls)}return a},doRefresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setContainerScrollSize(this.givenContainerScrollSize);this.setDirection(this.givenDirection);this.fireEvent("refresh",this)},refresh:function(){var a=this.sizeMonitors;if(a){a.element.refresh();a.container.refresh()}this.doRefresh();return this},scrollTo:function(d,j,i){var c=this.getTranslatable(),a=this.position,e=false,h,f;if(this.isAxisEnabled("x")){if(typeof d!="number"){d=a.x}else{if(a.x!==d){a.x=d;e=true}}h=-d}if(this.isAxisEnabled("y")){if(typeof j!="number"){j=a.y}else{if(a.y!==j){a.y=j;e=true}}f=-j}if(e){if(i!==undefined){c.translateAnimated(h,f,i)}else{this.fireEvent("scroll",this,a.x,a.y);c.doTranslate(h,f)}}return this},scrollToTop:function(c){var a=this.getInitialOffset();return this.scrollTo(a.x,a.y,c)},scrollToEnd:function(a){return this.scrollTo(0,this.getSize().y-this.getContainerSize().y,a)},scrollBy:function(c,e,d){var a=this.position;c=(typeof c=="number")?c+a.x:null;e=(typeof e=="number")?e+a.y:null;return this.scrollTo(c,e,d)},onTouchStart:function(){this.isTouching=true;this.stopAnimation()},onTouchEnd:function(){var a=this.position;this.isTouching=false;if(!this.isDragging&&this.snapToSlot()){this.fireEvent("scrollstart",this,a.x,a.y)}},onDragStart:function(n){var q=this.getDirection(),i=n.absDeltaX,h=n.absDeltaY,l=this.getDirectionLock(),k=this.startPosition,f=this.flickStartPosition,m=this.flickStartTime,j=this.lastDragPosition,d=this.position,c=this.dragDirection,p=d.x,o=d.y,a=Ext.Date.now();this.isDragging=true;if(l&&q!=="both"){if((q==="horizontal"&&i>h)||(q==="vertical"&&h>i)){n.stopPropagation()}else{this.isDragging=false;return}}j.x=p;j.y=o;f.x=p;f.y=o;k.x=p;k.y=o;m.x=a;m.y=a;c.x=0;c.y=0;this.dragStartTime=a;this.isDragging=true;this.fireEvent("scrollstart",this,p,o)},onAxisDrag:function(k,s){if(!this.isAxisEnabled(k)){return}var j=this.flickStartPosition,n=this.flickStartTime,l=this.lastDragPosition,f=this.dragDirection,i=this.position[k],m=this.getMinPosition()[k],q=this.getMaxPosition()[k],e=this.startPosition[k],r=l[k],p=e-s,d=f[k],o=this.getOutOfBoundRestrictFactor(),h=this.getStartMomentumResetTime(),c=Ext.Date.now(),a;if(p<m){p*=o}else{if(p>q){a=p-q;p=q+a*o}}if(p>r){f[k]=1}else{if(p<r){f[k]=-1}}if((d!==0&&(f[k]!==d))||(c-n[k])>h){j[k]=i;n[k]=c}l[k]=p},onDrag:function(c){if(!this.isDragging){return}var a=this.lastDragPosition;this.onAxisDrag("x",c.deltaX);this.onAxisDrag("y",c.deltaY);this.scrollTo(a.x,a.y)},onDragEnd:function(d){var c,a;if(!this.isDragging){return}this.dragEndTime=Ext.Date.now();this.onDrag(d);this.isDragging=false;c=this.getAnimationEasing("x");a=this.getAnimationEasing("y");if(c||a){this.getTranslatable().animate(c,a)}else{this.onScrollEnd()}},getAnimationEasing:function(i){if(!this.isAxisEnabled(i)){return null}var f=this.position[i],h=this.flickStartPosition[i],m=this.flickStartTime[i],d=this.getMinPosition()[i],l=this.getMaxPosition()[i],a=this.getMaxAbsoluteVelocity(),e=null,c=this.dragEndTime,n,k,j;if(f<d){e=d}else{if(f>l){e=l}}if(e!==null){n=this.getBounceEasing()[i];n.setConfig({startTime:c,startValue:-f,endValue:-e});return n}j=c-m;if(j===0){return null}k=(f-h)/(c-m);if(k===0){return null}if(k<-a){k=-a}else{if(k>a){k=a}}n=this.getMomentumEasing()[i];n.setConfig({startTime:c,startValue:-f,startVelocity:-k,minMomentumValue:-l,maxMomentumValue:0});return n},onAnimationFrame:function(d,c,e){var a=this.position;a.x=-c;a.y=-e;this.fireEvent("scroll",this,a.x,a.y)},onAxisAnimationEnd:function(a){},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.position;if(this.isTouching||!this.snapToSlot()){this.fireEvent("scrollend",this,a.x,a.y)}},snapToSlot:function(){var c=this.getSnapPosition("x"),a=this.getSnapPosition("y"),d=this.getSlotSnapEasing();if(c!==null||a!==null){this.scrollTo(c,a,{easingX:d.x,easingY:d.y});return true}return false},getSnapPosition:function(d){var i=this.getSlotSnapSize()[d],e=null,a,h,f,c;if(i!==0&&this.isAxisEnabled(d)){a=this.position[d];h=this.getSlotSnapOffset()[d];f=this.getMaxPosition()[d];c=(a-h)%i;if(c!==0){if(Math.abs(c)>i/2){e=a+((c>0)?i-c:c-i);if(e>f){e=a-c}}else{e=a-c}}}return e},snapToBoundary:function(){var i=this.position,d=this.getMinPosition(),h=this.getMaxPosition(),f=d.x,e=d.y,c=h.x,a=h.y,k=Math.round(i.x),j=Math.round(i.y);if(k<f){k=f}else{if(k>c){k=c}}if(j<e){j=e}else{if(j>a){j=a}}this.scrollTo(k,j)},destroy:function(){var c=this.getElement(),a=this.sizeMonitors;if(a){a.element.destroy();a.container.destroy()}if(c&&!c.isDestroyed){c.removeCls(this.cls);this.getContainer().removeCls(this.containerCls)}Ext.destroy(this.translatable);this.callParent(arguments)}},function(){});Ext.define("Ext.scroll.indicator.Default",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"default"},setOffset:function(d){var c=this.getAxis(),a=this.element.dom.style;if(c==="x"){a.webkitTransform="translate3d("+d+"px, 0, 0)"}else{a.webkitTransform="translate3d(0, "+d+"px, 0)"}},applyLength:function(a){return Math.round(Math.max(0,a))},updateValue:function(h){var c=this.barLength,d=this.gapLength,e=this.getLength(),f,i,a;if(h<=0){i=0;this.updateLength(this.applyLength(e+h*c))}else{if(h>=1){a=Math.round((h-1)*c);f=this.applyLength(e-a);a=e-f;this.updateLength(f);i=d+a}else{i=d*h}}this.setOffset(i)}});Ext.define("Ext.scroll.indicator.ScrollPosition",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"scrollposition"},getElementConfig:function(){var a=this.callParent(arguments);a.children.unshift({className:"x-scroll-bar-stretcher"});return a},updateValue:function(a){if(this.gapLength===0){if(a>1){a=a-1}this.setOffset(this.barLength*a)}else{this.setOffset(this.gapLength*a)}},setLength:function(f){var d=this.getAxis(),a=this.barLength,e=this.barElement.dom,c=this.element;this.callParent(arguments);if(d==="x"){e.scrollLeft=a;c.setLeft(a)}else{e.scrollTop=a;c.setTop(a)}},setOffset:function(e){var c=this.getAxis(),a=this.barLength,d=this.barElement.dom;e=a-e;if(c==="x"){d.scrollLeft=e}else{d.scrollTop=e}}});Ext.define("Ext.scroll.indicator.CssTransform",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"csstransform"},getElementConfig:function(){var a=this.callParent();a.children[0].children=[{reference:"startElement"},{reference:"middleElement"},{reference:"endElement"}];return a},refresh:function(){var e=this.getAxis(),d=this.startElement.dom,a=this.endElement.dom,f=this.middleElement,c,h;if(e==="x"){c=d.offsetWidth;h=a.offsetWidth;f.setLeft(c)}else{c=d.offsetHeight;h=a.offsetHeight;f.setTop(c)}this.startElementLength=c;this.endElementLength=h;this.minLength=c+h;this.callParent()},applyLength:function(a){return Math.round(Math.max(this.minLength,a))},updateLength:function(d){var c=this.getAxis(),a=this.endElement.dom.style,f=this.middleElement.dom.style,e=this.endElementLength,i=d-e,h=i-this.startElementLength;if(c==="x"){a.webkitTransform="translate3d("+i+"px, 0, 0)";f.webkitTransform="translate3d(0, 0, 0) scaleX("+h+")"}else{a.webkitTransform="translate3d(0, "+i+"px, 0)";f.webkitTransform="translate3d(0, 0, 0) scaleY("+h+")"}},updateValue:function(h){var c=this.barLength,d=this.gapLength,e=this.getLength(),f,i,a;if(h<=0){i=0;this.updateLength(this.applyLength(e+h*c))}else{if(h>=1){a=Math.round((h-1)*c);f=this.applyLength(e-a);a=e-f;this.updateLength(f);i=d+a}else{i=d*h}}this.setOffset(i)},setOffset:function(d){var a=this.getAxis(),c=this.element.dom.style;d=Math.round(d);if(a==="x"){c.webkitTransform="translate3d("+d+"px, 0, 0)"}else{c.webkitTransform="translate3d(0, "+d+"px, 0)"}}});Ext.define("Ext.scroll.Indicator",{requires:["Ext.scroll.indicator.Default","Ext.scroll.indicator.ScrollPosition","Ext.scroll.indicator.CssTransform"],alternateClassName:"Ext.util.Indicator",constructor:function(a){if(Ext.os.is.Android2||Ext.browser.is.ChromeMobile){return new Ext.scroll.indicator.ScrollPosition(a)}else{if(Ext.os.is.iOS){return new Ext.scroll.indicator.CssTransform(a)}else{return new Ext.scroll.indicator.Default(a)}}}});Ext.define("Ext.scroll.View",{extend:"Ext.Evented",alternateClassName:"Ext.util.ScrollView",requires:["Ext.scroll.Scroller","Ext.scroll.Indicator"],config:{indicatorsUi:"dark",element:null,scroller:{},indicators:{x:{axis:"x"},y:{axis:"y"}},indicatorsHidingDelay:100,cls:Ext.baseCSSPrefix+"scroll-view"},processConfig:function(d){if(!d){return null}if(typeof d=="string"){d={direction:d}}d=Ext.merge({},d);var a=d.scroller,c;if(!a){d.scroller=a={}}for(c in d){if(d.hasOwnProperty(c)){if(!this.hasConfig(c)){a[c]=d[c];delete d[c]}}}return d},constructor:function(a){a=this.processConfig(a);this.useIndicators={x:true,y:true};this.doHideIndicators=Ext.Function.bind(this.doHideIndicators,this);this.initConfig(a)},setConfig:function(a){return this.callParent([this.processConfig(a)])},updateIndicatorsUi:function(a){var c=this.getIndicators();c.x.setUi(a);c.y.setUi(a)},applyScroller:function(a,c){return Ext.factory(a,Ext.scroll.Scroller,c)},applyIndicators:function(c,e){var a=Ext.scroll.Indicator,d=this.useIndicators;if(!c){c={}}if(!c.x){d.x=false;c.x={}}if(!c.y){d.y=false;c.y={}}return{x:Ext.factory(c.x,a,e&&e.x),y:Ext.factory(c.y,a,e&&e.y)}},updateIndicators:function(a){this.indicatorsGrid=Ext.Element.create({className:"x-scroll-bar-grid-wrapper",children:[{className:"x-scroll-bar-grid",children:[{children:[{},{children:[a.y.barElement]}]},{children:[{children:[a.x.barElement]},{}]}]}]})},updateScroller:function(a){a.on({scope:this,scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",refresh:"refreshIndicators"})},isAxisEnabled:function(a){return this.getScroller().isAxisEnabled(a)&&this.useIndicators[a]},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(d){var c=d.getFirstChild().getFirstChild(),a=this.getScroller();d.addCls(this.getCls());d.insertFirst(this.indicatorsGrid);a.setElement(c);this.refreshIndicators();return this},showIndicators:function(){var a=this.getIndicators();if(this.hasOwnProperty("indicatorsHidingTimer")){clearTimeout(this.indicatorsHidingTimer);delete this.indicatorsHidingTimer}if(this.isAxisEnabled("x")){a.x.show()}if(this.isAxisEnabled("y")){a.y.show()}},hideIndicators:function(){var a=this.getIndicatorsHidingDelay();if(a>0){this.indicatorsHidingTimer=setTimeout(this.doHideIndicators,a)}else{this.doHideIndicators()}},doHideIndicators:function(){var a=this.getIndicators();if(this.isAxisEnabled("x")){a.x.hide()}if(this.isAxisEnabled("y")){a.y.hide()}},onScrollStart:function(){this.onScroll.apply(this,arguments);this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(c,a,d){this.setIndicatorValue("x",a);this.setIndicatorValue("y",d)},setIndicatorValue:function(c,h){if(!this.isAxisEnabled(c)){return this}var a=this.getScroller(),d=a.getMaxPosition()[c],f=a.getContainerSize()[c],e;if(d===0){e=h/f;if(h>=0){e+=1}}else{if(h>d){e=1+((h-d)/f)}else{if(h<0){e=h/f}else{e=h/d}}}this.getIndicators()[c].setValue(e)},refreshIndicator:function(e){if(!this.isAxisEnabled(e)){return this}var a=this.getScroller(),c=this.getIndicators()[e],f=a.getContainerSize()[e],h=a.getSize()[e],d=f/h;c.setRatio(d);c.refresh()},refresh:function(){return this.getScroller().refresh()},refreshIndicators:function(){var a=this.getIndicators();a.x.setActive(this.isAxisEnabled("x"));a.y.setActive(this.isAxisEnabled("y"));this.refreshIndicator("x");this.refreshIndicator("y")},destroy:function(){var a=this.getElement(),c=this.getIndicators();if(a&&!a.isDestroyed){a.removeCls(this.getCls())}c.x.destroy();c.y.destroy();Ext.destroy(this.getScroller(),this.indicatorsGrid);delete this.indicatorsGrid;this.callParent(arguments)}});Ext.define("Ext.behavior.Scrollable",{extend:"Ext.behavior.Behavior",requires:["Ext.scroll.View"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.scrollView.refresh()},setConfig:function(e){var c=this.scrollView,d=this.component,f,a;if(e){if(!c){this.scrollView=c=new Ext.scroll.View(e);c.on("destroy","onScrollViewDestroy",this);d.setUseBodyElement(true);this.scrollerElement=a=d.innerElement;this.scrollContainer=a.wrap();this.scrollViewElement=f=d.bodyElement;c.setElement(f);if(d.isPainted()){this.onComponentPainted(d)}d.on(this.listeners)}else{if(Ext.isString(e)||Ext.isObject(e)){c.setConfig(e)}}}else{if(c){c.destroy()}}return this},getScrollView:function(){return this.scrollView},onScrollViewDestroy:function(){var c=this.component,a=this.scrollerElement;if(!a.isDestroyed){this.scrollerElement.unwrap()}this.scrollContainer.destroy();c.un(this.listeners);delete this.scrollerElement;delete this.scrollView;delete this.scrollContainer},onComponentDestroy:function(){var a=this.scrollView;if(a){a.destroy()}}});Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:false,replacePrevious:true},outAnimation:{preserveEndState:false,replacePrevious:true}},constructor:function(c){var d,a;this.initConfig(c);this.endAnimationCounter=0;d=this.getInAnimation();a=this.getOutAnimation();d.on("animationend","incrementEnd",this);a.on("animationend","incrementEnd",this)},updateDirection:function(a){this.getInAnimation().setDirection(a);this.getOutAnimation().setDirection(a)},updateDuration:function(a){this.getInAnimation().setDuration(a);this.getOutAnimation().setDuration(a)},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)},incrementEnd:function(){this.endAnimationCounter++;if(this.endAnimationCounter>1){this.endAnimationCounter=0;this.fireEvent("animationend",this)}},applyInAnimation:function(c,a){return Ext.factory(c,Ext.fx.Animation,a)},applyOutAnimation:function(c,a){return Ext.factory(c,Ext.fx.Animation,a)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(a,f,j,k,e){var c=this.getInAnimation(),i=this.getOutAnimation(),h,d;if(f&&j&&j.isPainted()){h=f.renderElement;d=j.renderElement;c.setElement(h);i.setElement(d);i.setOnBeforeEnd(function(l,m){if(m||Ext.Animator.hasRunningAnimations(l)){e.firingArguments[1]=null;e.firingArguments[2]=null}});i.setOnEnd(function(){e.resume()});h.dom.style.setProperty("visibility","hidden","!important");f.show();Ext.Animator.run([i,c]);e.pause()}}});Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:0.99},to:{opacity:1},out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:0.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:true}}});Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:true,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:true,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:true}},updateDuration:function(e){var d=e/2,c=this.getInAnimation(),a=this.getOutAnimation();c.setDelay(d);c.setDuration(d);a.setDuration(d)}});Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:true}},updateDuration:function(e){var d=e/2,c=this.getInAnimation(),a=this.getOutAnimation();c.setDelay(d);c.setDuration(d);a.setDuration(d)}});Ext.define("Ext.fx.layout.Card",{requires:["Ext.fx.layout.card.Slide","Ext.fx.layout.card.Cover","Ext.fx.layout.card.Reveal","Ext.fx.layout.card.Fade","Ext.fx.layout.card.Flip","Ext.fx.layout.card.Pop","Ext.fx.layout.card.Scroll"],constructor:function(c){var a=Ext.fx.layout.card.Abstract,d;if(!c){return null}if(typeof c=="string"){d=c;c={}}else{if(c.type){d=c.type}}c.elementBox=false;if(d){if(Ext.os.is.Android2){if(d!="fade"){d="scroll"}}else{if(d==="slide"&&Ext.browser.is.ChromeMobile){d="scroll"}}a=Ext.ClassManager.getByAlias("fx.layout.card."+d)}return Ext.factory(c,a)}});Ext.define("Ext.layout.Card",{extend:"Ext.layout.Fit",alternateClassName:"Ext.layout.CardLayout",isCard:true,requires:["Ext.fx.layout.Card"],alias:"layout.card",cls:Ext.baseCSSPrefix+"layout-card",itemCls:Ext.baseCSSPrefix+"layout-card-item",constructor:function(){this.callParent(arguments);this.container.onInitialized(this.onContainerInitialized,this)},applyAnimation:function(a){return new Ext.fx.layout.Card(a)},updateAnimation:function(c,a){if(c&&c.isAnimation){c.setLayout(this)}if(a){a.destroy()}},doItemAdd:function(c,a){if(c.isInnerItem()){c.hide()}this.callParent(arguments)},getInnerItemsContainer:function(){var a=this.innerItemsContainer;if(!a){this.innerItemsContainer=a=Ext.Element.create({className:this.cls+"-container"});this.container.innerElement.append(a)}return a},doItemRemove:function(d,a,c){this.callParent(arguments);if(!c&&d.isInnerItem()){d.show()}},onContainerInitialized:function(a){var c=a.getActiveItem();if(c){c.show()}a.on("activeitemchange","onContainerActiveItemChange",this)},onContainerActiveItemChange:function(a){this.relayEvent(arguments,"doActiveItemChange")},doActiveItemChange:function(c,d,a){if(a){a.hide()}if(d){d.show()}},doItemDockedChange:function(c,d){var a=c.element;if(d){a.removeCls(this.itemCls)}else{a.addCls(this.itemCls)}this.callParent(arguments)}});Ext.define("Ext.layout.Layout",{requires:["Ext.layout.Fit","Ext.layout.Card","Ext.layout.HBox","Ext.layout.VBox"],constructor:function(a,c){var d=Ext.layout.Default,e,f;if(typeof c=="string"){e=c;c={}}else{if("type" in c){e=c.type}}if(e){d=Ext.ClassManager.getByAlias("layout."+e)}return new d(a,c)}});Ext.define("Ext.Container",{extend:"Ext.Component",alternateClassName:"Ext.lib.Container",requires:["Ext.layout.Layout","Ext.ItemCollection","Ext.behavior.Scrollable","Ext.Mask"],xtype:"container",eventedConfig:{activeItem:0},config:{layout:null,control:{},defaults:null,items:null,autoDestroy:true,defaultType:null,scrollable:null,useBodyElement:null,masked:null,modal:null,hideOnMaskTap:null},isContainer:true,delegateListeners:{delegate:"> component",centeredchange:"onItemCenteredChange",dockedchange:"onItemDockedChange",floatingchange:"onItemFloatingChange"},constructor:function(a){var c=this;c._items=c.items=new Ext.ItemCollection();c.innerItems=[];c.onItemAdd=c.onFirstItemAdd;c.callParent(arguments)},getElementConfig:function(){return{reference:"element",className:"x-container",children:[{reference:"innerElement",className:"x-inner"}]}},applyMasked:function(a,c){c=Ext.factory(a,Ext.Mask,c);if(c){this.add(c)}return c},mask:function(a){this.setMasked(a||true)},unmask:function(){this.setMasked(false)},applyModal:function(a,c){if(!a&&!c){return}return Ext.factory(a,Ext.Mask,c)},updateModal:function(d,a){var c={painted:"refreshModalMask",erased:"destroyModalMask"};if(d){this.on(c);d.on("destroy","onModalDestroy",this);if(this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null&&!this.getCentered()){this.setTop(0);this.setLeft(0)}if(this.isPainted()){this.refreshModalMask()}}else{if(a){a.un("destroy","onModalDestroy",this);this.un(c)}}},onModalDestroy:function(){this.setModal(null)},refreshModalMask:function(){var c=this.getModal(),a=this.getParent();if(!this.painted){this.painted=true;if(c){a.insertBefore(c,this);c.setZIndex(this.getZIndex()-1);if(this.getHideOnMaskTap()){c.on("tap","hide",this,{single:true})}}}},destroyModalMask:function(){var c=this.getModal(),a=this.getParent();if(this.painted){this.painted=false;if(c){c.un("tap","hide",this);a.remove(c,false)}}},updateZIndex:function(c){var a=this.getModal();this.callParent(arguments);if(a){a.setZIndex(c-1)}},updateBaseCls:function(a,c){var d=this,e=d.getUi();if(a){this.element.addCls(a);this.innerElement.addCls(a,null,"inner");if(e){this.element.addCls(a,null,e)}}if(c){this.element.removeCls(c);this.innerElement.removeCls(a,null,"inner");if(e){this.element.removeCls(c,null,e)}}},updateUseBodyElement:function(a){if(a){this.bodyElement=this.innerElement.wrap({cls:"x-body"});this.referenceList.push("bodyElement")}},applyItems:function(a,c){if(a){this.getDefaultType();this.getDefaults();if(this.initialized&&c.length>0){this.removeAll()}this.add(a)}},applyControl:function(d){var a,c,f,e;for(a in d){e=d[a];for(c in e){f=e[c];if(Ext.isObject(f)){f.delegate=a}}e.delegate=a;this.addListener(e)}return d},onFirstItemAdd:function(){delete this.onItemAdd;this.setLayout(new Ext.layout.Layout(this,this.getLayout()||"default"));if(this.innerHtmlElement&&!this.getHtml()){this.innerHtmlElement.destroy();delete this.innerHtmlElement}this.on(this.delegateListeners);return this.onItemAdd.apply(this,arguments)},updateDefaultType:function(a){this.defaultItemClass=Ext.ClassManager.getByAlias("widget."+a)},applyDefaults:function(a){if(a){this.factoryItem=this.factoryItemWithDefaults;return a}},factoryItem:function(a){return Ext.factory(a,this.defaultItemClass)},factoryItemWithDefaults:function(d){var c=this,e=c.getDefaults(),a;if(!e){return Ext.factory(d,c.defaultItemClass)}if(d.isComponent){a=d;if(e&&d.isInnerItem()&&!c.has(a)){a.setConfig(e,true)}}else{if(e&&!d.ignoreDefaults){if(!(d.hasOwnProperty("left")&&d.hasOwnProperty("right")&&d.hasOwnProperty("top")&&d.hasOwnProperty("bottom")&&d.hasOwnProperty("docked")&&d.hasOwnProperty("centered"))){d=Ext.mergeIf({},d,e)}}a=Ext.factory(d,c.defaultItemClass)}return a},add:function(a){var f=this,c,e,d,h;a=Ext.Array.from(a);e=a.length;for(c=0;c<e;c++){d=f.factoryItem(a[c]);this.doAdd(d);if(!h&&!this.getActiveItem()&&this.innerItems.length>0&&d.isInnerItem()){h=d}}if(h){this.setActiveItem(h)}return d},doAdd:function(e){var d=this,a=d.getItems(),c;if(!a.has(e)){c=a.length;a.add(e);if(e.isInnerItem()){d.insertInner(e)}e.setParent(d);d.onItemAdd(e,c)}},remove:function(e,c){var d=this,a=d.indexOf(e),f=d.getInnerItems();if(c===undefined){c=d.getAutoDestroy()}if(a!==-1){if(!d.removingAll&&f.length>1&&e===d.getActiveItem()){d.on({activeitemchange:"doRemove",scope:d,single:true,order:"after",args:[e,a,c]});d.doResetActiveItem(f.indexOf(e))}else{d.doRemove(e,a,c);if(f.length===0){d.setActiveItem(null)}}}return d},doResetActiveItem:function(a){if(a===0){this.setActiveItem(1)}else{this.setActiveItem(0)}},doRemove:function(e,a,c){var d=this;d.items.remove(e);if(e.isInnerItem()){d.removeInner(e)}d.onItemRemove(e,a,c);e.setParent(null);if(c){e.destroy()}},removeAll:function(d,h){var a=this.items,f=a.length,c=0,e;if(d===undefined){d=this.getAutoDestroy()}h=Boolean(h);this.removingAll=true;for(;c<f;c++){e=a.getAt(c);if(e&&(h||e.isInnerItem())){this.doRemove(e,c,d);c--;f--}}this.removingAll=false;return this},getAt:function(a){return this.items.getAt(a)},removeAt:function(a){var c=this.getAt(a);if(c){this.remove(c)}return this},removeInnerAt:function(a){var c=this.getInnerItems()[a];if(c){this.remove(c)}return this},has:function(a){return this.getItems().indexOf(a)!=-1},hasInnerItem:function(a){return this.innerItems.indexOf(a)!=-1},indexOf:function(a){return this.getItems().indexOf(a)},insertInner:function(e,c){var a=this.getItems().items,h=this.innerItems,i=h.indexOf(e),d=-1,f;if(i!==-1){h.splice(i,1)}if(typeof c=="number"){do{f=a[++c]}while(f&&!f.isInnerItem());if(f){d=h.indexOf(f);h.splice(d,0,e)}}if(d===-1){h.push(e);d=h.length-1}if(i!==-1){this.onInnerItemMove(e,d,i)}return this},onInnerItemMove:Ext.emptyFn,removeInner:function(a){Ext.Array.remove(this.innerItems,a);return this},insert:function(a,e){var d=this,c;if(Ext.isArray(e)){for(c=e.length-1;c>=0;c--){d.insert(a,e[c])}return d}e=this.factoryItem(e);this.doInsert(a,e);return e},doInsert:function(e,h){var f=this,c=f.items,d=c.length,a,i;i=h.isInnerItem();if(e>d){e=d}if(c[e-1]===h){return f}a=f.indexOf(h);if(a!==-1){if(a<e){e-=1}c.removeAt(a)}else{h.setParent(f)}c.insert(e,h);if(i){f.insertInner(h,e)}if(a!==-1){f.onItemMove(h,e,a)}else{f.onItemAdd(h,e)}},insertFirst:function(a){return this.insert(0,a)},insertLast:function(a){return this.insert(this.getItems().length,a)},insertBefore:function(d,a){var c=this.indexOf(a);if(c!==-1){this.insert(c,d)}return this},insertAfter:function(d,a){var c=this.indexOf(a);if(c!==-1){this.insert(c+1,d)}return this},onItemAdd:function(c,a){this.doItemLayoutAdd(c,a);if(this.initialized){this.fireEvent("add",this,c,a)}},doItemLayoutAdd:function(d,a){var c=this.getLayout();if(this.isRendered()&&d.setRendered(true)){d.fireAction("renderedchange",[this,d,true],"onItemAdd",c,{args:[d,a]})}else{c.onItemAdd(d,a)}},onItemRemove:function(c,a){this.doItemLayoutRemove(c,a);this.fireEvent("remove",this,c,a)},doItemLayoutRemove:function(d,a){var c=this.getLayout();if(this.isRendered()&&d.setRendered(false)){d.fireAction("renderedchange",[this,d,false],"onItemRemove",c,{args:[d,a,undefined]})}else{c.onItemRemove(d,a)}},onItemMove:function(c,d,a){if(c.isDocked()){c.setDocked(null)}this.doItemLayoutMove(c,d,a);this.fireEvent("move",this,c,d,a)},doItemLayoutMove:function(c,d,a){this.getLayout().onItemMove(c,d,a)},onItemCenteredChange:function(c,a){if(!c.isFloating()&&!c.isDocked()){if(a){this.removeInner(c)}else{this.insertInner(c,this.indexOf(c))}}this.getLayout().onItemCenteredChange(c,a)},onItemFloatingChange:function(a,c){if(!a.isCentered()&&!a.isDocked()){if(c){this.removeInner(a)}else{this.insertInner(a,this.indexOf(a))}}this.getLayout().onItemFloatingChange(a,c)},onItemDockedChange:function(a,d,c){if(!a.isCentered()&&!a.isFloating()){if(d){this.removeInner(a)}else{this.insertInner(a,this.indexOf(a))}}this.getLayout().onItemDockedChange(a,d,c)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var a=this.getItems().items,d=[],f=a.length,e,c;for(c=0;c<f;c++){e=a[c];if(e.isDocked()){d.push(e)}}return d},applyActiveItem:function(d,a){var c=this.getInnerItems();this.getItems();if(!d&&c.length===0){return 0}else{if(typeof d=="number"){d=Math.max(0,Math.min(d,c.length-1));d=c[d];if(d){return d}else{if(a){return null}}}else{if(d){if(!d.isComponent){d=this.factoryItem(d)}if(!this.has(d)){this.add(d)}return d}}}},animateActiveItem:function(e,d){var c=this.getLayout(),a;if(this.activeItemAnimation){this.activeItemAnimation.destroy()}this.activeItemAnimation=d=new Ext.fx.layout.Card(d);if(d&&c.isCard){d.setLayout(c);a=c.getAnimation();if(a){a.disable();d.on("animationend",function(){a.enable();d.destroy()},this)}}return this.setActiveItem(e)},doSetActiveItem:function(c,a){if(a){a.fireEvent("deactivate",a,this,c)}if(c){c.fireEvent("activate",c,this,a)}},setRendered:function(e){if(this.callParent(arguments)){var a=this.items.items,c,d;for(c=0,d=a.length;c<d;c++){a[c].setRendered(e)}return true}return false},getScrollableBehavior:function(){var a=this.scrollableBehavior;if(!a){a=this.scrollableBehavior=new Ext.behavior.Scrollable(this)}return a},applyScrollable:function(a){this.getScrollableBehavior().setConfig(a)},getScrollable:function(){return this.getScrollableBehavior().getScrollView()},getRefItems:function(a){var c=this.getItems().items.slice(),f=c.length,d,e;if(a){for(d=0;d<f;d++){e=c[d];if(e.getRefItems){c=c.concat(e.getRefItems(true))}}}return c},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.getItems().get(a)},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var d=this.getDockedItems(),f=d.length,e,c;if(Ext.isNumber(a)){return d[a]}for(c=0;c<f;c++){e=d[c];if(e.id==a){return e}}return false},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},destroy:function(){var a=this.getModal();if(a){a.destroy()}this.removeAll(true,true);Ext.destroy(this.getScrollable(),this.bodyElement);this.callParent()}},function(){this.addMember("defaultItemClass",this)});Ext.define("Ext.viewport.Default",{extend:"Ext.Container",xtype:"viewport",PORTRAIT:"portrait",LANDSCAPE:"landscape",requires:["Ext.LoadMask"],config:{autoMaximize:false,autoBlurInput:true,preventPanning:true,preventZooming:false,autoRender:true,layout:"card",width:"100%",height:"100%"},isReady:false,isViewport:true,isMaximizing:false,id:"ext-viewport",isInputRegex:/^(input|textarea|select|a)$/i,focusedElement:null,fullscreenItemCls:Ext.baseCSSPrefix+"fullscreen",constructor:function(a){var c=Ext.Function.bind;this.doPreventPanning=c(this.doPreventPanning,this);this.doPreventZooming=c(this.doPreventZooming,this);this.doBlurInput=c(this.doBlurInput,this);this.maximizeOnEvents=["ready","orientationchange"];this.orientation=this.determineOrientation();this.windowWidth=this.getWindowWidth();this.windowHeight=this.getWindowHeight();this.windowOuterHeight=this.getWindowOuterHeight();if(!this.stretchHeights){this.stretchHeights={}}this.callParent([a]);if(this.supportsOrientation()){this.addWindowListener("orientationchange",c(this.onOrientationChange,this))}else{this.addWindowListener("resize",c(this.onResize,this))}document.addEventListener("focus",c(this.onElementFocus,this),true);document.addEventListener("blur",c(this.onElementBlur,this),true);Ext.onDocumentReady(this.onDomReady,this);this.on("ready",this.onReady,this,{single:true});this.getEventDispatcher().addListener("component","*","fullscreen","onItemFullscreenChange",this);return this},onDomReady:function(){this.isReady=true;this.updateSize();this.fireEvent("ready",this)},onReady:function(){if(this.getAutoRender()){this.render()}},onElementFocus:function(a){this.focusedElement=a.target},onElementBlur:function(){this.focusedElement=null},render:function(){if(!this.rendered){var a=Ext.getBody(),c=Ext.baseCSSPrefix,j=[],e=Ext.os,i=e.name.toLowerCase(),h=Ext.browser.name.toLowerCase(),f=e.version.getMajor(),d=this.getOrientation();this.renderTo(a);j.push(c+e.deviceType.toLowerCase());if(e.is.iPad){j.push(c+"ipad")}j.push(c+i);j.push(c+h);if(f){j.push(c+i+"-"+f)}if(e.is.BlackBerry){j.push(c+"bb")}if(Ext.browser.is.Standalone){j.push(c+"standalone")}j.push(c+d);a.addCls(j)}},applyAutoBlurInput:function(a){var c=(Ext.feature.has.Touch)?"touchstart":"mousedown";if(a){this.addWindowListener(c,this.doBlurInput,false)}else{this.removeWindowListener(c,this.doBlurInput,false)}return a},applyAutoMaximize:function(a){if(Ext.browser.is.WebView){a=false}if(a){this.on("ready","doAutoMaximizeOnReady",this,{single:true});this.on("orientationchange","doAutoMaximizeOnOrientationChange",this)}else{this.un("ready","doAutoMaximizeOnReady",this);this.un("orientationchange","doAutoMaximizeOnOrientationChange",this)}return a},applyPreventPanning:function(a){if(a){this.addWindowListener("touchmove",this.doPreventPanning,false)}else{this.removeWindowListener("touchmove",this.doPreventPanning,false)}return a},applyPreventZooming:function(a){var c=(Ext.feature.has.Touch)?"touchstart":"mousedown";if(a){this.addWindowListener(c,this.doPreventZooming,false)}else{this.removeWindowListener(c,this.doPreventZooming,false)}return a},doAutoMaximizeOnReady:function(){var a=arguments[arguments.length-1];a.pause();this.isMaximizing=true;this.on("maximize",function(){this.isMaximizing=false;this.updateSize();a.resume();this.fireEvent("ready",this)},this,{single:true});this.maximize()},doAutoMaximizeOnOrientationChange:function(){var a=arguments[arguments.length-1],c=a.firingArguments;a.pause();this.isMaximizing=true;this.on("maximize",function(){this.isMaximizing=false;this.updateSize();c[1]=this.windowWidth;c[2]=this.windowHeight;a.resume()},this,{single:true});this.maximize()},doBlurInput:function(c){var a=c.target,d=this.focusedElement;if(d&&!this.isInputRegex.test(a.tagName)){delete this.focusedElement;d.blur()}},doPreventPanning:function(a){a.preventDefault()},doPreventZooming:function(c){if("button" in c&&c.button!==0){return}var a=c.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)){c.preventDefault()}},addWindowListener:function(c,d,a){window.addEventListener(c,d,Boolean(a))},removeWindowListener:function(c,d,a){window.removeEventListener(c,d,Boolean(a))},doAddListener:function(a,e,d,c){if(a==="ready"&&this.isReady&&!this.isMaximizing){e.call(d);return this}this.mixins.observable.doAddListener.apply(this,arguments)},supportsOrientation:function(){return Ext.feature.has.Orientation},onResize:function(){var d=this.windowWidth,h=this.windowHeight,f=this.getWindowWidth(),a=this.getWindowHeight(),e=this.getOrientation(),c=this.determineOrientation();if((d!==f||h!==a)&&e!==c){this.fireOrientationChangeEvent(c,e)}},onOrientationChange:function(){var c=this.getOrientation(),a=this.determineOrientation();if(a!==c){this.fireOrientationChangeEvent(a,c)}},fireOrientationChangeEvent:function(c,d){var a=Ext.baseCSSPrefix;Ext.getBody().replaceCls(a+d,a+c);this.orientation=c;this.updateSize();this.fireEvent("orientationchange",this,c,this.windowWidth,this.windowHeight)},updateSize:function(c,a){this.windowWidth=c!==undefined?c:this.getWindowWidth();this.windowHeight=a!==undefined?a:this.getWindowHeight();return this},waitUntil:function(j,f,i,a,h){if(!a){a=50}if(!h){h=2000}var d=this,c=0;setTimeout(function e(){c+=a;if(j.call(d)===true){if(f){f.call(d)}}else{if(c>=h){if(i){i.call(d)}}else{setTimeout(e,a)}}},a)},maximize:function(){this.fireMaximizeEvent()},fireMaximizeEvent:function(){this.updateSize();this.fireEvent("maximize",this)},doSetHeight:function(a){Ext.getBody().setHeight(a);this.callParent(arguments)},doSetWidth:function(a){Ext.getBody().setWidth(a);this.callParent(arguments)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},getOrientation:function(){return this.orientation},getSize:function(){return{width:this.windowWidth,height:this.windowHeight}},determineOrientation:function(){var c=this.PORTRAIT,a=this.LANDSCAPE;if(this.supportsOrientation()){if(this.getWindowOrientation()%180===0){return c}return a}else{if(this.getWindowHeight()>=this.getWindowWidth()){return c}return a}},onItemFullscreenChange:function(a){a.addCls(this.fullscreenItemCls);this.add(a)}});Ext.define("Ext.viewport.Ios",{extend:"Ext.viewport.Default",isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===true},constructor:function(){this.callParent(arguments);if(this.getAutoMaximize()&&!this.isFullscreen()){this.addWindowListener("touchstart",Ext.Function.bind(this.onTouchStart,this))}},maximize:function(){if(this.isFullscreen()){return this.callParent()}var d=this.stretchHeights,c=this.orientation,e=this.getWindowHeight(),a=d[c];if(window.scrollY>0){this.scrollToTop();if(!a){d[c]=a=this.getWindowHeight()}this.setHeight(a);this.fireMaximizeEvent()}else{if(!a){a=this.getScreenHeight()}this.setHeight(a);this.waitUntil(function(){this.scrollToTop();return e!==this.getWindowHeight()},function(){if(!d[c]){a=d[c]=this.getWindowHeight();this.setHeight(a)}this.fireMaximizeEvent()},function(){a=d[c]=this.getWindowHeight();this.setHeight(a);this.fireMaximizeEvent()},50,1000)}},getScreenHeight:function(){return window.screen[this.orientation===this.PORTRAIT?"height":"width"]},onElementFocus:function(){if(this.getAutoMaximize()&&!this.isFullscreen()){clearTimeout(this.scrollToTopTimer)}this.callParent(arguments)},onElementBlur:function(){if(this.getAutoMaximize()&&!this.isFullscreen()){this.scrollToTopTimer=setTimeout(this.scrollToTop,500)}this.callParent(arguments)},onTouchStart:function(){if(this.focusedElement===null){this.scrollToTop()}},scrollToTop:function(){window.scrollTo(0,0)}},function(){if(!Ext.os.is.iOS){return}if(Ext.os.version.lt("3.2")){this.override({constructor:function(){var a=this.stretchHeights={};a[this.PORTRAIT]=416;a[this.LANDSCAPE]=268;return this.callOverridden(arguments)}})}if(Ext.os.version.lt("5")){this.override({fieldMaskClsTest:"-field-mask",doPreventZooming:function(c){var a=c.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)&&a.className.indexOf(this.fieldMaskClsTest)==-1){c.preventDefault()}}})}if(Ext.os.is.iPad){this.override({isFullscreen:function(){return true}})}});Ext.define("Ext.viewport.Android",{extend:"Ext.viewport.Default",constructor:function(){this.on("orientationchange","doFireOrientationChangeEvent",this,{prepend:true});this.on("orientationchange","hideKeyboardIfNeeded",this,{prepend:true});return this.callParent(arguments)},getDummyInput:function(){var a=this.dummyInput,d=this.focusedElement,c=Ext.fly(d).getPageBox();if(!a){this.dummyInput=a=document.createElement("input");a.style.position="absolute";a.style.opacity="0";document.body.appendChild(a)}a.style.left=c.left+"px";a.style.top=c.top+"px";a.style.display="";return a},doBlurInput:function(d){var c=d.target,f=this.focusedElement,a;if(f&&!this.isInputRegex.test(c.tagName)){a=this.getDummyInput();delete this.focusedElement;a.focus();setTimeout(function(){a.style.display="none"},100)}},hideKeyboardIfNeeded:function(){var a=arguments[arguments.length-1],c=this.focusedElement;if(c){delete this.focusedElement;a.pause();if(Ext.os.version.lt("4")){c.style.display="none"}else{c.blur()}setTimeout(function(){c.style.display="";a.resume()},1000)}},doFireOrientationChangeEvent:function(){var a=arguments[arguments.length-1];this.orientationChanging=true;a.pause();this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight();this.updateSize();a.firingArguments[1]=this.windowWidth;a.firingArguments[2]=this.windowHeight;a.resume();this.orientationChanging=false},function(){});return this},applyAutoMaximize:function(a){a=this.callParent(arguments);this.on("add","fixSize",this,{single:true});if(!a){this.on("ready","fixSize",this,{single:true});this.onAfter("orientationchange","doFixSize",this)}else{this.un("ready","fixSize",this);this.unAfter("orientationchange","doFixSize",this)}},fixSize:function(){this.doFixSize()},doFixSize:function(){this.setHeight(this.getWindowHeight())},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var d=this.stretchHeights,c=this.orientation,a;a=d[c];if(!a){d[c]=a=this.getActualWindowOuterHeight()}if(!this.addressBarHeight){this.addressBarHeight=a-this.getWindowHeight()}this.setHeight(a);var e=Ext.Function.bind(this.isHeightMaximized,this,[a]);this.scrollToTop();this.waitUntil(e,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a}},function(){if(!Ext.os.is.Android){return}var a=Ext.os.version,c=Ext.browser.userAgent,d=/(htc|desire|incredible|ADR6300)/i.test(c)&&a.lt("2.3");if(d){this.override({constructor:function(e){if(!e){e={}}e.autoMaximize=false;this.watchDogTick=Ext.Function.bind(this.watchDogTick,this);setInterval(this.watchDogTick,1000);return this.callParent([e])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var f=Ext.Date.now(),h=this.watchDogLastTick,e=f-h;if(e>=2000){return}return this.callParent(arguments)},doPreventZooming:function(){var f=Ext.Date.now(),h=this.watchDogLastTick,e=f-h;if(e>=2000){return}return this.callParent(arguments)}})}if(a.match("2")){this.override({onReady:function(){this.addWindowListener("resize",Ext.Function.bind(this.onWindowResize,this));this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var f=this.windowWidth,i=this.windowHeight,h=this.getWindowWidth(),e=this.getWindowHeight();if(this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&window.scrollY===0&&f===h&&e<i&&((e>=i-this.addressBarHeight)||!this.focusedElement)){this.scrollToTop()}},fixSize:function(){var e=this.getOrientation(),h=window.outerHeight,i=window.outerWidth,f;if(e==="landscape"&&(h<i)||e==="portrait"&&(h>=i)){f=this.getActualWindowOuterHeight()}else{f=this.getWindowHeight()}this.waitUntil(function(){return f>this.getWindowHeight()},this.doFixSize,this.doFixSize,50,1000)}})}else{if(a.gtEq("3.1")){this.override({isHeightMaximized:function(e){this.scrollToTop();return this.getWindowHeight()===e-1}})}else{if(a.match("3")){this.override({isHeightMaximized:function(){this.scrollToTop();return true}})}}}if(a.gtEq("4")){this.override({doBlurInput:Ext.emptyFn})}});Ext.define("Ext.viewport.Viewport",{requires:["Ext.viewport.Ios","Ext.viewport.Android"],constructor:function(c){var d=Ext.os.name,e,a;switch(d){case"Android":e="Android";break;case"iOS":e="Ios";break;default:e="Default"}a=Ext.create("Ext.viewport."+e,c);return a}});Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.mixin.Observable"},config:{refs:{},routes:{},control:{},before:{},application:{},stores:[],models:[],views:[]},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.call(this,a)},init:Ext.emptyFn,launch:Ext.emptyFn,redirectTo:function(a){return this.getApplication().redirectTo(a)},execute:function(c,a){c.setBeforeFilters(this.getBefore()[c.getAction()]);c.execute()},applyBefore:function(f){var e,a,d,c;for(a in f){e=Ext.Array.from(f[a]);d=e.length;for(c=0;c<d;c++){e[c]=this[e[c]]}f[a]=e}return f},applyControl:function(a){this.control(a,this);return a},applyRefs:function(a){this.ref(a);return a},applyRoutes:function(a){var h=this instanceof Ext.app.Application?this:this.getApplication(),d=h.getRouter(),c,f,e;for(f in a){c=a[f];e={controller:this.$className};if(Ext.isString(c)){e.action=c}else{Ext.apply(e,c)}d.connect(f,e)}return a},applyStores:function(a){return this.getFullyQualified(a,"store")},applyModels:function(a){return this.getFullyQualified(a,"model")},applyViews:function(a){return this.getFullyQualified(a,"view")},getFullyQualified:function(c,f){var h=c.length,a=this.getApplication().getName(),d,e;for(e=0;e<h;e++){d=c[e];if(Ext.isString(d)&&(Ext.Loader.getPrefix(d)===""||d===a)){c[e]=a+"."+f+"."+d}}return c},control:function(a){this.getApplication().control(a,this)},ref:function(c){var f,d,a,e;for(f in c){a=c[f];d="get"+Ext.String.capitalize(f);if(!this[d]){if(Ext.isString(c[f])){e={ref:f,selector:a}}else{e=c[f]}this[d]=Ext.Function.pass(this.getRef,[f,e],this)}this.references=this.references||[];this.references.push(f.toLowerCase())}},getRef:function(e,f,a){this.refCache=this.refCache||{};f=f||{};a=a||{};Ext.apply(f,a);if(f.forceCreate){return Ext.ComponentManager.create(f,"component")}var d=this,c=d.refCache[e];if(!c){d.refCache[e]=c=Ext.ComponentQuery.query(f.selector)[0];if(!c&&f.autoCreate){d.refCache[e]=c=Ext.ComponentManager.create(f,"component")}if(c){c.on("destroy",function(){d.refCache[e]=null})}}return c},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},},function(){});Ext.define("Ext.app.History",{mixins:["Ext.mixin.Observable"],config:{actions:[],updateUrl:true,token:""},constructor:function(a){if(Ext.feature.has.History){window.addEventListener("hashchange",Ext.bind(this.detectStateChange,this))}else{setInterval(Ext.bind(this.detectStateChange,this),50)}this.initConfig(a)},add:function(d,a){this.getActions().push(Ext.factory(d,Ext.app.Action));var c=d.getUrl();if(this.getUpdateUrl()){this.setToken(c);window.location.hash=c}if(a!==true){this.fireEvent("change",c)}this.setToken(c)},back:function(){this.getActions().pop().run()},applyToken:function(a){return a[0]=="#"?a.substr(1):a},detectStateChange:function(){var c=this.applyToken(window.location.hash),a=this.getToken();if(c!=a){this.onStateChange();this.setToken(c)}},onStateChange:function(){this.fireEvent("change",window.location.hash.substr(1))}});Ext.define("Ext.app.Profile",{mixins:{observable:"Ext.mixin.Observable"},config:{namespace:"auto",name:"auto",controllers:[],models:[],views:[],stores:[],application:null},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return false},launch:Ext.emptyFn,applyNamespace:function(a){if(a=="auto"){a=this.getName()}return a.toLowerCase()},applyName:function(a){if(a=="auto"){var c=this.$className.split(".");a=c[c.length-1]}return a},getDependencies:function(){var d=[],i=Ext.String.format,c=this.getApplication().getName(),e=this.getNamespace(),h={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()},f,j,a;for(f in h){j=[];Ext.each(h[f],function(k){if(Ext.isString(k)){if(Ext.isString(k)&&(Ext.Loader.getPrefix(k)===""||k===c)){k=c+"."+f+"."+e+"."+k}j.push(k);d.push(k)}},this);h[f]=j}h.all=d;return h}});Ext.define("Ext.app.Action",{config:{scope:null,application:null,controller:null,action:null,args:[],url:undefined,data:{},title:null,beforeFilters:[],currentFilterIndex:-1},constructor:function(a){this.initConfig(a);this.getUrl()},execute:function(){this.resume()},resume:function(){var c=this.getCurrentFilterIndex()+1,d=this.getBeforeFilters(),a=this.getController(),e=d[c];if(e){this.setCurrentFilterIndex(c);e.call(a,this)}else{a[this.getAction()].apply(a,this.getArgs())}},applyUrl:function(a){if(a===null||a===undefined){a=this.urlEncode()}return a},applyController:function(a){var d=this.getApplication(),c=d.getCurrentProfile();if(Ext.isString(a)){a=d.getController(a,c?c.getNamespace():null)}return a},urlEncode:function(){var a=this.getController(),c;if(a instanceof Ext.app.Controller){c=a.$className.split(".");a=c[c.length-1]}return a+"/"+this.getAction()}});Ext.define("Ext.app.Route",{config:{conditions:{},url:null,controller:null,action:null,initialized:false},constructor:function(a){this.initConfig(a)},recognize:function(c){if(!this.getInitialized()){this.initialize()}if(this.recognizes(c)){var d=this.matchesFor(c),a=c.match(this.matcherRegex);a.shift();return Ext.applyIf(d,{controller:this.getController(),action:this.getAction(),historyUrl:c,args:a})}},initialize:function(){this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);this.paramsInMatchString=this.getUrl().match(this.paramMatchingRegex)||[];this.matcherRegex=this.createMatcherRegex(this.getUrl());this.setInitialized(true)},recognizes:function(a){return this.matcherRegex.test(a)},matchesFor:function(c){var h={},f=this.paramsInMatchString,a=c.match(this.matcherRegex),e=f.length,d;a.shift();for(d=0;d<e;d++){h[f[d].replace(":","")]=a[d]}return h},argsFor:function(d){var c=[],h=this.paramsInMatchString,a=d.match(this.matcherRegex),f=h.length,e;a.shift();for(e=0;e<f;e++){c.push(h[e].replace(":",""));params[h[e].replace(":","")]=a[e]}return params},urlFor:function(c){var a=this.getUrl();for(var d in c){a=a.replace(":"+d,c[d])}return a},createMatcherRegex:function(a){var f=this.paramsInMatchString,e=f.length,c,d,h;for(c=0;c<e;c++){d=this.getConditions()[f[c]];h=Ext.util.Format.format("({0})",d||"[%a-zA-Z0-9-\\_\\s,]+");a=a.replace(new RegExp(f[c]),h)}return new RegExp("^"+a+"$")}});Ext.define("Ext.app.Router",{requires:["Ext.app.Route"],config:{routes:[],defaults:{action:"index"}},constructor:function(a){this.initConfig(a)},connect:function(c,d){d=Ext.apply({url:c},d||{},this.getDefaults());var a=Ext.create("Ext.app.Route",d);this.getRoutes().push(a);return a},recognize:function(d){var c=this.getRoutes(),f=c.length,e,a;for(e=0;e<f;e++){a=c[e].recognize(d);if(a!==undefined){return a}}return undefined},draw:function(a){a.call(this,this)},clear:function(){this.setRoutes([])}},function(){});Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.app.History","Ext.app.Profile","Ext.app.Router","Ext.app.Action"],config:{profiles:[],controllers:[],history:{},name:null,appFolder:"app",router:{},controllerInstances:[],profileInstances:[],currentProfile:null,launch:Ext.emptyFn,enableLoader:true,requires:[]},constructor:function(a){a=a||{};Ext.applyIf(a,{application:this});this.initConfig(a);for(var c in a){this[c]=a[c]}Ext.require(this.getRequires(),function(){if(this.getEnableLoader()!==false){Ext.require(this.getProfiles(),this.onProfilesLoaded,this)}},this)},dispatch:function(f,e){f=f||{};Ext.applyIf(f,{application:this});f=Ext.factory(f,Ext.app.Action);if(f){var d=this.getCurrentProfile(),c=d?d.getNamespace():undefined,a=this.getController(f.getController(),c);if(a){if(e!==false){this.getHistory().add(f,true)}a.execute(f)}}},redirectTo:function(d){if(Ext.data&&Ext.data.Model&&d instanceof Ext.data.Model){var a=d;d=a.toUrl()}var c=this.getRouter().recognize(d);if(c){c.url=d;if(a){c.data={};c.data.record=a}return this.dispatch(c)}},control:function(j,e){e=e||this;var k=this.getEventDispatcher(),i=(e)?e.getRefs():{},d,f,c,h,a;for(d in j){if(j.hasOwnProperty(d)){h=j[d];a=i[d];if(a){d=a.selector||a}for(f in h){c=h[f];if(Ext.isString(c)){c=e[c]}k.addListener("component",d,f,c,e)}}}},getController:function(c,e){var h=this.getControllerInstances(),a=this.getName(),f=Ext.String.format,d;if(c instanceof Ext.app.Controller){return c}if(h[c]){return h[c]}else{d=f("{0}.controller.{1}",a,c);e=f("{0}.controller.{1}.{2}",a,e,c);return h[e]||h[d]}},onProfilesLoaded:function(){var c=this.getProfiles(),f=c.length,j=[],e=this.gatherDependencies(),h,d,a;for(d=0;d<f;d++){j[d]=Ext.create(c[d],{application:this});a=j[d].getDependencies();e=e.concat(a.all);if(j[d].isActive()&&!h){h=j[d];this.setCurrentProfile(h);this.setControllers(this.getControllers().concat(a.controller));this.setModels(this.getModels().concat(a.model));this.setViews(this.getViews().concat(a.view));this.setStores(this.getStores().concat(a.store))}}this.setProfileInstances(j);Ext.require(e,this.loadControllerDependencies,this)},loadControllerDependencies:function(){this.instantiateControllers();var j=this.getControllerInstances(),h=[],d=[],f,c,a,e;for(e in j){c=j[e];a=c.getStores();d=d.concat(a);h=h.concat(c.getModels().concat(c.getViews()).concat(a))}this.setStores(this.getStores().concat(d));Ext.require(h,this.onDependenciesLoaded,this)},onDependenciesLoaded:function(){var d=this,c=this.getCurrentProfile(),f=this.getLaunch(),e,a;this.instantiateStores();e=this.getControllerInstances();for(a in e){e[a].init(this)}if(c){c.launch()}f.call(d);for(a in e){e[a].launch(this)}d.redirectTo(window.location.hash.substr(1))},gatherDependencies:function(){var a=this.getModels().concat(this.getViews()).concat(this.getControllers());Ext.each(this.getStores(),function(c){if(Ext.isString(c)){a.push(c)}},this);return a},instantiateStores:function(){var c=this.getStores(),h=c.length,d,a,e,j,f;for(f=0;f<h;f++){d=c[f];if(Ext.data&&Ext.data.Store&&!(d instanceof Ext.data.Store)){if(Ext.isString(d)){e=d;a=Ext.ClassManager.classes[d];d={xclass:d};if(a.prototype.defaultConfig.storeId===undefined){j=e.split(".");d.id=j[j.length-1]}}c[f]=Ext.factory(d,Ext.data.Store)}}this.setStores(c)},instantiateControllers:function(){var f=this.getControllers(),e={},d=f.length,a,c;for(c=0;c<d;c++){a=f[c];e[a]=Ext.create(a,{application:this})}return this.setControllerInstances(e)},applyControllers:function(a){return this.getFullyQualified(a,"controller")},applyProfiles:function(a){return this.getFullyQualified(a,"profile")},applyName:function(a){var c;if(a&&a.match(/ /g)){c=a;a=a.replace(/ /g,"")}return a},updateName:function(a){Ext.ClassManager.setNamespace(a+".app",this);if(!Ext.Loader.config.paths[a]){Ext.Loader.setPath(a,this.getAppFolder())}},applyRouter:function(a){return Ext.factory(a,Ext.app.Router,this.getRouter())},applyHistory:function(a){var c=Ext.factory(a,Ext.app.History,this.getHistory());c.on("change",this.onHistoryChange,this);return c},onHistoryChange:function(a){this.dispatch(this.getRouter().recognize(a),false)}},function(){});Ext.define("Ext.Button",{extend:"Ext.Component",xtype:"button",cachedConfig:{pressedCls:Ext.baseCSSPrefix+"button-pressing",badgeCls:Ext.baseCSSPrefix+"badge",hasBadgeCls:Ext.baseCSSPrefix+"hasbadge",labelCls:Ext.baseCSSPrefix+"button-label",iconMaskCls:Ext.baseCSSPrefix+"icon-mask",iconCls:null},config:{badgeText:null,text:null,icon:null,iconAlign:"left",pressedDelay:0,iconMask:null,handler:null,scope:null,autoEvent:null,ui:"normal",baseCls:Ext.baseCSSPrefix+"button"},template:[{tag:"span",reference:"badgeElement",hidden:true},{tag:"span",className:Ext.baseCSSPrefix+"button-icon",reference:"iconElement",hidden:true},{tag:"span",reference:"textElement",hidden:true}],initialize:function(){this.callParent();this.element.on({scope:this,tap:"onTap",touchstart:"onPress",touchend:"onRelease"})},updateBadgeText:function(d){var a=this.element,c=this.badgeElement;if(d){c.show();c.setText(d)}else{c.hide()}a[(d)?"addCls":"removeCls"](this.getHasBadgeCls())},updateText:function(c){var a=this.textElement;if(a){if(c){a.show();a.setHtml(c)}else{a.hide()}}},updateHtml:function(c){var a=this.textElement;if(c){a.show();a.setHtml(c)}else{a.hide()}},updateBadgeCls:function(c,a){this.badgeElement.replaceCls(a,c)},updateHasBadgeCls:function(c,d){var a=this.element;if(a.hasCls(d)){a.replaceCls(d,c)}},updateLabelCls:function(c,a){this.textElement.replaceCls(a,c)},updatePressedCls:function(c,d){var a=this.element;if(a.hasCls(d)){a.replaceCls(d,c)}},updateIcon:function(c){var d=this,a=d.iconElement;if(c){d.showIconElement();a.setStyle("background-image",c?"url("+c+")":"");d.refreshIconAlign();d.refreshIconMask()}else{d.hideIconElement();d.setIconAlign(false)}},updateIconCls:function(d,a){var e=this,c=e.iconElement;if(d){e.showIconElement();c.replaceCls(a,d);e.refreshIconAlign();e.refreshIconMask()}else{e.hideIconElement();e.setIconAlign(false)}},updateIconAlign:function(e,d){var c=this.element,a=Ext.baseCSSPrefix+"iconalign-";if(!this.getText()){e="center"}c.removeCls(a+"center");c.removeCls(a+d);if(this.getIcon()||this.getIconCls()){c.addCls(a+e)}},refreshIconAlign:function(){this.updateIconAlign(this.getIconAlign())},updateIconMaskCls:function(d,c){var a=this.iconElement;if(this.getIconMask()){a.replaceCls(c,d)}},updateIconMask:function(a){this.iconElement[a?"addCls":"removeCls"](this.getIconMaskCls())},refreshIconMask:function(){this.updateIconMask(this.getIconMask())},applyAutoEvent:function(c){var a=this;if(typeof c=="string"){c={name:c,scope:a.scope||a}}return c},updateAutoEvent:function(d){var a=d.name,c=d.scope;this.setHandler(function(){c.fireEvent(a,c,this)});this.setScope(c)},hideIconElement:function(){this.iconElement.hide()},showIconElement:function(){this.iconElement.show()},applyUi:function(a){if(a&&Ext.isString(a)){var c=a.split("-");if(c&&(c[1]=="back"||c[1]=="forward")){return c}}return a},getUi:function(){var a=this._ui;if(Ext.isArray(a)){return a.join("-")}return a},applyPressedDelay:function(a){if(Ext.isNumber(a)){return a}return(a)?100:0},onPress:function(){var d=this,a=d.element,e=d.getPressedDelay(),c=d.getPressedCls();if(!d.getDisabled()){if(e>0){d.pressedTimeout=setTimeout(function(){delete d.pressedTimeout;if(a){a.addCls(c)}},e)}else{a.addCls(c)}}},onRelease:function(a){this.fireAction("release",[this,a],"doRelease")},doRelease:function(a,c){if(!a.getDisabled()){if(a.hasOwnProperty("pressedTimeout")){clearTimeout(a.pressedTimeout);delete a.pressedTimeout}else{a.element.removeCls(a.getPressedCls())}}},onTap:function(a){if(this.getDisabled()){return false}this.fireAction("tap",[this,a],"doTap")},doTap:function(d,f){var c=d.getHandler(),a=d.getScope()||d;if(!c){return}if(typeof c=="string"){c=a[c]}f.preventDefault();c.apply(a,arguments)}},function(){});Ext.define("Ext.Title",{extend:"Ext.Component",xtype:"title",config:{baseCls:"x-title",title:""},updateTitle:function(a){this.setHtml(a)}});Ext.define("Ext.Spacer",{extend:"Ext.Component",alias:"widget.spacer",config:{},constructor:function(a){a=a||{};if(!a.width){a.flex=1}this.callParent([a])}});Ext.define("Ext.util.LineSegment",{requires:["Ext.util.Point"],constructor:function(c,a){var d=Ext.util.Point;this.point1=d.from(c);this.point2=d.from(a)},intersects:function(n){var q=this.point1,o=this.point2,k=n.point1,h=n.point2,e=q.x,c=o.x,a=k.x,s=h.x,r=q.y,p=o.y,m=k.y,j=h.y,i=(e-c)*(m-j)-(r-p)*(a-s),l,f;if(i==0){return null}l=((a-s)*(e*p-r*c)-(e-c)*(a*j-m*s))/i;f=((m-j)*(e*p-r*c)-(r-p)*(a*j-m*s))/i;if(l<Math.min(e,c)||l>Math.max(e,c)||l<Math.min(a,s)||l>Math.max(a,s)||f<Math.min(r,p)||f>Math.max(r,p)||f<Math.min(m,j)||f>Math.max(m,j)){return null}return new Ext.util.Point(l,f)},toString:function(){return this.point1.toString()+" "+this.point2.toString()}});Ext.define("Ext.Decorator",{extend:"Ext.Component",isDecorator:true,config:{component:{}},statics:{generateProxySetter:function(a){return function(d){var c=this.getComponent();c[a].call(c,d);return this}},generateProxyGetter:function(a){return function(){var c=this.getComponent();return c[a].call(c)}}},onClassExtended:function(d,f){if(!f.hasOwnProperty("proxyConfig")){return}var h=Ext.Class,k=f.proxyConfig,e=f.config;f.config=(e)?Ext.applyIf(e,k):k;var c,j,i,a;for(c in k){if(k.hasOwnProperty(c)){j=h.getConfigNameMap(c);i=j.set;a=j.get;f[i]=this.generateProxySetter(i);f[a]=this.generateProxyGetter(a)}}},applyComponent:function(a){return Ext.factory(a,Ext.Component)},updateComponent:function(a,c){if(c){if(this.isRendered()&&c.setRendered(false)){c.fireAction("renderedchange",[this,c,false],"doUnsetComponent",this,{args:[c]})}else{this.doUnsetComponent(c)}}if(a){if(this.isRendered()&&a.setRendered(true)){a.fireAction("renderedchange",[this,a,true],"doSetComponent",this,{args:[a]})}else{this.doSetComponent(a)}}},doUnsetComponent:function(a){if(a.renderElement.dom){this.innerElement.dom.removeChild(a.renderElement.dom)}},doSetComponent:function(a){if(a.renderElement.dom){this.innerElement.dom.appendChild(a.renderElement.dom)}},setRendered:function(c){var a;if(this.callParent(arguments)){a=this.getComponent();if(a){a.setRendered(c)}return true}return false},setDisabled:function(a){this.callParent(arguments);this.getComponent().setDisabled(a)},destroy:function(){Ext.destroy(this.getComponent());this.callParent()}});Ext.define("Ext.field.Input",{extend:"Ext.Component",xtype:"input",tag:"input",cachedConfig:{cls:Ext.baseCSSPrefix+"form-field",focusCls:Ext.baseCSSPrefix+"field-focus",maskCls:Ext.baseCSSPrefix+"field-mask",useMask:"auto",type:"text",checked:false},config:{baseCls:Ext.baseCSSPrefix+"field-input",name:null,value:null,isFocused:false,tabIndex:null,placeHolder:null,minValue:null,maxValue:null,stepValue:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,maxRows:null,startValue:false},getTemplate:function(){var a=[{reference:"input",tag:this.tag},{reference:"clearIcon",cls:"x-clear-icon"}];a.push({reference:"mask",classList:[this.config.maskCls]});return a},initElement:function(){var a=this;a.callParent();a.input.on({scope:a,keyup:"onKeyUp",focus:"onFocus",blur:"onBlur",paste:"onPaste"});a.mask.on({tap:"onMaskTap",scope:a});if(a.clearIcon){a.clearIcon.on({tap:"onClearIconTap",scope:a})}},applyUseMask:function(a){if(a==="auto"){a=Ext.os.is.iOS&&Ext.os.version.lt("5")}return Boolean(a)},updateUseMask:function(a){this.mask[a?"show":"hide"]()},updateFieldAttribute:function(c,d){var a=this.input;if(d){a.dom.setAttribute(c,d)}else{a.dom.removeAttribute(c)}},updateCls:function(c,a){this.input.addCls(Ext.baseCSSPrefix+"input-el");this.input.replaceCls(a,c)},updateType:function(a,d){var c=Ext.baseCSSPrefix+"input-";this.input.replaceCls(c+d,c+a);this.updateFieldAttribute("type",a)},updateName:function(a){this.updateFieldAttribute("name",a)},getValue:function(){var a=this.input;if(a){this._value=a.dom.value}return this._value},applyValue:function(a){return(Ext.isEmpty(a))?"":a},updateValue:function(c){var a=this.input;if(a){a.dom.value=c}},setValue:function(c){var a=this._value;this.updateValue(this.applyValue(c));c=this.getValue();if(String(c)!=String(a)&&this.initialized){this.onChange(this,c,a)}return this},updateTabIndex:function(a){this.updateFieldAttribute("tabIndex",a)},testAutoFn:function(a){return[true,"on"].indexOf(a)!==-1},updateMaxLength:function(a){this.updateFieldAttribute("maxlength",a)},updatePlaceHolder:function(a){this.updateFieldAttribute("placeholder",a)},applyAutoComplete:function(a){return this.testAutoFn(a)},updateAutoComplete:function(a){var c=a?"on":"off";this.updateFieldAttribute("autocomplete",c)},applyAutoCapitalize:function(a){return this.testAutoFn(a)},updateAutoCapitalize:function(c){var a=c?"on":"off";this.updateFieldAttribute("autocapitalize",a)},applyAutoCorrect:function(a){return this.testAutoFn(a)},updateAutoCorrect:function(a){var c=a?"on":"off";this.updateFieldAttribute("autocorrect",c)},updateMinValue:function(a){this.updateFieldAttribute("min",a)},updateMaxValue:function(a){this.updateFieldAttribute("max",a)},updateStepValue:function(a){this.updateFieldAttribute("step",a)},checkedRe:/^(true|1|on)/i,getChecked:function(){var a=this.input,c;if(a){c=a.dom.checked;this._checked=c}return c},applyChecked:function(a){return !!this.checkedRe.test(String(a))},setChecked:function(a){this.updateChecked(this.applyChecked(a));this._checked=a},updateChecked:function(a){this.input.dom.checked=a},updateReadOnly:function(a){this.updateFieldAttribute("readonly",a)},updateMaxRows:function(a){this.updateFieldAttribute("rows",a)},doSetDisabled:function(a){this.callParent(arguments);this.input.dom.disabled=a;if(!a){this.blur()}},isDirty:function(){if(this.getDisabled()){return false}return String(this.getValue())!==String(this.originalValue)},reset:function(){this.setValue(this.originalValue)},onMaskTap:function(a){this.fireAction("masktap",[this,a],"doMaskTap")},doMaskTap:function(a,c){if(a.getDisabled()){return false}a.maskCorrectionTimer=Ext.defer(a.showMask,1000,a);a.hideMask()},showMask:function(a){if(this.mask){this.mask.setStyle("display","block")}},hideMask:function(a){if(this.mask){this.mask.setStyle("display","none")}},focus:function(){var c=this,a=c.input;if(a&&a.dom.focus){a.dom.focus()}return c},blur:function(){var c=this,a=this.input;if(a&&a.dom.blur){a.dom.blur()}return c},select:function(){var c=this,a=c.input;if(a&&a.dom.setSelectionRange){a.dom.setSelectionRange(0,9999)}return c},onFocus:function(a){this.fireAction("focus",[a],"doFocus")},doFocus:function(c){var a=this;if(a.mask){if(a.maskCorrectionTimer){clearTimeout(a.maskCorrectionTimer)}a.hideMask()}if(!a.getIsFocused()){a.setIsFocused(true);a.setStartValue(a.getValue())}},onBlur:function(a){this.fireAction("blur",[a],"doBlur")},doBlur:function(f){var c=this,d=c.getValue(),a=c.getStartValue();c.setIsFocused(false);if(String(d)!=String(a)){c.onChange(c,d,a)}c.showMask()},onClearIconTap:function(a){this.fireEvent("clearicontap",this,a);if(Ext.os.is.Android){this.focus()}},onClick:function(a){this.fireEvent("click",a)},onChange:function(c,d,a){this.fireEvent("change",c,d,a)},onKeyUp:function(a){this.fireEvent("keyup",a)},onPaste:function(a){this.fireEvent("paste",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)}});Ext.define("Ext.Toolbar",{extend:"Ext.Container",xtype:"toolbar",requires:["Ext.Button","Ext.Title","Ext.Spacer"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+"toolbar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox",align:"center"}},constructor:function(a){a=a||{};if(a.docked=="left"||a.docked=="right"){a.layout={type:"vbox",align:"stretch"}}this.callParent([a])},applyTitle:function(a){if(typeof a=="string"){a={title:a,centered:true}}return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(c,a){if(c){this.add(c);this.getLayout().setItemFlex(c,1)}if(a){a.destroy()}},showTitle:function(){var a=this.getTitle();if(a){a.show()}},hideTitle:function(){var a=this.getTitle();if(a){a.hide()}}},function(){});Ext.define("Ext.Panel",{extend:"Ext.Container",requires:["Ext.util.LineSegment"],alternateClassName:"Ext.lib.Panel",xtype:"panel",isPanel:true,config:{baseCls:Ext.baseCSSPrefix+"panel",bodyPadding:null,bodyMargin:null,bodyBorder:null},getElementConfig:function(){var a=this.callParent();a.children.push({reference:"tipElement",className:"x-anchor",hidden:true});return a},applyBodyPadding:function(a){if(a===true){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyPadding:function(a){this.element.setStyle("padding",a)},applyBodyMargin:function(a){if(a===true){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyMargin:function(a){this.element.setStyle("margin",a)},applyBodyBorder:function(a){if(a===true){a=1}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyBorder:function(a){this.element.setStyle("border-width",a)},alignTo:function(o){var y=this.tipElement;y.hide();if(this.currentTipPosition){y.removeCls("x-anchor-"+this.currentTipPosition)}this.callParent(arguments);var h=Ext.util.LineSegment,e=o.isComponent?o.renderElement:o,a=this.renderElement,p=e.getPageBox(),m=a.getPageBox(),c=m.left,v=m.top,E=m.right,j=m.bottom,l=c+(m.width/2),k=v+(m.height/2),q={x:c,y:v},n={x:E,y:v},D={x:c,y:j},F={x:E,y:j},A={x:l,y:k},u=p.left+(p.width/2),s=p.top+(p.height/2),x={x:u,y:s},d=new h(A,x),i=0,C=0,f,B,t,r,z,w;y.setVisibility(false);y.show();f=y.getSize();B=f.width;t=f.height;if(d.intersects(new h(q,n))){z=Math.min(Math.max(u,c),E-(B/2));w=v;C=t+10;r="top"}else{if(d.intersects(new h(q,D))){z=c;w=Math.min(Math.max(s+(B/2),v),j);i=t+10;r="left"}else{if(d.intersects(new h(D,F))){z=Math.min(Math.max(u,c),E-(B/2));w=j;C=-t-10;r="bottom"}else{if(d.intersects(new h(n,F))){z=E;w=Math.min(Math.max(s-(B/2),v),j);i=-t-10;r="right"}}}}if(z||w){this.currentTipPosition=r;y.addCls("x-anchor-"+r);y.setLeft(z-c);y.setTop(w-v);y.setVisibility(true);this.setLeft(this.getLeft()+i);this.setTop(this.getTop()+C)}}});Ext.define("Ext.Sheet",{extend:"Ext.Panel",xtype:"sheet",requires:["Ext.fx.Animation"],config:{baseCls:Ext.baseCSSPrefix+"sheet",modal:true,centered:true,stretchX:null,stretchY:null,enter:"bottom",exit:"bottom",showAnimation:!Ext.os.is.Android2?{type:"slideIn",duration:250,easing:"ease-out"}:null,hideAnimation:!Ext.os.is.Android2?{type:"slideOut",duration:250,easing:"ease-in"}:null},applyHideAnimation:function(c){var a=this.getExit(),e=a;if(a===null){return null}if(c===true){c={type:"slideOut"}}if(Ext.isString(c)){c={type:c}}var d=Ext.factory(c,Ext.fx.Animation);if(d){if(a=="bottom"){e="down"}if(a=="top"){e="up"}d.setDirection(e)}return d},applyShowAnimation:function(a){var e=this.getEnter(),d=e;if(e===null){return null}if(a===true){a={type:"slideIn"}}if(Ext.isString(a)){a={type:a}}var c=Ext.factory(a,Ext.fx.Animation);if(c){if(e=="bottom"){d="down"}if(e=="top"){d="up"}c.setBefore({display:null});c.setReverse(true);c.setDirection(d)}return c},updateStretchX:function(a){this.getLeft();this.getRight();if(a){this.setLeft(0);this.setRight(0)}},updateStretchY:function(a){this.getTop();this.getBottom();if(a){this.setTop(0);this.setBottom(0)}}});Ext.define("Ext.field.Field",{extend:"Ext.Decorator",alternateClassName:"Ext.form.Field",xtype:"field",requires:["Ext.field.Input"],isField:true,isFormField:true,config:{baseCls:Ext.baseCSSPrefix+"field",label:null,labelAlign:"left",labelWidth:"30%",labelWrap:false,clearIcon:null,required:false,inputType:null,name:null,value:null,tabIndex:null},cachedConfig:{labelCls:null,requiredCls:Ext.baseCSSPrefix+"field-required",inputCls:null,bubbleEvents:["action"]},getElementConfig:function(){var a=Ext.baseCSSPrefix;return{reference:"element",className:"x-container",children:[{reference:"label",cls:a+"form-label",children:[{reference:"labelspan",tag:"span"}]},{reference:"innerElement",cls:a+"component-outer"}]}},updateLabel:function(c,e){var a=this.renderElement,d=Ext.baseCSSPrefix;if(c){this.labelspan.setHtml(c);a.addCls(d+"field-labeled")}else{a.removeCls(d+"field-labeled")}},updateLabelAlign:function(c,d){var a=this.renderElement,e=Ext.baseCSSPrefix;if(c){a.addCls(e+"label-align-"+c);if(c=="top"||c=="bottom"){this.label.setWidth("100%")}else{this.updateLabelWidth(this.getLabelWidth())}}if(d){a.removeCls(e+"label-align-"+d)}},updateLabelCls:function(a,c){if(a){this.label.addCls(a)}if(c){this.label.removeCls(c)}},updateLabelWidth:function(c){var a=this.getLabelAlign();if(c){if(a=="top"||a=="bottom"){this.label.setWidth("100%")}else{this.label.setWidth(c)}}},updateLabelWrap:function(c,d){var a=Ext.baseCSSPrefix+"form-label-nowrap";if(!c){this.addCls(a)}else{this.removeCls(a)}},updateRequired:function(a){this.renderElement[a?"addCls":"removeCls"](this.getRequiredCls())},updateRequiredCls:function(a,c){if(this.getRequired()){this.renderElement.replaceCls(c,a)}},initialize:function(){var a=this;a.callParent();a.doInitValue()},doInitValue:function(){this.originalValue=this.getInitialConfig().value},reset:function(){this.setValue(this.originalValue);return this},isDirty:function(){return false}},function(){});Ext.define("Ext.field.Text",{extend:"Ext.field.Field",xtype:"textfield",alternateClassName:"Ext.form.Text",config:{ui:"text",clearIcon:true,placeHolder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,component:{xtype:"input",type:"text"}},initialize:function(){var a=this;a.callParent();a.getComponent().on({scope:this,keyup:"onKeyUp",change:"onChange",focus:"onFocus",blur:"onBlur",paste:"onPaste",mousedown:"onMouseDown",clearicontap:"onClearIconTap"});a.originalValue=a.originalValue||"";a.getComponent().originalValue=a.originalValue;a.syncEmptyCls()},syncEmptyCls:function(){var c=(this._value)?this._value.length:false,a=Ext.baseCSSPrefix+"empty";if(c){this.removeCls(a)}else{this.addCls(a)}},updateValue:function(c){var a=this.getComponent();if(a){a.setValue(c)}this[c?"showClearIcon":"hideClearIcon"]();this.syncEmptyCls()},getValue:function(){var a=this;a._value=a.getComponent().getValue();a.syncEmptyCls();return a._value},updatePlaceHolder:function(a){this.getComponent().setPlaceHolder(a)},updateMaxLength:function(a){this.getComponent().setMaxLength(a)},updateAutoComplete:function(a){this.getComponent().setAutoComplete(a)},updateAutoCapitalize:function(a){this.getComponent().setAutoCapitalize(a)},updateAutoCorrect:function(a){this.getComponent().setAutoCorrect(a)},updateReadOnly:function(a){if(a){this.hideClearIcon()}else{this.showClearIcon()}this.getComponent().setReadOnly(a)},updateInputType:function(a){var c=this.getComponent();if(c){c.setType(a)}},updateName:function(a){var c=this.getComponent();if(c){c.setName(a)}},updateTabIndex:function(c){var a=this.getComponent();if(a){a.setTabIndex(c)}},updateInputCls:function(a,c){var d=this.getComponent();if(d){d.replaceCls(c,a)}},doSetDisabled:function(c){var d=this;d.callParent(arguments);var a=d.getComponent();if(a){a.setDisabled(c)}if(c){d.hideClearIcon()}else{d.showClearIcon()}},showClearIcon:function(){var a=this;if(!a.getDisabled()&&!a.getReadOnly()&&a.getValue()&&a.getClearIcon()){a.element.addCls(Ext.baseCSSPrefix+"field-clearable")}return a},hideClearIcon:function(){if(this.getClearIcon()){this.element.removeCls(Ext.baseCSSPrefix+"field-clearable")}},onKeyUp:function(a){this.fireAction("keyup",[this,a],"doKeyUp")},doKeyUp:function(a,d){var c=a.getValue();a[c?"showClearIcon":"hideClearIcon"]();if(d.browserEvent.keyCode===13){a.fireAction("action",[a,d],"doAction")}},doAction:function(){this.blur()},onClearIconTap:function(a){this.fireAction("clearicontap",[this,a],"doClearIconTap")},doClearIconTap:function(a,c){a.setValue("");a.getValue()},onChange:function(c,d,a){c.fireEvent("change",this,d,a)},onFocus:function(a){this.isFocused=true;this.fireEvent("focus",this,a)},onBlur:function(c){var a=this;this.isFocused=false;a.fireEvent("blur",a,c);setTimeout(function(){a.isFocused=false},50)},onPaste:function(a){this.fireEvent("paste",this,a)},onMouseDown:function(a){this.fireEvent("mousedown",this,a)},focus:function(){this.getComponent().focus();return this},blur:function(){this.getComponent().blur();return this},select:function(){this.getComponent().select();return this},reset:function(){this.getComponent().reset();this.getValue();this[this._value?"showClearIcon":"hideClearIcon"]()},isDirty:function(){var a=this.getComponent();if(a){return a.isDirty()}return false}});Ext.define("Ext.field.TextAreaInput",{extend:"Ext.field.Input",xtype:"textareainput",tag:"textarea"});Ext.define("Ext.field.TextArea",{extend:"Ext.field.Text",xtype:"textareafield",requires:["Ext.field.TextAreaInput"],alternateClassName:"Ext.form.TextArea",config:{ui:"textarea",autoCapitalize:false,component:{xtype:"textareainput"},maxRows:null},updateMaxRows:function(a){this.getComponent().setMaxRows(a)},doSetHeight:function(a){this.callParent(arguments);var c=this.getComponent();c.input.setHeight(a)},doSetWidth:function(c){this.callParent(arguments);var a=this.getComponent();a.input.setWidth(c)},doKeyUp:function(a){var c=a.getValue();a[c?"showClearIcon":"hideClearIcon"]()}});Ext.define("Ext.MessageBox",{extend:"Ext.Sheet",requires:["Ext.Toolbar","Ext.field.Text","Ext.field.TextArea"],config:{ui:"dark",baseCls:Ext.baseCSSPrefix+"msgbox",iconCls:null,showAnimation:{type:"popIn",duration:250,easing:"ease-out"},hideAnimation:{type:"popOut",duration:250,easing:"ease-out"},zIndex:10,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,layout:{type:"vbox",pack:"center"}},statics:{OK:{text:"OK",itemId:"ok",ui:"action"},YES:{text:"Yes",itemId:"yes",ui:"action"},NO:{text:"No",itemId:"no"},CANCEL:{text:"Cancel",itemId:"cancel"},INFO:Ext.baseCSSPrefix+"msgbox-info",WARNING:Ext.baseCSSPrefix+"msgbox-warning",QUESTION:Ext.baseCSSPrefix+"msgbox-question",ERROR:Ext.baseCSSPrefix+"msgbox-error",OKCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"OK",itemId:"ok",ui:"action"}],YESNOCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}],YESNO:[{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}]},constructor:function(a){a=a||{};if(a.hasOwnProperty("promptConfig")){Ext.applyIf(a,{prompt:a.promptConfig});delete a.promptConfig}if(a.hasOwnProperty("multiline")||a.hasOwnProperty("multiLine")){a.prompt=a.prompt||{};Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine});delete a.multiline;delete a.multiLine}this.defaultAllowedConfig={};var f=["ui","showAnimation","hideAnimation","title","message","prompt","iconCls","buttons","defaultTextHeight"],e=f.length,c,d;for(c=0;c<e;c++){d=f[c];this.defaultAllowedConfig[d]=this.defaultConfig[d]}this.callParent([a])},applyTitle:function(a){if(typeof a=="string"){a={title:a}}Ext.applyIf(a,{docked:"top",cls:this.getBaseCls()+"-title"});return Ext.factory(a,Ext.Toolbar,this.getTitle())},updateTitle:function(a){if(a){this.add(a)}},updateButtons:function(a){var c=this;if(a){if(c.buttonsToolbar){c.buttonsToolbar.removeAll();c.buttonsToolbar.setItems(a)}else{c.buttonsToolbar=Ext.create("Ext.Toolbar",{docked:"bottom",defaultType:"button",layout:{type:"hbox",pack:"center"},ui:c.getUi(),cls:c.getBaseCls()+"-buttons",items:a});c.add(c.buttonsToolbar)}}},applyMessage:function(a){a={html:a,cls:this.getBaseCls()+"-text"};return Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){if(a){this.add(a)}},getMessage:function(){if(this._message){return this._message.getHtml()}return null},applyIconCls:function(a){a={xtype:"component",docked:"left",width:40,height:40,baseCls:Ext.baseCSSPrefix+"icon",hidden:(a)?false:true,cls:a};return Ext.factory(a,Ext.Component,this._iconCls)},updateIconCls:function(a,c){var d=this;this.getTitle();this.getButtons();if(a&&!c){this.add(a)}else{this.remove(c)}},getIconCls:function(){var c=this._iconCls,a;if(c){a=c.getCls();return(a)?a[0]:null}return null},applyPrompt:function(a){if(a){var c={label:false};if(Ext.isObject(a)){Ext.apply(c,a)}if(c.multiLine){c.height=Ext.isNumber(c.multiLine)?parseFloat(c.multiLine):this.getDefaultTextHeight();return Ext.factory(c,Ext.field.TextArea,this.getPrompt())}else{return Ext.factory(c,Ext.field.Text,this.getPrompt())}}return a},updatePrompt:function(a,c){if(a){this.add(a)}if(c){this.remove(c)}},onClick:function(d){if(d){var c=d.config.userConfig||{},e=d.getInitialConfig(),a=this.getPrompt();if(typeof c.fn=="function"){this.on({hiddenchange:function(){c.fn.call(c.scope||null,e.itemId||e.text,a?a.getValue():null,c)},single:true,scope:this})}if(c.input){c.input.dom.blur()}}this.hide()},show:function(h){if(!this.getParent()&&Ext.Viewport){Ext.Viewport.add(this)}if(!h){return this.callParent()}var c=Ext.Object.merge({},{value:""},h);var f=h.buttons||Ext.MessageBox.OK||[],e=[],d=h;Ext.each(f,function(i){if(!i){return}e.push(Ext.apply({userConfig:d,scope:this,handler:"onClick"},i))},this);c.buttons=e;if(c.promptConfig){}c.prompt=(c.promptConfig||c.prompt)||null;if(c.multiLine){c.prompt=c.prompt||{};c.prompt.multiLine=c.multiLine;delete c.multiLine}c=Ext.merge({},this.defaultAllowedConfig,c);this.setConfig(c);var a=this.getPrompt();if(a){a.setValue(h.value||"")}this.callParent();return this},alert:function(e,d,c,a){return this.show({title:e,message:d,buttons:Ext.MessageBox.OK,promptConfig:false,fn:function(){if(c){c.apply(a,arguments)}},scope:a})},confirm:function(e,d,c,a){return this.show({title:e,message:d,buttons:Ext.MessageBox.YESNO,promptConfig:false,scope:a,fn:function(){if(c){c.apply(a,arguments)}}})},prompt:function(i,e,d,c,h,f,a){return this.show({title:i,message:e,buttons:Ext.MessageBox.OKCANCEL,scope:c,prompt:a||true,multiLine:h,value:f,fn:function(){if(d){d.apply(c,arguments)}}})}},function(a){Ext.onSetup(function(){Ext.Msg=new a})});Ext.define("photo.view.ModeSelection",{extend:"Ext.Panel",xtype:"modeselection",config:{layout:{align:"center",pack:"center",type:"vbox"},items:[{xtype:"button",action:"Distortion",width:200,text:"Distortion"},{xtype:"button",action:"Mix",width:200,text:"Mix"}]},destroy:function(){console.log("HOME destroy")}});Ext.define("photo.view.Distortion",{extend:"Ext.Panel",xtype:"distortion",config:{layout:"fit",items:[{xtype:"toolbar",docked:"bottom",items:[{xtype:"button",text:"camera",action:"Camera",iconCls:"star",iconMask:true},{xtype:"button",text:"album",action:"Album",iconCls:"action",iconMask:true},{xtype:"button",id:"useimage_btm",text:"useimage",action:"UseImage",disabled:true}]},{xtype:"panel",html:['<img id="backimg" style="width:100%; height:100%;" src="resources/images/back.jpg"></img>','<canvas id="mycanvas" style="width:100%; height:100%;">no canvas support</canvas>','<img id="myimg"></img>'].join("")},{id:"filterpanel",xtype:"panel",layout:"hbox",style:"display:none",height:60,draggable:true,html:['<img name="grayscale" style="width:60px; height:60px;" src="resources/images/filter/grayscale.png"></img>','<img name="brightness" style="width:60px; height:60px;" src="resources/images/filter/bright60.png"></img>','<img name="threshold" style="width:60px; height:60px;" src="resources/images/filter/threshold128.png"></img>'].join("")}],listeners:[{fn:"appyFilter",event:"tap",delegate:"#filterpanel",element:"element"},{fn:"useImage",event:"tap",delegate:"toolbar button[action=UseImage]",element:"element"}]},setSrc:function(c,d){c="resources/images/photo01.jpg";if(c==""||c==null){return}var a=this.getEl("myimg");a.src=c;a.onload=d.onloadImage(a);this.setVisible(a,false);this.setVisible(this.getEl("backimg"),false)},onloadImage:function(a){if(this.checkFaceDetection(a)){this.setFilter();this.drawFaceRectagle();Ext.getCmp("useimage_btm").enable()}else{alert("not detect face, select picture again!!!")}},setVisible:function(c,a){c.style.display=a?"block":"none"},getEl:function(a){return document.getElementById(a)},checkFaceDetection:function(c){PhotoData.init("mycanvas",c.width,c.height);PhotoData.getContext().drawImage(c,0,0);var a=ccv.detect_objects({canvas:ccv.grayscale(ccv.pre(c)),cascade:cascade,interval:5,min_neighbors:1});PhotoData.setFaceDetection(a);if(a.length==0){return false}else{return true}},drawFaceRectagle:function(){PhotoData.getContext().lineWidth=3;PhotoData.getContext().strokeStyle="#f00";var a=PhotoData.getFaceDetection();for(var c=0;c<a.length;c++){PhotoData.getContext().strokeRect(a[c].x,a[c].y,a[c].width,a[c].height)}a=null},useImage:function(){this.setVisible(this.getEl("filterpanel"),true)},setFilter:function(){PhotoData.setFilter("grayscale",Filters.filterImage(Filters.grayscale,PhotoData.getPixels()));PhotoData.setFilter("brightness",Filters.filterImage(Filters.brightness,PhotoData.getPixels(),60));PhotoData.setFilter("threshold",Filters.filterImage(Filters.threshold,PhotoData.getPixels(),128))},appyFilter:function(a){var c=a.target.name;PhotoData.getContext().putImageData(PhotoData.getFilter(c),0,0);c=null},destroy:function(){console.log("DISTORTION destroy");this.setVisible(this.getEl("backimg"),true);this.setVisible(this.getEl("filterpanel"),false);Ext.getCmp("useimage_btm").disable();if(PhotoData.getCanvas()){PhotoData.getContext().clearRect(0,0,PhotoData.getCanvas().width,PhotoData.getCanvas().height)}}});Ext.define("photo.view.Mix",{extend:"Ext.Panel",xtype:"mix",config:{style:"background-color:blue"},destroy:function(){console.log("MIX destroy")}});Ext.define("Ext.TitleBar",{extend:"Ext.Container",xtype:"titlebar",requires:["Ext.Button","Ext.Title","Ext.Spacer","Ext.util.SizeMonitor"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+"toolbar",cls:Ext.baseCSSPrefix+"navigation-bar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox"},items:[]},maxButtonWidth:"40%",constructor:function(){this.refreshTitlePosition=Ext.Function.createThrottled(this.refreshTitlePosition,50,this);this.callParent(arguments)},beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){delete this.applyItems;this.add(this.initialItems);delete this.initialItems;this.on({painted:"refreshTitlePosition",single:true})},applyInitialItems:function(a){var c=this,d=c.getDefaults()||{};c.initialItems=a;c.leftBox=c.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"},listeners:{resize:"refreshTitlePosition",scope:c}});c.spacer=c.add({xtype:"component",style:"position: relative",flex:1,listeners:{resize:"refreshTitlePosition",scope:c}});c.rightBox=c.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"},listeners:{resize:"refreshTitlePosition",scope:c}});c.titleComponent=c.add({xtype:"title",hidden:d.hidden,centered:true});c.doAdd=c.doBoxAdd;c.remove=c.doBoxRemove;c.doInsert=c.doBoxInsert},doBoxAdd:function(a){if(a.config.align=="right"){this.rightBox.add(a)}else{this.leftBox.add(a)}},doBoxRemove:function(a){if(a.config.align=="right"){this.rightBox.remove(a)}else{this.leftBox.remove(a)}},doBoxInsert:function(a,c){if(c.config.align=="right"){this.rightBox.add(c)}else{this.leftBox.add(c)}},getMaxButtonWidth:function(){var a=this.maxButtonWidth;if(Ext.isString(this.maxButtonWidth)){a=parseInt(a.replace("%",""),10);a=Math.round((this.element.getWidth()/100)*a)}return a},refreshTitlePosition:function(){var h=this.titleComponent.renderElement;h.setWidth(null);h.setLeft(null);var a=this.leftBox,d=a.down("button"),j,o;if(d){if(d.getWidth()==null){d.renderElement.setWidth("auto")}j=a.renderElement.getWidth();o=this.getMaxButtonWidth();if(j>o){d.renderElement.setWidth(o)}}var l=this.spacer.renderElement.getPageBox(),m=h.getPageBox(),i=m.width-l.width,e=m.left,k=m.right,c,n,f;if(i>0){h.setWidth(l.width);c=i/2;e+=c;k-=c}n=l.left-e;f=k-l.right;if(n>0){h.setLeft(n)}else{if(f>0){h.setLeft(-f)}}h.repaint()},updateTitle:function(a){this.titleComponent.setTitle(a);if(this.isPainted()){this.refreshTitlePosition()}}});Ext.define("Ext.device.communicator.Default",{SERVER_URL:"http://localhost:3000",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:"0",generateId:function(){return String(++this.idSeed)},getId:function(a){var c=a.$callbackId;if(!c){a.$callbackId=c=this.generateId()}return c},getCallbackId:function(j,e){var d=this.callbackIdMap,c=this.callbackDataMap,i,a,h,f;if(!e){a=this.globalScopeId}else{if(e.isIdentifiable){a=e.getId()}else{a=this.getId(e)}}h=this.getId(j);if(!d[a]){d[a]={}}if(!d[a][h]){i=this.generateId();f={callback:j,scope:e};d[a][h]=i;c[i]=f}return d[a][h]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(d,a){var c=this.getCallbackData(d);c.callback.apply(c.scope,a)},send:function(c){var e,d,a,f;if(!c){c={}}else{if(c.callbacks){e=c.callbacks;d=c.scope;delete c.callbacks;delete c.scope;for(a in e){if(e.hasOwnProperty(a)){f=e[a];if(typeof f=="function"){c[a]=this.getCallbackId(f,d)}}}}}this.doSend(c)},doSend:function(a){var c=new XMLHttpRequest();c.open("GET",this.SERVER_URL+"?"+Ext.Object.toQueryString(a),false);c.send(null)}});Ext.define("Ext.device.communicator.Android",{extend:"Ext.device.communicator.Default",doSend:function(a){window.Sencha.action(JSON.stringify(a))}});Ext.define("Ext.device.device.Abstract",{name:"not available",uuid:"anonymous",platform:Ext.os.name});Ext.define("Ext.device.camera.Abstract",{source:{library:0,camera:1,album:2},destination:{data:0,file:1},encoding:{jpeg:0,jpg:0,png:1},capture:Ext.emptyFn});Ext.define("photo.view.Main",{extend:"Ext.Panel",xtype:"main",requires:["Ext.TitleBar"],config:{layout:"card",items:[{xtype:"titlebar",docked:"top",title:"PhotoRevolution",items:[{xtype:"button",action:"Home",iconCls:"home",iconMask:true}]},{xtype:"modeselection"},{xtype:"distortion"},{xtype:"mix"}]}});Ext.define("Ext.device.Communicator",{requires:["Ext.device.communicator.Default","Ext.device.communicator.Android"],singleton:true,constructor:function(){if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}});Ext.define("Ext.device.device.PhoneGap",{extend:"Ext.device.device.Abstract",constructor:function(){this.name=device.name;this.uuid=device.uuid;this.platform=device.platformName||Ext.os.name}});Ext.define("Ext.device.device.Sencha",{extend:"Ext.device.device.Abstract",constructor:function(){this.name=device.name;this.uuid=device.uuid;this.platform=device.platformName||Ext.os.name}});Ext.define("Ext.device.device.Simulator",{extend:"Ext.device.device.Abstract"});Ext.define("Ext.device.Device",{singleton:true,requires:["Ext.device.Communicator","Ext.device.device.PhoneGap","Ext.device.device.Sencha","Ext.device.device.Simulator"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create("Ext.device.device.PhoneGap")}else{return Ext.create("Ext.device.device.Sencha")}}else{return Ext.create("Ext.device.device.Simulator")}}});Ext.define("Ext.device.camera.PhoneGap",{extend:"Ext.device.camera.Abstract",capture:function(l){var j=l.success,f=l.failure,n=l.scope,c=this.source,h=this.destination,k=this.encoding,a=l.source,m=l.destination,d=l.encoding,o={};if(n){j=Ext.Function.bind(j,n);f=Ext.Function.bind(f,n)}if(a!==undefined){o.sourceType=c.hasOwnProperty(a)?c[a]:a}if(m!==undefined){o.destinationType=h.hasOwnProperty(m)?h[m]:m}if(d!==undefined){o.encodingType=k.hasOwnProperty(d)?k[d]:d}if("quality" in l){o.quality=l.quality}if("width" in l){o.targetWidth=l.width}if("height" in l){o.targetHeight=l.height}try{navigator.camera.getPicture(j,f,o)}catch(i){alert(i)}}});Ext.define("Ext.device.camera.Sencha",{extend:"Ext.device.camera.Abstract",requires:["Ext.device.Communicator"],capture:function(e){var d=this.source,c=this.destination,h=this.encoding,i=e.source,a=e.destination,f=e.encoding;if(d.hasOwnProperty(i)){i=d[i]}if(c.hasOwnProperty(a)){a=c[a]}if(h.hasOwnProperty(f)){f=h[f]}Ext.device.Communicator.send({command:"Camera#capture",callbacks:{success:e.success,failure:e.failure},scope:e.scope,quality:e.quality,width:e.width,height:e.height,source:i,destination:a,encoding:f})}});Ext.define("Ext.device.camera.Simulator",{extend:"Ext.device.camera.Abstract",config:{samples:[{success:"http://www.sencha.com/img/sencha-large.png"}]},constructor:function(a){this.initConfig(a)},updateSamples:function(a){this.sampleIndex=0},capture:function(e){var d=this.sampleIndex,c=this.getSamples(),i=c.length,h=c[d],f=e.scope,j=e.success,a=e.failure;if("success" in h){if(j){j.call(f,h.success)}}else{if(a){a.call(f,h.failure)}}if(++d>i-1){d=0}this.sampleIndex=d}});Ext.define("Ext.device.Camera",{singleton:true,requires:["Ext.device.Communicator","Ext.device.camera.PhoneGap","Ext.device.camera.Sencha","Ext.device.camera.Simulator"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create("Ext.device.camera.PhoneGap")}else{return Ext.create("Ext.device.camera.Sencha")}}else{return Ext.create("Ext.device.camera.Simulator")}}});Ext.define("photo.controller.MainController",{extend:"Ext.app.Controller",requires:["Ext.device.Device","Ext.device.Camera"],config:{refs:{main:"main",titlebar:"titlebar",home:"modeselection",distortion:"distortion",mix:"mix"},control:{"modeselection button[action=Distortion]":{tap:"onSetPage"},"modeselection button[action=Mix]":{tap:"onSetPage"},"titlebar button[action=Home]":{tap:"onSetPage"},"toolbar button[action=Camera]":{tap:"onClickCamera"},"toolbar button[action=Album]":{tap:"onClickAlbum"}}},onSetPage:function(a,c){this.getMain().getActiveItem().destroy();this.getTitlebar().setTitle(a._text);this.getMain().setActiveItem(this["get"+a.action]())},onClickCamera:function(a,c){this.onNativeCamera("camera","file")},onClickAlbum:function(a,c){this.onNativeCamera("album","file")},onNativeCamera:function(d,a){var c=this.getMain().getActiveItem();Ext.device.Camera.capture({success:function(e){c.setSrc(e,c)},quality:75,source:d,destination:a})}});var PhotoData={_c:null,_ctx:null,_face:null,_filter:{},init:function(d,a,c){this.setCanvas(d);this.getCanvas().width=a;this.getCanvas().height=c;this.setContext()},setCanvas:function(a){if(this._c){return}this._c=document.getElementById(a)},getCanvas:function(){return this._c},setContext:function(){this._ctx=this._c.getContext("2d")},getContext:function(){return this._ctx},getPixels:function(){return this._ctx.getImageData(0,0,this._c.width,this._c.height)},setFaceDetection:function(a){this._face=a},getFaceDetection:function(){return this._face},setFilter:function(c,a){this._filter[c]=a},getFilter:function(a){return this._filter[a]}};var KernalData={softBlur:{factor:1,bias:0,kernel:[[0,0.2,0],[0.2,0.2,0.2],[0,0.2,0]]},blur:{factor:1/13,bias:0,kernel:[[0,0,1,0,0],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0]]},motionBlur:{factor:1/9,bias:0,kernel:[[1,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,1]]},edgesHorizontal:{factor:1,bias:0,kernel:[[0,0,0,0,0],[0,0,0,0,0],[-1,-1,2,0,0],[0,0,0,0,0],[0,0,0,0,0]]},edgesVertical:{factor:1,bias:0,kernel:[[0,0,-1,0,0],[0,0,-1,0,0],[0,0,4,0,0],[0,0,-1,0,0],[0,0,-1,0,0]]},edges:{factor:1,bias:0,kernel:[[-1,0,0,0,0],[0,-2,0,0,0],[0,0,6,0,0],[0,0,0,-2,0],[0,0,0,0,-1]]},edgesSharpen:{factor:1,bias:0,kernel:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]]},sharpen:{factor:1,bias:0,kernel:[[-1,-1,-1],[-1,9,-1],[-1,-1,-1]]},softSharpen:{factor:1/8,bias:0,kernel:[[-1,-1,-1,-1,-1],[-1,2,2,2,-1],[-1,2,8,2,-1],[-1,2,2,2,-1],[-1,-1,-1,-1,-1]]},sharpenEdges:{factor:1,bias:0,kernel:[[1,1,1],[1,-7,1],[1,1,1]]},emboss:{factor:1,bias:128,kernel:[[-1,-1,0],[-1,0,1],[0,1,1]]},strongEmboss:{factor:1,bias:128,kernel:[[-1,-1,-1,-1,0],[-1,-1,-1,0,1],[-1,-1,0,1,1],[-1,0,1,1,1],[0,1,1,1,1]]}};var Filters={filterImage:function(d,f,e){var a=[f];for(var c=2;c<arguments.length;c++){a.push(arguments[c])}return d.apply(this,a)},grayscale:function(l,e){var k=l.data;for(var f=0;f<k.length;f+=4){var j=k[f+0];var h=k[f+1];var a=k[f+2];var c=0.2126*j+0.7152*h+0.0722*a;k[f]=k[f+1]=k[f+2]=c}return l},brightness:function(f,a){var e=f.data;for(var c=0;c<e.length;c+=4){e[c+0]+=a;e[c+1]+=a;e[c+2]+=a}return f},threshold:function(l,c){var k=l.data;for(var f=0;f<k.length;f+=4){var j=k[f+0];var h=k[f+1];var a=k[f+2];var e=(0.2126*j+0.7152*h+0.0722*a>=c)?255:0;k[f+0]=k[f+1]=k[f+2]=e}return l},convolute:function(q,l,f,p,e){var u=q.data;var n=l.data;var k=q.width;var t=q.height;var s=kernelHeight=f.length;var m;for(var j=0;j<k;j++){for(var i=0;i<t;i++){var o=g=b=0;for(var z=0;z<s;filterX++){for(var v=0;v<kernelHeight;v++){var c=Math.round((j-s/2+z+k)%k);var a=Math.round((i-kernelHeight/2+v+t)%t);m=(c+a*k)*4;o+=u[m+0]*f[z][v];g+=u[m+1]*f[z][v];b+=u[m+2]*f[z][v]}}m=(j+i*k)*4;n[m+0]=Math.min(Math.max(parseInt(p*o+e,10),0),255);n[m+1]=Math.min(Math.max(parseInt(p*g+e,10),0),255);n[m+2]=Math.min(Math.max(parseInt(p*b+e,10),0),255)}}return n}};